import{a as ll,b as Jd,c as tm,d as em,e as im,f as nm,i as om,j as Ee,k as Xt,l as ds,n as rm}from"./chunk-XEMDJRHI.js";import{$ as oo,$a as Qm,$b as _l,A as _m,Aa as Lm,Ab as ur,Ac as Ih,B as bm,Ba as be,Bb as uh,C as _e,Ca as co,Cb as fh,Cc as Ah,D as zi,Da as dr,Db as ph,E as vm,Ea as Me,Eb as gh,F as li,Fa as Vm,Fb as _h,G as rr,Ga as Nm,Gb as mo,H as xn,Ha as ki,Hb as fr,I as ym,Ia as Bm,Ib as bh,J as xm,Ja as zm,Jb as gl,K as Ye,Ka as jm,Kb as vh,L as wn,La as Gi,Lb as ho,M as wm,Ma as di,Mb as ks,N as no,Na as _s,Nb as qe,O as hs,Oa as Gm,Ob as Ss,P as us,Pa as ul,Pb as oe,Q as Cm,Qa as Um,Qb as kn,R as km,Ra as mi,Rb as ve,S as Sm,Sa as Wm,Sb as ye,T as cl,Ta as Hm,Tb as Sn,U as dl,Ua as Xm,Ub as En,V as fs,Va as Ym,Vb as Mn,W as Ci,Wa as qm,Wb as Ui,X as ps,Xa as Zm,Xb as Dn,Y as ml,Ya as $m,Yb as Ei,Z as ci,Za as Km,Zb as Tn,_ as ie,_a as bs,_b as yh,a as gn,aa as Em,ab as Jm,ac as xh,b as xi,ba as Mm,bb as Si,bc as wh,c as wi,ca as sr,cb as mr,cc as pr,d as sm,da as ar,db as hr,dc as Wi,e as eo,ea as Dm,eb as vs,ec as uo,f as am,fa as me,fb as ys,fc as Ze,g as lm,ga as gs,gb as th,gc as Es,h as de,ha as Tm,hb as eh,hc as re,i as ai,ia as Ve,ib as ih,ic as Ch,j as cm,ja as ro,jb as qt,jc as Ms,k as dm,ka as so,kb as nh,kc as kh,l as _n,la as Rm,lb as oh,lc as bl,m as mm,ma as Im,mb as xs,mc as Sh,n as Xe,na as Am,nb as rh,nc as Eh,o as ms,oa as Fm,ob as sh,oc as fo,p as hm,pa as Om,pb as ah,pc as Lt,q as um,qa as hl,qb as lh,qc as $e,r as fm,ra as ao,rb as ch,rc as Ds,s as pm,sa as he,sb as fl,sc as Ts,t as bn,ta as Cn,tb as dh,tc as Rs,u as io,ua as ne,ub as Ne,uc as Mh,v as vn,va as ji,vb as ws,vc as gr,w as yn,wa as lr,wb as Cs,wc as Dh,x as or,xa as Pm,xb as pl,y as wt,ya as lo,yb as mh,yc as Th,z as gm,za as cr,zb as hh,zc as Rh}from"./chunk-FZEC7TFF.js";import{$a as j,A as nl,Aa as Nd,Bb as H,Cb as X,D as ns,Db as jt,E as Pe,Eb as at,F as er,Fb as un,Gb as ce,Hb as dt,Ib as mt,J as ol,Jb as Hd,Kb as qn,L as rl,Lb as fn,M as os,Ma as L,Mb as Zn,N as He,Nb as ir,O as Xn,Ob as $,P as Qt,Pb as pn,Qa as ge,Qb as z,R as rs,Ra as ri,Rb as $n,Sa as Ce,Sb as Xd,T as we,Ta as zt,Tb as Kn,U as Q,Ua as Et,Ub as Qn,V as Vt,Va as Yn,Vb as Jn,Wa as al,Wb as It,X as B,Xb as Yd,Yb as qd,Z as f,Za as it,Zb as to,_a as Nt,a as Y,aa as ss,b as Kt,bb as Bd,bc as J,ca as rt,cb as _t,cc as Bi,da as st,db as ke,dc as Zd,e as Oi,ea as sl,fa as bt,fb as zd,fc as Ht,g as ni,ga as Dt,gb as jd,gc as $d,h as Z,ha as oi,hc as nr,i as Jr,ic as ee,j as il,ja as xt,jb as cs,k as Fd,ka as K,kb as kt,kc as yt,l as Pi,lb as ut,lc as Se,m as ts,mb as ft,mc as Kd,nb as Gd,nc as Qd,oa as nt,ob as Ud,pb as Wd,q as es,qa as vt,qb as pt,r as Oe,ra as Wt,rb as w,s as Od,sa as pe,sb as E,ta as te,tb as St,u as Pd,ua as q,ub as Vi,v as is,vb as Ni,w as Ld,wa as as,wb as Le,x as Hn,xb as Yt,y as Li,ya as Vd,yb as si,z as Mt,za as ls}from"./chunk-O6EHPXKY.js";var Bh=(()=>{class o{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||o)(Et(zt),Et(q))};static \u0275dir=j({type:o})}return o})(),zh=(()=>{class o extends Bh{static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,features:[_t]})}return o})(),Yi=new B("");var t_={provide:Yi,useExisting:we(()=>_o),multi:!0};function e_(){let o=ll()?ll().getUserAgent():"";return/android (\d+)/.test(o.toLowerCase())}var i_=new B(""),_o=(()=>{class o extends Bh{_compositionMode;_composing=!1;constructor(t,i,n){super(t,i),this._compositionMode=n,this._compositionMode==null&&(this._compositionMode=!e_())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||o)(Et(zt),Et(q),Et(i_,8))};static \u0275dir=j({type:o,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&H("input",function(s){return n._handleInput(s.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(s){return n._compositionEnd(s.target.value)})},standalone:!1,features:[It([t_]),_t]})}return o})();function yl(o){return o==null||xl(o)===0}function xl(o){return o==null?null:Array.isArray(o)||typeof o=="string"?o.length:o instanceof Set?o.size:null}var bo=new B(""),Us=new B(""),n_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rn=class{static min(e){return o_(e)}static max(e){return r_(e)}static required(e){return s_(e)}static requiredTrue(e){return a_(e)}static email(e){return l_(e)}static minLength(e){return c_(e)}static maxLength(e){return d_(e)}static pattern(e){return m_(e)}static nullValidator(e){return jh()}static compose(e){return Yh(e)}static composeAsync(e){return qh(e)}};function o_(o){return e=>{if(e.value==null||o==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<o?{min:{min:o,actual:e.value}}:null}}function r_(o){return e=>{if(e.value==null||o==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>o?{max:{max:o,actual:e.value}}:null}}function s_(o){return yl(o.value)?{required:!0}:null}function a_(o){return o.value===!0?null:{required:!0}}function l_(o){return yl(o.value)||n_.test(o.value)?null:{email:!0}}function c_(o){return e=>{let t=e.value?.length??xl(e.value);return t===null||t===0?null:t<o?{minlength:{requiredLength:o,actualLength:t}}:null}}function d_(o){return e=>{let t=e.value?.length??xl(e.value);return t!==null&&t>o?{maxlength:{requiredLength:o,actualLength:t}}:null}}function m_(o){if(!o)return jh;let e,t;return typeof o=="string"?(t="",o.charAt(0)!=="^"&&(t+="^"),t+=o,o.charAt(o.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=o.toString(),e=o),i=>{if(yl(i.value))return null;let n=i.value;return e.test(n)?null:{pattern:{requiredPattern:t,actualValue:n}}}}function jh(o){return null}function Gh(o){return o!=null}function Uh(o){return jd(o)?Pi(o):o}function Wh(o){let e={};return o.forEach(t=>{e=t!=null?Y(Y({},e),t):e}),Object.keys(e).length===0?null:e}function Hh(o,e){return e.map(t=>t(o))}function h_(o){return!o.validate}function Xh(o){return o.map(e=>h_(e)?e:t=>e.validate(t))}function Yh(o){if(!o)return null;let e=o.filter(Gh);return e.length==0?null:function(t){return Wh(Hh(t,e))}}function wl(o){return o!=null?Yh(Xh(o)):null}function qh(o){if(!o)return null;let e=o.filter(Gh);return e.length==0?null:function(t){let i=Hh(t,e).map(Uh);return Ld(i).pipe(Oe(Wh))}}function Cl(o){return o!=null?qh(Xh(o)):null}function Fh(o,e){return o===null?[e]:Array.isArray(o)?[...o,e]:[o,e]}function Zh(o){return o._rawValidators}function $h(o){return o._rawAsyncValidators}function vl(o){return o?Array.isArray(o)?o:[o]:[]}function As(o,e){return Array.isArray(o)?o.includes(e):o===e}function Oh(o,e){let t=vl(e);return vl(o).forEach(n=>{As(t,n)||t.push(n)}),t}function Ph(o,e){return vl(e).filter(t=>!As(o,t))}var Fs=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Hi=class extends Fs{name;get formDirective(){return null}get path(){return null}},Mi=class extends Fs{_parent=null;name=null;valueAccessor=null},Os=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ws=(()=>{class o extends Os{constructor(t){super(t)}static \u0275fac=function(i){return new(i||o)(Et(Mi,2))};static \u0275dir=j({type:o,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&$("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},standalone:!1,features:[_t]})}return o})(),Kh=(()=>{class o extends Os{constructor(t){super(t)}static \u0275fac=function(i){return new(i||o)(Et(Hi,10))};static \u0275dir=j({type:o,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){i&2&&$("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},standalone:!1,features:[_t]})}return o})();var _r="VALID",Is="INVALID",po="PENDING",br="DISABLED",Xi=class{},Ps=class extends Xi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},yr=class extends Xi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},xr=class extends Xi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},go=class extends Xi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ls=class extends Xi{source;constructor(e){super(),this.source=e}},Vs=class extends Xi{source;constructor(e){super(),this.source=e}};function Qh(o){return(Hs(o)?o.validators:o)||null}function u_(o){return Array.isArray(o)?wl(o):o||null}function Jh(o,e){return(Hs(e)?e.asyncValidators:o)||null}function f_(o){return Array.isArray(o)?Cl(o):o||null}function Hs(o){return o!=null&&!Array.isArray(o)&&typeof o=="object"}function p_(o,e,t){let i=o.controls;if(!(e?Object.keys(i):i).length)throw new rs(1e3,"");if(!i[t])throw new rs(1001,"")}function g_(o,e,t){o._forEachChild((i,n)=>{if(t[n]===void 0)throw new rs(1002,"")})}var Ns=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wt(this.statusReactive)}set status(e){Wt(()=>this.statusReactive.set(e))}_status=J(()=>this.statusReactive());statusReactive=nt(void 0);get valid(){return this.status===_r}get invalid(){return this.status===Is}get pending(){return this.status==po}get disabled(){return this.status===br}get enabled(){return this.status!==br}errors;get pristine(){return Wt(this.pristineReactive)}set pristine(e){Wt(()=>this.pristineReactive.set(e))}_pristine=J(()=>this.pristineReactive());pristineReactive=nt(!0);get dirty(){return!this.pristine}get touched(){return Wt(this.touchedReactive)}set touched(e){Wt(()=>this.touchedReactive.set(e))}_touched=J(()=>this.touchedReactive());touchedReactive=nt(!1);get untouched(){return!this.touched}_events=new Z;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Oh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Oh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ph(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ph(e,this._rawAsyncValidators))}hasValidator(e){return As(this._rawValidators,e)}hasAsyncValidator(e){return As(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Kt(Y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new xr(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new xr(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Kt(Y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new yr(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new yr(!0,i))}markAsPending(e={}){this.status=po;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new go(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Kt(Y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=br,this.errors=null,this._forEachChild(n=>{n.disable(Kt(Y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ps(this.value,i)),this._events.next(new go(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Kt(Y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_r,this._forEachChild(i=>{i.enable(Kt(Y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Kt(Y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_r||this.status===po)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ps(this.value,t)),this._events.next(new go(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Kt(Y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?br:_r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=po,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=Uh(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,n)=>i&&i._find(n),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new go(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?br:this.errors?Is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(po)?po:this._anyControlsHaveStatus(Is)?Is:_r}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new yr(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xr(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hs(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u_(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}},Bs=class extends Ns{constructor(e,t,i){super(Qh(t),Jh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){g_(this,!0,e),Object.keys(e).forEach(i=>{p_(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e?e[n]:null,Kt(Y({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Vs(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,n)=>((i.enabled||this.disabled)&&(t[n]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((n,r)=>{i=t(i,n,r)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vo=new B("",{factory:()=>Xs}),Xs="always";function __(o,e){return[...e.path,o]}function wr(o,e,t=Xs){kl(o,e),e.valueAccessor.writeValue(o.value),(o.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(o.disabled),v_(o,e),x_(o,e),y_(o,e),b_(o,e)}function zs(o,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Gs(o,e),o&&(e._invokeOnDestroyCallbacks(),o._registerOnCollectionChange(()=>{}))}function js(o,e){o.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b_(o,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};o.registerOnDisabledChange(t),e._registerOnDestroy(()=>{o._unregisterOnDisabledChange(t)})}}function kl(o,e){let t=Zh(o);e.validator!==null?o.setValidators(Fh(t,e.validator)):typeof t=="function"&&o.setValidators([t]);let i=$h(o);e.asyncValidator!==null?o.setAsyncValidators(Fh(i,e.asyncValidator)):typeof i=="function"&&o.setAsyncValidators([i]);let n=()=>o.updateValueAndValidity();js(e._rawValidators,n),js(e._rawAsyncValidators,n)}function Gs(o,e){let t=!1;if(o!==null){if(e.validator!==null){let n=Zh(o);if(Array.isArray(n)&&n.length>0){let r=n.filter(s=>s!==e.validator);r.length!==n.length&&(t=!0,o.setValidators(r))}}if(e.asyncValidator!==null){let n=$h(o);if(Array.isArray(n)&&n.length>0){let r=n.filter(s=>s!==e.asyncValidator);r.length!==n.length&&(t=!0,o.setAsyncValidators(r))}}}let i=()=>{};return js(e._rawValidators,i),js(e._rawAsyncValidators,i),t}function v_(o,e){e.valueAccessor.registerOnChange(t=>{o._pendingValue=t,o._pendingChange=!0,o._pendingDirty=!0,o.updateOn==="change"&&tu(o,e)})}function y_(o,e){e.valueAccessor.registerOnTouched(()=>{o._pendingTouched=!0,o.updateOn==="blur"&&o._pendingChange&&tu(o,e),o.updateOn!=="submit"&&o.markAsTouched()})}function tu(o,e){o._pendingDirty&&o.markAsDirty(),o.setValue(o._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1}function x_(o,e){let t=(i,n)=>{e.valueAccessor.writeValue(i),n&&e.viewToModelUpdate(i)};o.registerOnChange(t),e._registerOnDestroy(()=>{o._unregisterOnChange(t)})}function eu(o,e){o==null,kl(o,e)}function w_(o,e){return Gs(o,e)}function iu(o,e){if(!o.hasOwnProperty("model"))return!1;let t=o.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function C_(o){return Object.getPrototypeOf(o.constructor)===zh}function nu(o,e){o._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ou(o,e){if(!e)return null;Array.isArray(e);let t,i,n;return e.forEach(r=>{r.constructor===_o?t=r:C_(r)?i=r:n=r}),n||i||t||null}function k_(o,e){let t=o.indexOf(e);t>-1&&o.splice(t,1)}var S_={provide:Hi,useExisting:we(()=>Sl)},vr=Promise.resolve(),Sl=(()=>{class o extends Hi{callSetDisabledState;get submitted(){return Wt(this.submittedReactive)}_submitted=J(()=>this.submittedReactive());submittedReactive=nt(!1);_directives=new Set;form;ngSubmit=new xt;options;constructor(t,i,n){super(),this.callSetDisabledState=n,this.form=new Bs({},wl(t),Cl(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vr.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),wr(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vr.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vr.then(()=>{let i=this._findContainer(t.path),n=new Bs({});eu(n,t),i.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vr.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vr.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nu(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ls(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||o)(Et(bo,10),Et(Us,10),Et(vo,8))};static \u0275dir=j({type:o,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,n){i&1&&H("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[It([S_]),_t]})}return o})();function Lh(o,e){let t=o.indexOf(e);t>-1&&o.splice(t,1)}function Vh(o){return typeof o=="object"&&o!==null&&Object.keys(o).length===2&&"value"in o&&"disabled"in o}var Ys=class extends Ns{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Qh(t),Jh(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hs(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Vh(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Vs(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vh(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var E_=o=>o instanceof Ys;var M_={provide:Mi,useExisting:we(()=>El)},Nh=Promise.resolve(),El=(()=>{class o extends Mi{_changeDetectorRef;callSetDisabledState;control=new Ys;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new xt;constructor(t,i,n,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=ou(this,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iu(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Nh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,n=i!==0&&yt(i);Nh.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?__(t,this._parent):[t]}static \u0275fac=function(i){return new(i||o)(Et(Hi,9),Et(bo,10),Et(Us,10),Et(Yi,10),Et(ee,8),Et(vo,8))};static \u0275dir=j({type:o,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[It([M_]),_t,pe]})}return o})();var ru=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return o})(),D_={provide:Yi,useExisting:we(()=>Ml),multi:!0},Ml=(()=>{class o extends zh{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,n){i&1&&H("input",function(s){return n.onChange(s.target.value)})("blur",function(){return n.onTouched()})},standalone:!1,features:[It([D_]),_t]})}return o})();var T_=(()=>{class o extends Hi{callSetDisabledState;get submitted(){return Wt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=J(()=>this._submittedReactive());_submittedReactive=nt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,i,n){super(),this.callSetDisabledState=n,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Gs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let i=this.form.get(t.path);return wr(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){zs(t.control||null,t,!1),k_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,i){this.form.get(t.path).setValue(i)}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,nu(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ls(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,n=this.form.get(t.path);i!==n&&(zs(i||null,t),E_(n)&&(wr(n,t,this.callSetDisabledState),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);eu(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&w_(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kl(this.form,this),this._oldForm&&Gs(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||o)(Et(bo,10),Et(Us,10),Et(vo,8))};static \u0275dir=j({type:o,features:[_t,pe]})}return o})();var su=new B(""),R_={provide:Mi,useExisting:we(()=>Dl)},Dl=(()=>{class o extends Mi{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new xt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,n,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=ou(this,n)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&zs(i,this,!1),wr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}iu(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zs(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||o)(Et(bo,10),Et(Us,10),Et(Yi,10),Et(su,8),Et(vo,8))};static \u0275dir=j({type:o,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[It([R_]),_t,pe]})}return o})();var I_={provide:Hi,useExisting:we(()=>Tl)},Tl=(()=>{class o extends T_{form=null;ngSubmit=new xt;get control(){return this.form}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["","formGroup",""]],hostBindings:function(i,n){i&1&&H("submit",function(s){return n.onSubmit(s)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[It([I_]),_t]})}return o})();var au=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=Nt({type:o});static \u0275inj=Vt({})}return o})();var lu=(()=>{class o{static withConfig(t){return{ngModule:o,providers:[{provide:vo,useValue:t.callSetDisabledState??Xs}]}}static \u0275fac=function(i){return new(i||o)};static \u0275mod=Nt({type:o});static \u0275inj=Vt({imports:[au]})}return o})(),cu=(()=>{class o{static withConfig(t){return{ngModule:o,providers:[{provide:su,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vo,useValue:t.callSetDisabledState??Xs}]}}static \u0275fac=function(i){return new(i||o)};static \u0275mod=Nt({type:o});static \u0275inj=Vt({imports:[au]})}return o})();var Cr=class{_attachedHost=null;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},qi=class extends Cr{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,n){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=n}},yo=class extends Cr{templateRef;viewContainerRef;context;injector;constructor(e,t,i,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Rl=class extends Cr{element;constructor(e){super(),this.element=e instanceof q?e.nativeElement:e}},xo=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof qi)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof yo)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Rl)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},qs=class extends xo{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,n=i.get(al,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:n,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,n=e.injector||this._defaultInjector||bt.NULL,r=n.get(ss,i.injector);t=Qd(e.component,{elementInjector:n,environmentInjector:r,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(i);n!==-1&&t.remove(n)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var In=(()=>{class o extends xo{_moduleRef=f(al,{optional:!0});_document=f(Dt);_viewContainerRef=f(Yn);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new xt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,n=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let n=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(n,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(i,n)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_t]})}return o})();function kr(o){return o.buttons===0||o.detail===0}function Sr(o){let e=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Il;function mu(){if(Il==null){let o=typeof document<"u"?document.head:null;Il=!!(o&&(o.createShadowRoot||o.attachShadow))}return Il}function Al(o){if(mu()){let e=o.getRootNode?o.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function wo(){let o=typeof document<"u"&&document?document.activeElement:null;for(;o&&o.shadowRoot;){let e=o.shadowRoot.activeElement;if(e===o)break;o=e}return o}function xe(o){return o.composedPath?o.composedPath()[0]:o.target}var Fl;try{Fl=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fl=!1}var ht=(()=>{class o{_platformId=f(Vd);isBrowser=this._platformId?nm(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Fl)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Er;function hu(){if(Er==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Er=!0}))}finally{Er=Er||!1}return Er}function Zi(o){return hu()?o:!!o.capture}function De(o,e=0){return uu(o)?Number(o):arguments.length===2?e:0}function uu(o){return!isNaN(parseFloat(o))&&!isNaN(Number(o))}function ue(o){return o instanceof q?o.nativeElement:o}var fu=new B("cdk-input-modality-detector-options"),pu={ignoreKeys:[18,17,224,91,16]},gu=650,Ol={passive:!0,capture:!0},_u=(()=>{class o{_platform=f(ht);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Jr(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xe(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<gu||(this._modality.next(kr(t)?"keyboard":"mouse"),this._mostRecentTarget=xe(t))};_onTouchstart=t=>{if(Sr(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xe(t)};constructor(){let t=f(K),i=f(Dt),n=f(fu,{optional:!0});if(this._options=Y(Y({},pu),n),this.modalityDetected=this._modality.pipe(os(1)),this.modalityChanged=this.modalityDetected.pipe(er()),this._platform.isBrowser){let r=f(Ce).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[r.listen(i,"keydown",this._onKeydown,Ol),r.listen(i,"mousedown",this._onMousedown,Ol),r.listen(i,"touchstart",this._onTouchstart,Ol)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Mr=(function(o){return o[o.IMMEDIATE=0]="IMMEDIATE",o[o.EVENTUAL=1]="EVENTUAL",o})(Mr||{}),bu=new B("cdk-focus-monitor-default-options"),Zs=Zi({passive:!0,capture:!0}),Di=(()=>{class o{_ngZone=f(K);_platform=f(ht);_inputModalityDetector=f(_u);_origin=null;_lastFocusOrigin=null;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(Dt);_stopInputModalityDetector=new Z;constructor(){let t=f(bu,{optional:!0});this._detectionMode=t?.detectionMode||Mr.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=xe(t);for(let n=i;n;n=n.parentElement)t.type==="focus"?this._onFocus(t,n):this._onBlur(t,n)};monitor(t,i=!1){let n=ue(t);if(!this._platform.isBrowser||n.nodeType!==1)return ts();let r=Al(n)||this._document,s=this._elementInfo.get(n);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new Z,rootNode:r};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=ue(t),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(t,i,n){let r=ue(t),s=this._document.activeElement;r===s?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Mr.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===Mr.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?gu:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(t,i){let n=this._elementInfo.get(i),r=xe(t);!n||!n.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),n)}_onBlur(t,i){let n=this._elementInfo.get(i);!n||n.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zs),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zs)}),this._rootNodeFocusListenerCount.set(i,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zs),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zs),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,n){this._setClasses(t,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&i.push([r,n])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let r=t.labels;if(r){for(let s=0;s<r.length;s++)if(r[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Co(o){return Array.isArray(o)?o:[o]}var vu=new Set,An,ko=(()=>{class o{_platform=f(ht);_nonce=f(Nd,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F_}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&A_(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function A_(o,e){if(!vu.has(o))try{An||(An=document.createElement("style"),e&&An.setAttribute("nonce",e),An.setAttribute("type","text/css"),document.head.appendChild(An)),An.sheet&&(An.sheet.insertRule(`@media ${o} {body{ }}`,0),vu.add(o))}catch(t){console.error(t)}}function F_(o){return{matches:o==="all"||o==="",media:o,addListener:()=>{},removeListener:()=>{}}}var Pl=(()=>{class o{_mediaMatcher=f(ko);_zone=f(K);_queries=new Map;_destroySubject=new Z;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return yu(Co(t)).some(n=>this._registerQuery(n).mql.matches)}observe(t){let n=yu(Co(t)).map(s=>this._registerQuery(s).observable),r=Od(n);return r=Pd(r.pipe(Pe(1)),r.pipe(os(1),ns(0))),r.pipe(Oe(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),r={observable:new ni(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(He(i),Oe(({matches:s})=>({query:t,matches:s})),Qt(this._destroySubject)),mql:i};return this._queries.set(t,r),r}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function yu(o){return o.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function O_(o){if(o.type==="characterData"&&o.target instanceof Comment)return!0;if(o.type==="childList"){for(let e=0;e<o.addedNodes.length;e++)if(!(o.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<o.removedNodes.length;e++)if(!(o.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var P_=(()=>{class o{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),L_=(()=>{class o{_mutationObserverFactory=f(P_);_observedElements=new Map;_ngZone=f(K);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){let i=ue(t);return new ni(n=>{let s=this._observeElement(i).pipe(Oe(a=>a.filter(l=>!O_(l))),Mt(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{n.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let i=new Z,n=this._mutationObserverFactory.create(r=>i.next(r));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:i,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:i,stream:n}=this._observedElements.get(t);i&&i.disconnect(),n.complete(),this._observedElements.delete(t)}}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),xu=(()=>{class o{_contentObserver=f(L_);_elementRef=f(q);event=new xt;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=De(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(ns(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",yt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return o})();var Vl=(()=>{class o{_platform=f(ht);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return N_(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=V_(X_(t));if(i&&(wu(i)===-1||!this.isVisible(i)))return!1;let n=t.nodeName.toLowerCase(),r=wu(t);return t.hasAttribute("contenteditable")?r!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!W_(t)?!1:n==="audio"?t.hasAttribute("controls")?r!==-1:!1:n==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return H_(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function V_(o){try{return o.frameElement}catch{return null}}function N_(o){return!!(o.offsetWidth||o.offsetHeight||typeof o.getClientRects=="function"&&o.getClientRects().length)}function B_(o){let e=o.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function z_(o){return G_(o)&&o.type=="hidden"}function j_(o){return U_(o)&&o.hasAttribute("href")}function G_(o){return o.nodeName.toLowerCase()=="input"}function U_(o){return o.nodeName.toLowerCase()=="a"}function Cu(o){if(!o.hasAttribute("tabindex")||o.tabIndex===void 0)return!1;let e=o.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function wu(o){if(!Cu(o))return null;let e=parseInt(o.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function W_(o){let e=o.nodeName.toLowerCase(),t=e==="input"&&o.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function H_(o){return z_(o)?!1:B_(o)||j_(o)||o.hasAttribute("contenteditable")||Cu(o)}function X_(o){return o.ownerDocument&&o.ownerDocument.defaultView||window}var Ll=class{_element;_checker;_ngZone;_document;_injector;_startAnchor=null;_endAnchor=null;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,i,n,r=!1,s){this._element=e,this._checker=t,this._ngZone=i,this._document=n,this._injector=s,r||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let n=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(n)return n}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let n=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(n)return n}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?ge(e,{injector:this._injector}):setTimeout(e)}},ku=(()=>{class o{_checker=f(Vl);_ngZone=f(K);_document=f(Dt);_injector=f(bt);constructor(){f(Xt).load(ds)}create(t,i=!1){return new Ll(t,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function $i(o,...e){return e.length?e.some(t=>o[t]):o.altKey||o.shiftKey||o.ctrlKey||o.metaKey}function Nl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Bt(o){return o==null?"":typeof o=="string"?o:`${o}px`}var Ke=(function(o){return o[o.NORMAL=0]="NORMAL",o[o.NEGATED=1]="NEGATED",o[o.INVERTED=2]="INVERTED",o})(Ke||{}),$s,Fn;function Ks(){if(Fn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Fn=!1,Fn;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Fn=!0;else{let o=Element.prototype.scrollTo;o?Fn=!/\{\s*\[native code\]\s*\}/.test(o.toString()):Fn=!1}}return Fn}function So(){if(typeof document!="object"||!document)return Ke.NORMAL;if($s==null){let o=document.createElement("div"),e=o.style;o.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",o.appendChild(t),document.body.appendChild(o),$s=Ke.NORMAL,o.scrollLeft===0&&(o.scrollLeft=1,$s=o.scrollLeft===0?Ke.NEGATED:Ke.INVERTED),o.remove()}return $s}var Y_=20,Eo=(()=>{class o{_ngZone=f(K);_platform=f(ht);_renderer=f(Ce).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Z;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Y_){return this._platform.isBrowser?new ni(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=t>0?this._scrolled.pipe(nl(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ts()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Mt(r=>!r||n.indexOf(r)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_scrollableContainsElement(t,i){let n=ue(i),r=t.getElementRef().nativeElement;do if(n==r)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Bl=(()=>{class o{elementRef=f(q);scrollDispatcher=f(Eo);ngZone=f(K);dir=f(Ee,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Z;_renderer=f(zt);_cleanupScroll;_elementScrolled=new Z;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=n?t.end:t.start),t.right==null&&(t.right=n?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),n&&So()!=Ke.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),So()==Ke.INVERTED?t.left=t.right:So()==Ke.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;Ks()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",n="right",r=this.elementRef.nativeElement;if(t=="top")return r.scrollTop;if(t=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?n:i:t=="end"&&(t=s?i:n),s&&So()==Ke.INVERTED?t==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:s&&So()==Ke.NEGATED?t==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return o})(),q_=20,Dr=(()=>{class o{_platform=f(ht);_listeners;_viewportSize=null;_change=new Z;_document=f(Dt);constructor(){let t=f(K),i=f(Ce).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=r=>this._change.next(r);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect(),s=-r.top||t.body?.scrollTop||i.scrollY||n.scrollTop||0,a=-r.left||t.body?.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:s,left:a}}change(t=q_){return t>0?this._change.pipe(nl(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var zl={},Zt=class o{_appId=f(as);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),zl.hasOwnProperty(e)||(zl[e]=0),`${e}${t?o._infix+"-":""}${zl[e]++}`}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})};var Su=Ks();function Pn(o){return new Qs(o.get(Dr),o.get(Dt))}var Qs=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Bt(-this._previousScrollPosition.left),e.style.top=Bt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,n=t.style,r=i.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Su&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Su&&(i.scrollBehavior=r,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var Js=class{enable(){}disable(){}attach(){}};function jl(o,e){return e.some(t=>{let i=o.bottom<t.top,n=o.top>t.bottom,r=o.right<t.left,s=o.left>t.right;return i||n||r||s})}function Eu(o,e){return e.some(t=>{let i=o.top<t.top,n=o.bottom>t.bottom,r=o.left<t.left,s=o.right>t.right;return i||n||r||s})}function Wl(o,e){return new ta(o.get(Eo),o.get(Dr),o.get(K),e)}var ta=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();jl(t,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}};var Mo=class{positionStrategy;scrollStrategy=new Js;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var ea=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Au=(()=>{class o{_attachedOverlays=[];_document=f(Dt);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Fu=(()=>{class o extends Au{_ngZone=f(K);_renderer=f(Ce).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let n=i.length-1;n>-1;n--)if(i[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[n]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Ou=(()=>{class o extends Au{_platform=f(ht);_ngZone=f(K);_renderer=f(Ce).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,n={capture:!0},r=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[r.listen(i,"pointerdown",this._pointerDownListener,n),r.listen(i,"click",this._clickListener,n),r.listen(i,"auxclick",this._clickListener,n),r.listen(i,"contextmenu",this._clickListener,n)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=xe(t)};_clickListener=t=>{let i=xe(t),n=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let s=r.length-1;s>-1;s--){let a=r[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Mu(a.overlayElement,i)||Mu(a.overlayElement,n))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Mu(o,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===o)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Pu=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return o})(),oa=(()=>{class o{_platform=f(ht);_containerElement;_document=f(Dt);_styleLoader=f(Xt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Nl()){let n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<n.length;r++)n[r].remove()}let i=this._document.createElement("div");i.classList.add(t),Nl()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Pu)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Gl=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,n){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",n)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Hl(o){return o&&o.nodeType===1}var Do=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Z;_attachments=new Z;_detachments=new Z;_positionStrategy;_scrollStrategy;_locationChanges=Oi.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new Z;_outsidePointerEvents=new Z;_afterNextRenderRef;constructor(e,t,i,n,r,s,a,l,d,c=!1,m,h){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=c,this._injector=m,this._renderer=h,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ge(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Y(Y({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Kt(Y({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Bt(this._config.width),e.height=Bt(this._config.height),e.minWidth=Bt(this._config.minWidth),e.minHeight=Bt(this._config.minHeight),e.maxWidth=Bt(this._config.maxWidth),e.maxHeight=Bt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Hl(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Gl(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let n=Co(t||[]).filter(r=>!!r);n.length&&(i?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=ge(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Du="cdk-overlay-connected-position-bounding-box",$_=/([A-Za-z%]+)$/;function Xl(o,e){return new ia(e,o.get(Dr),o.get(Dt),o.get(ht),o.get(oa))}var ia=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new Z;_resizeSubscription=Oi.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,n,r){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=r,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Du),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,n,a),d=this._getOverlayPoint(l,t,a),c=this._getOverlayFit(d,t,i,a);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(c,d,i)){r.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:d,originPoint:l,position:a,overlayRect:t})}if(r.length){let a=null,l=-1;for(let d of r){let c=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);c>l&&(l=c,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&On(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Du),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;e?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(e,this._getOriginPoint(this._originRect,this._containerRect,e))):this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof q?this._origin.nativeElement:Hl(this._origin)?this._origin:null}_getOriginPoint(e,t,i){let n;if(i.originX=="center")n=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;n=i.originX=="start"?s:a}t.left<0&&(n-=t.left);let r;return i.originY=="center"?r=e.top+e.height/2:r=i.originY=="top"?e.top:e.bottom,t.top<0&&(r-=t.top),{x:n,y:r}}_getOverlayPoint(e,t,i){let n;i.overlayX=="center"?n=-t.width/2:i.overlayX==="start"?n=this._isRtl()?-t.width:0:n=this._isRtl()?0:-t.width;let r;return i.overlayY=="center"?r=-t.height/2:r=i.overlayY=="top"?0:-t.height,{x:e.x+n,y:e.y+r}}_getOverlayFit(e,t,i,n){let r=Ru(t),{x:s,y:a}=e,l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(s+=l),d&&(a+=d);let c=0-s,m=s+r.width-i.width,h=0-a,u=a+r.height-i.height,p=this._subtractOverflows(r.width,c,m),_=this._subtractOverflows(r.height,h,u),g=p*_;return{visibleArea:g,isCompletelyWithinViewport:r.width*r.height===g,fitsInViewportVertically:_===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let n=i.bottom-t.y,r=i.right-t.x,s=Tu(this._overlayRef.getConfig().minHeight),a=Tu(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=n,d=e.fitsInViewportHorizontally||a!=null&&a<=r;return l&&d}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=Ru(t),r=this._viewportRect,s=Math.max(e.x+n.width-r.width,0),a=Math.max(e.y+n.height-r.height,0),l=Math.max(r.top-i.top-e.y,0),d=Math.max(r.left-i.left-e.x,0),c=0,m=0;return n.width<=r.width?c=d||-s:c=e.x<this._getViewportMarginStart()?r.left-i.left-e.x:0,n.height<=r.height?m=l||-a:m=e.y<this._getViewportMarginTop()?r.top-i.top-e.y:0,this._previousPushAmount={x:c,y:m},{x:e.x+c,y:e.y+m}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!K_(this._lastScrollVisibility,i)){let n=new ea(e,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,n=this._isRtl(),r,s,a;if(t.overlayY==="top")s=e.y,r=i.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=i.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),r=i.height-a+this._getViewportMarginTop();else{let u=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;r=u*2,s=e.y-u,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let l=t.overlayX==="start"&&!n||t.overlayX==="end"&&n,d=t.overlayX==="end"&&!n||t.overlayX==="start"&&n,c,m,h;if(d)h=i.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),c=e.x-this._getViewportMarginStart();else if(l)m=e.x,c=i.right-e.x-this._getViewportMarginEnd();else{let u=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;c=u*2,m=e.x-u,c>p&&!this._isInitialRender&&!this._growAfterOpen&&(m=e.x-p/2)}return{top:s,left:m,bottom:a,right:h,width:c,height:r}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right="auto",n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.width=Bt(i.width),n.height=Bt(i.height),n.top=Bt(i.top)||"auto",n.bottom=Bt(i.bottom)||"auto",n.left=Bt(i.left)||"auto",n.right=Bt(i.right)||"auto",t.overlayX==="center"?n.alignItems="center":n.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?n.justifyContent="center":n.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",r&&(n.maxHeight=Bt(r)),s&&(n.maxWidth=Bt(s))}this._lastBoundingBoxSize=i,On(this._boundingBox.style,n)}_resetBoundingBoxStyles(){On(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){On(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},n=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){let c=this._viewportRuler.getViewportScrollPosition();On(i,this._getExactOverlayY(t,e,c)),On(i,this._getExactOverlayX(t,e,c))}else i.position="static";let a="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(n?i.maxHeight=Bt(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=Bt(s.maxWidth):r&&(i.maxWidth="")),On(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;n.bottom=`${s-(r.y+this._overlayRect.height)}px`}else n.top=Bt(r.y);return n}_getExactOverlayX(e,t,i){let n={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;n.right=`${a-(r.x+this._overlayRect.width)}px`}else n.left=Bt(r.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Eu(e,i),isOriginOutsideView:jl(e,i),isOverlayClipped:Eu(t,i),isOverlayOutsideView:jl(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,n)=>i-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+e-this._getViewportMarginEnd(),bottom:i.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Co(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof q)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}_getContainerRect(){let e=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",t=this._overlayContainer.getContainerElement();e&&(t.style.display="block");let i=t.getBoundingClientRect();return e&&(t.style.display=""),i}};function On(o,e){for(let t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function Tu(o){if(typeof o!="number"&&o!=null){let[e,t]=o.split($_);return!t||t==="px"?parseFloat(e):null}return o||null}function Ru(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}function K_(o,e){return o===e?!0:o.isOriginClipped===e.isOriginClipped&&o.isOriginOutsideView===e.isOriginOutsideView&&o.isOverlayClipped===e.isOverlayClipped&&o.isOverlayOutsideView===e.isOverlayOutsideView}var Iu="cdk-global-overlay-wrapper";function Ln(o){return new na}var na=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Iu),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:r,maxWidth:s,maxHeight:a}=i,l=(n==="100%"||n==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),c=this._xPosition,m=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",u="",p="",_="";l?_="flex-start":c==="center"?(_="center",h?p=m:u=m):h?c==="left"||c==="end"?(_="flex-end",u=m):(c==="right"||c==="start")&&(_="flex-start",p=m):c==="left"||c==="start"?(_="flex-start",u=m):(c==="right"||c==="end")&&(_="flex-end",p=m),e.position=this._cssPosition,e.marginLeft=l?"0":u,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=_,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Iu),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}};var Lu=new B("OVERLAY_DEFAULT_CONFIG");function Tr(o,e){o.get(Xt).load(Pu);let t=o.get(oa),i=o.get(Dt),n=o.get(Zt),r=o.get(cs),s=o.get(Ee),a=o.get(zt,null,{optional:!0})||o.get(Ce).createRenderer(null,null),l=new Mo(e),d=o.get(Lu,null,{optional:!0})?.usePopover??!0;l.direction=l.direction||s.value,"showPopover"in i.body?l.usePopover=e?.usePopover??d:l.usePopover=!1;let c=i.createElement("div"),m=i.createElement("div");c.id=n.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),m.appendChild(c),l.usePopover&&(m.setAttribute("popover","manual"),m.classList.add("cdk-overlay-popover"));let h=l.usePopover?l.positionStrategy?.getPopoverInsertionPoint?.():null;return Hl(h)?h.after(m):h?.type==="parent"?h.element.appendChild(m):t.getContainerElement().appendChild(m),new Do(new qs(c,r,o),m,c,l,o.get(K),o.get(Fu),i,o.get(Jd),o.get(Ou),e?.disableAnimations??o.get(ls,null,{optional:!0})==="NoopAnimations",o.get(ss),a)}function Q_(o,e){}var Ki=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Ir=(()=>{class o extends xo{_elementRef=f(q);_focusTrapFactory=f(ku);_config;_interactivityChecker=f(Vl);_ngZone=f(K);_focusMonitor=f(Di);_renderer=f(zt);_changeDetectorRef=f(ee);_injector=f(bt);_platform=f(ht);_document=f(Dt);_portalOutlet;_focusTrapped=new Z;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=f(Ki,{optional:!0})||new Ki,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}attachDomPortal=t=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{r(),s(),t.removeAttribute("tabindex")},r=this._renderer.listen(t,"blur",n),s=this._renderer.listen(t,"mousedown",n)})),t.focus(i)}_focusByCssSelector(t,i){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,i)}_trapFocus(t){this._isDestroyed||ge(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let n=wo(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){let t=this._elementRef.nativeElement,i=wo();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wo()))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(i,n){if(i&1&&ce(In,7),i&2){let r;dt(r=mt())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,n){i&2&&kt("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[_t],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){i&1&&ke(0,Q_,0,0,"ng-template",0)},dependencies:[In],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return o})(),Rr=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new Z;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,t){this.overlayRef=e,this.config=t,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!$i(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this._canClose(e)){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(e,t,this.componentInstance))}},J_=new B("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=f(bt);return()=>Pn(o)}}),tb=new B("DialogData"),eb=new B("DefaultDialogConfig");function ib(o){let e=nt(o),t=new xt;return{valueSignal:e,get value(){return e()},change:t,ngOnDestroy(){t.complete()}}}var ra=(()=>{class o{_injector=f(bt);_defaultOptions=f(eb,{optional:!0});_parentDialog=f(o,{optional:!0,skipSelf:!0});_overlayContainer=f(oa);_idGenerator=f(Zt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Z;_afterOpenedAtThisLevel=new Z;_ariaHiddenElements=new Map;_scrollStrategy=f(J_);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=is(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(He(void 0)));constructor(){}open(t,i){let n=this._defaultOptions||new Ki;i=Y(Y({},n),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),s=Tr(this._injector,r),a=new Rr(s,i),l=this._attachContainer(s,a,i);if(a.containerInstance=l,!this.openDialogs.length){let d=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Pe(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(d)}):this._hideNonDialogContentFromAssistiveTechnology(d)}return this._attachDialogContent(t,a,l,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){Yl(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Yl(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),Yl(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new Mo({positionStrategy:t.positionStrategy||Ln().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,n){let r=n.injector||n.viewContainerRef?.injector,s=[{provide:Ki,useValue:n},{provide:Rr,useValue:i},{provide:Do,useValue:t}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,s.push(...n.container.providers(n))):a=Ir;let l=new qi(a,n.viewContainerRef,bt.create({parent:r||this._injector,providers:s}));return t.attach(l).instance}_attachDialogContent(t,i,n,r){if(t instanceof ri){let s=this._createInjector(r,i,n,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=Y(Y({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),n.attachTemplatePortal(new yo(t,null,a,s))}else{let s=this._createInjector(r,i,n,this._injector),a=n.attachComponentPortal(new qi(t,r.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,n,r){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:tb,useValue:t.data},{provide:Rr,useValue:i}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(i,t,n)):a.push(...t.providers)),t.direction&&(!s||!s.get(Ee,null,{optional:!0}))&&a.push({provide:Ee,useValue:ib(t.direction)}),bt.create({parent:s||r,providers:a})}_removeOpenDialog(t,i){let n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){let i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){let r=i[n];r!==t&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&!r.hasAttribute("popover")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Yl(o,e){let t=o.length;for(;t--;)e(o[t])}var Vn={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var nb=new B("MATERIAL_ANIMATIONS"),Nu=null;function ob(){return f(nb,{optional:!0})?.animationsDisabled||f(ls,{optional:!0})==="NoopAnimations"?"di-disabled":(Nu??=f(ko).matchMedia("(prefers-reduced-motion)").matches,Nu?"reduced-motion":"enabled")}function At(){return ob()!=="enabled"}function sb(o,e){}var Bu="_mat-bottom-sheet-enter",zu="_mat-bottom-sheet-exit",ab=(()=>{class o extends Ir{_breakpointSubscription;_animationsDisabled=At();_animationState="void";_animationStateChanged=new xt;_destroyed=!1;constructor(){super();let t=f(Pl);this._breakpointSubscription=t.observe([Vn.Medium,Vn.Large,Vn.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",t.isMatched(Vn.Medium)),i.toggle("mat-bottom-sheet-container-large",t.isMatched(Vn.Large)),i.toggle("mat-bottom-sheet-container-xlarge",t.isMatched(Vn.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(Bu))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(zu))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(t){this._ngZone.run(()=>{this._handleAnimationEvent(!0,t),setTimeout(()=>this._handleAnimationEvent(!1,t))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(t,i){let n=i===Bu;(n||i===zu)&&this._animationStateChanged.emit({toState:n?"visible":"hidden",phase:t?"start":"done"})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,n){i&1&&H("animationstart",function(s){return n._handleAnimationEvent(!0,s.animationName)})("animationend",function(s){return n._handleAnimationEvent(!1,s.animationName)})("animationcancel",function(s){return n._handleAnimationEvent(!1,s.animationName)}),i&2&&(kt("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-label",n._config.ariaLabel),$("mat-bottom-sheet-container-animations-enabled",!n._animationsDisabled)("mat-bottom-sheet-container-enter",n._animationState==="visible")("mat-bottom-sheet-container-exit",n._animationState==="hidden"))},features:[_t],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,n){i&1&&ke(0,sb,0,0,"ng-template",0)},dependencies:[In],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return o})(),lb=new B("MatBottomSheetData"),ql=class{viewContainerRef;injector;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},sa=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new Z;_result;_closeFallbackTimeout;constructor(e,t,i){this._ref=e,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(Mt(n=>n.phase==="done"&&n.toState==="visible"),Pe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Mt(n=>n.phase==="done"&&n.toState==="hidden"),Pe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Li(this.backdropClick(),this.keydownEvents().pipe(Mt(n=>n.keyCode===27))).subscribe(n=>{!this.disableClose&&(n.type!=="keydown"||!$i(n))&&(n.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Mt(t=>t.phase==="start"),Pe(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},cb=new B("mat-bottom-sheet-default-options"),ju=(()=>{class o{_injector=f(bt);_parentBottomSheet=f(o,{optional:!0,skipSelf:!0});_animationsDisabled=At();_defaultOptions=f(cb,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=f(ra);get _openedBottomSheetRef(){let t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(){}open(t,i){let n=Y(Y({},this._defaultOptions||new ql),i),r;return this._dialog.open(t,Kt(Y({},n),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:ab,scrollStrategy:n.scrollStrategy||Pn(this._injector),positionStrategy:Ln(this._injector).centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:r}),providers:(s,a,l)=>(r=new sa(s,n,l),[{provide:sa,useValue:r},{provide:lb,useValue:n.data}])})),r.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===r&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>r.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Uu=" ";function db(o,e,t){let i=la(o,e);t=t.trim(),!i.some(n=>n.trim()===t)&&(i.push(t),o.setAttribute(e,i.join(Uu)))}function mb(o,e,t){let i=la(o,e);t=t.trim();let n=i.filter(r=>r!==t);n.length?o.setAttribute(e,n.join(Uu)):o.removeAttribute(e)}function la(o,e){return o.getAttribute(e)?.match(/\S+/g)??[]}var Wu="cdk-describedby-message",aa="cdk-describedby-host",$l=0,Hu=(()=>{class o{_platform=f(ht);_document=f(Dt);_messageRegistry=new Map;_messagesContainer=null;_id=`${$l++}`;constructor(){f(Xt).load(ds),this._id=f(as)+"-"+$l++}describe(t,i,n){if(!this._canBeDescribed(t,i))return;let r=Zl(i,n);typeof i!="string"?(Gu(i,this._id),this._messageRegistry.set(r,{messageElement:i,referenceCount:0})):this._messageRegistry.has(r)||this._createMessageElement(i,n),this._isElementDescribedByMessage(t,r)||this._addMessageReference(t,r)}removeDescription(t,i,n){if(!i||!this._isElementNode(t))return;let r=Zl(i,n);if(this._isElementDescribedByMessage(t,r)&&this._removeMessageReference(t,r),typeof i=="string"){let s=this._messageRegistry.get(r);s&&s.referenceCount===0&&this._deleteMessageElement(r)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${aa}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(aa);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){let n=this._document.createElement("div");Gu(n,this._id),n.textContent=t,i&&n.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(n),this._messageRegistry.set(Zl(t,i),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let r=0;r<i.length;r++)i[r].remove();let n=this._document.createElement("div");n.style.visibility="hidden",n.classList.add(t),n.classList.add("cdk-visually-hidden"),this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._messagesContainer=n}_removeCdkDescribedByReferenceIds(t){let i=la(t,"aria-describedby").filter(n=>n.indexOf(Wu)!=0);t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){let n=this._messageRegistry.get(i);db(t,"aria-describedby",n.messageElement.id),t.setAttribute(aa,this._id),n.referenceCount++}_removeMessageReference(t,i){let n=this._messageRegistry.get(i);n.referenceCount--,mb(t,"aria-describedby",n.messageElement.id),t.removeAttribute(aa)}_isElementDescribedByMessage(t,i){let n=la(t,"aria-describedby"),r=this._messageRegistry.get(i),s=r&&r.messageElement.id;return!!s&&n.indexOf(s)!=-1}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&typeof i=="object")return!0;let n=i==null?"":`${i}`.trim(),r=t.getAttribute("aria-label");return n?!r||r.trim()!==n:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Zl(o,e){return typeof o=="string"?`${e||""}/${o}`:o}function Gu(o,e){o.id||(o.id=`${Wu}-${e}-${$l++}`)}var Ro,Xu=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Kl(){if(Ro)return Ro;if(typeof document!="object"||!document)return Ro=new Set(Xu),Ro;let o=document.createElement("input");return Ro=new Set(Xu.filter(e=>(o.setAttribute("type",e),o.type===e))),Ro}function $t(o){return o!=null&&`${o}`!="false"}var se=(function(o){return o[o.FADING_IN=0]="FADING_IN",o[o.VISIBLE=1]="VISIBLE",o[o.FADING_OUT=2]="FADING_OUT",o[o.HIDDEN=3]="HIDDEN",o})(se||{}),ca=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=se.HIDDEN;constructor(e,t,i,n=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=n}fadeOut(){this._renderer.fadeOutRipple(this)}},Yu=Zi({passive:!0,capture:!0}),Ql=class{_events=new Map;addHandler(e,t,i,n){let r=this._events.get(t);if(r){let s=r.get(i);s?s.add(n):r.set(i,new Set([n]))}else this._events.set(t,new Map([[i,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Yu)})}removeHandler(e,t,i){let n=this._events.get(e);if(!n)return;let r=n.get(t);r&&(r.delete(i),r.size===0&&n.delete(t),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Yu)))}_delegateEventHandler=e=>{let t=xe(e);t&&this._events.get(e.type)?.forEach((i,n)=>{(n===t||n.contains(t))&&i.forEach(r=>r.handleEvent(e))})}},Io={enterDuration:225,exitDuration:150},hb=800,qu=Zi({passive:!0,capture:!0}),Zu=["mousedown","touchstart"],$u=["mouseup","mouseleave","touchend","touchcancel"],ub=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return o})(),Qi=class o{_target;_ngZone;_platform;_containerElement;_triggerElement=null;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple=null;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect=null;static _eventManager=new Ql;constructor(e,t,i,n,r){this._target=e,this._ngZone=t,this._platform=n,n.isBrowser&&(this._containerElement=ue(i)),r&&r.get(Xt).load(ub)}fadeInRipple(e,t,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Y(Y({},Io),i.animation);i.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);let s=i.radius||fb(e,t,n),a=e-n.left,l=t-n.top,d=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${a-s}px`,c.style.top=`${l-s}px`,c.style.height=`${s*2}px`,c.style.width=`${s*2}px`,i.color!=null&&(c.style.backgroundColor=i.color),c.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(c);let m=window.getComputedStyle(c),h=m.transitionProperty,u=m.transitionDuration,p=h==="none"||u==="0s"||u==="0s, 0s"||n.width===0&&n.height===0,_=new ca(this,c,i,p);c.style.transform="scale3d(1, 1, 1)",_.state=se.FADING_IN,i.persistent||(this._mostRecentTransientRipple=_);let g=null;return!p&&(d||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{g&&(g.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(_)},x=()=>this._destroyRipple(_),C=setTimeout(x,d+100);c.addEventListener("transitionend",b),c.addEventListener("transitioncancel",x),g={onTransitionEnd:b,onTransitionCancel:x,fallbackTimer:C}}),this._activeRipples.set(_,g),(p||!d)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(e.state===se.FADING_OUT||e.state===se.HIDDEN)return;let t=e.element,i=Y(Y({},Io),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=se.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=ue(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Zu.forEach(i=>{o._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$u.forEach(t=>{this._triggerElement.addEventListener(t,this,qu)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===se.FADING_IN?this._startFadeOutTransition(e):e.state===se.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=se.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=se.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=kr(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+hb;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Sr(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===se.VISIBLE||e.config.terminateOnPointerUp&&e.state===se.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Zu.forEach(t=>o._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&($u.forEach(t=>e.removeEventListener(t,this,qu)),this._pointerUpEventsRegistered=!1))}};function fb(o,e,t){let i=Math.max(Math.abs(o-t.left),Math.abs(o-t.right)),n=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+n*n)}var Ji=new B("mat-ripple-global-options"),Tt=(()=>{class o{_elementRef=f(q);_animationsDisabled=At();color;unbounded=!1;centered=!1;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=f(K),i=f(ht),n=f(Ji,{optional:!0}),r=f(bt);this._globalOptions=n||{},this._rippleRenderer=new Qi(this,t,this._elementRef,i,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Y(Y(Y({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,n){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,Y(Y({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Y(Y({},this.rippleConfig),t))}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){i&2&&$("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return o})();var pb={capture:!0},gb=["focus","mousedown","mouseenter","touchstart"],Jl="mat-ripple-loader-uninitialized",tc="mat-ripple-loader-class-name",Ku="mat-ripple-loader-centered",da="mat-ripple-loader-disabled",Qu=(()=>{class o{_document=f(Dt);_animationsDisabled=At();_globalRippleOptions=f(Ji,{optional:!0});_platform=f(ht);_ngZone=f(K);_injector=f(bt);_eventCleanups;_hosts=new Map;constructor(){let t=f(Ce).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>gb.map(i=>t.listen(this._document,i,this._onInteraction,pb)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(Jl,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(tc))&&t.setAttribute(tc,i.className||""),i.centered&&t.setAttribute(Ku,""),i.disabled&&t.setAttribute(da,"")}setDisabled(t,i){let n=this._hosts.get(t);n?(n.target.rippleDisabled=i,!i&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(t))):i?t.setAttribute(da,""):t.removeAttribute(da)}_onInteraction=t=>{let i=xe(t);if(i instanceof HTMLElement){let n=i.closest(`[${Jl}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(tc)),t.append(i);let n=this._globalRippleOptions,r=this._animationsDisabled?0:n?.animation?.enterDuration??Io.enterDuration,s=this._animationsDisabled?0:n?.animation?.exitDuration??Io.exitDuration,a={rippleDisabled:this._animationsDisabled||n?.disabled||t.hasAttribute(da),rippleConfig:{centered:t.hasAttribute(Ku),terminateOnPointerUp:n?.terminateOnPointerUp,animation:{enterDuration:r,exitDuration:s}}},l=new Qi(a,this._ngZone,i,this._platform,this._injector),d=!a.rippleDisabled;d&&l.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:l,hasSetUpEvents:d}),t.removeAttribute(Jl)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var tn=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,n){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return o})();var _b=new B("MAT_BUTTON_CONFIG");function Ju(o){return o==null?void 0:Se(o)}var ma=(()=>{class o{_elementRef=f(q);_ngZone=f(K);_animationsDisabled=At();_config=f(_b,{optional:!0});_focusMonitor=f(Di);_cleanupClick;_renderer=f(zt);_rippleLoader=f(Qu);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){f(Xt).load(tn);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,n){i&2&&(kt("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled())("tabindex",n._getTabIndex()),pn(n.color?"mat-"+n.color:""),$("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("mat-unthemed",!n.color)("_mat-animation-noopable",n._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",yt],disabled:[2,"disabled","disabled",yt],ariaDisabled:[2,"aria-disabled","ariaDisabled",yt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",yt],tabIndex:[2,"tabIndex","tabIndex",Ju],_tabindex:[2,"tabindex","_tabindex",Ju]}})}return o})();var bb=["matButton",""],ec=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ic=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],vb=["mat-fab",""],yb=["mat-mini-fab",""],xb=`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}@media(hover: hover){.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`,tf=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),ha=(()=>{class o extends ma{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=wb(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let i=this._elementRef.nativeElement.classList,n=this._appearance?tf.get(this._appearance):null,r=tf.get(t);n&&i.remove(...n),i.add(...r),this._appearance=t}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[_t],attrs:bb,ngContentSelectors:ic,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(jt(ec),Le(0,"span",0),at(1),Vi(2,"span",1),at(3,1),Ni(),at(4,2),Le(5,"span",2)(6,"span",3)),i&2&&$("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return o})();function wb(o){return o.hasAttribute("mat-raised-button")?"elevated":o.hasAttribute("mat-stroked-button")?"outlined":o.hasAttribute("mat-flat-button")?"filled":o.hasAttribute("mat-button")?"text":null}var ef=new B("mat-mdc-fab-default-options",{providedIn:"root",factory:()=>Ar}),Ar={color:"accent"},nf=(()=>{class o extends ma{_options=f(ef,{optional:!0});_isFab=!0;extended=!1;constructor(){super(),this._options=this._options||Ar,this.color=this._options.color||Ar.color}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["button","mat-fab",""],["a","mat-fab",""],["button","matFab",""],["a","matFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mat-mdc-fab"],hostVars:4,hostBindings:function(i,n){i&2&&$("mdc-fab--extended",n.extended)("mat-mdc-extended-fab",n.extended)},inputs:{extended:[2,"extended","extended",yt]},exportAs:["matButton","matAnchor"],features:[_t],attrs:vb,ngContentSelectors:ic,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(jt(ec),Le(0,"span",0),at(1),Vi(2,"span",1),at(3,1),Ni(),at(4,2),Le(5,"span",2)(6,"span",3)),i&2&&$("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}@media(hover: hover){.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}@media(hover: hover){.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`],encapsulation:2,changeDetection:0})}return o})(),of=(()=>{class o extends ma{_options=f(ef,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||Ar,this.color=this._options.color||Ar.color}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["button","mat-mini-fab",""],["a","mat-mini-fab",""],["button","matMiniFab",""],["a","matMiniFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"],exportAs:["matButton","matAnchor"],features:[_t],attrs:yb,ngContentSelectors:ic,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(jt(ec),Le(0,"span",0),at(1),Vi(2,"span",1),at(3,1),Ni(),at(4,2),Le(5,"span",2)(6,"span",3)),i&2&&$("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[xb],encapsulation:2,changeDetection:0})}return o})();var Cb=["*"];var kb=new B("MAT_CARD_CONFIG"),rf=(()=>{class o{appearance;constructor(){let t=f(kb,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(i,n){i&2&&$("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")("mat-mdc-card-filled",n.appearance==="filled")("mdc-card--filled",n.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Cb,decls:1,vars:0,template:function(i,n){i&1&&(jt(),at(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return o})();var Sb=["mat-internal-form-field",""],Eb=["*"],sf=(()=>{class o{labelPosition="after";static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,n){i&2&&$("mdc-form-field--align-end",n.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Sb,ngContentSelectors:Eb,decls:1,vars:0,template:function(i,n){i&1&&(jt(),at(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return o})();var ua=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,n,r){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=r}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,r=i?.isErrorState(n,t)??!1;r!==e&&(this.errorState=r,this._stateChanges.next())}};var af=(()=>{class o{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var nc=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]})}return o})();function Mb(o,e){}var pa=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},oc="mdc-dialog--open",lf="mdc-dialog--opening",cf="mdc-dialog--closing",Db=150,Tb=75,Rb=(()=>{class o extends Ir{_animationStateChanged=new xt;_animationsEnabled=!At();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?mf(this._config.enterAnimationDuration)??Db:0;_exitAnimationDuration=this._animationsEnabled?mf(this._config.exitAnimationDuration)??Tb:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(df,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(lf,oc)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(oc),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(oc),this._animationsEnabled?(this._hostElement.style.setProperty(df,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(cf)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(lf,cf)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275cmp=it({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,n){i&2&&(si("id",n._config.id),kt("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),$("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},features:[_t],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,n){i&1&&(w(0,"div",0)(1,"div",1),ke(2,Mb,0,0,"ng-template",2),E()())},dependencies:[In],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return o})(),df="--mat-dialog-transition-duration";function mf(o){return o==null?null:typeof o=="number"?o:o.endsWith("ms")?De(o.substring(0,o.length-2)):o.endsWith("s")?De(o.substring(0,o.length-1))*1e3:o==="0"?0:null}var fa=(function(o){return o[o.OPEN=0]="OPEN",o[o.CLOSING=1]="CLOSING",o[o.CLOSED=2]="CLOSED",o})(fa||{}),Nn=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new il(1);_beforeClosed=new il(1);_result;_closeFallbackTimeout;_state=fa.OPEN;_closeInteractionType;constructor(e,t,i){this._ref=e,this._config=t,this._containerInstance=i,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Mt(n=>n.state==="opened"),Pe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Mt(n=>n.state==="closed"),Pe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Li(this.backdropClick(),this.keydownEvents().pipe(Mt(n=>n.keyCode===27&&!this.disableClose&&!$i(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),hf(this,n.type==="keydown"?"keyboard":"mouse"))})}close(e){let t=this._config.closePredicate;t&&!t(e,this._config,this.componentInstance)||(this._result=e,this._containerInstance._animationStateChanged.pipe(Mt(i=>i.state==="closing"),Pe(1)).subscribe(i=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=fa.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=fa.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function hf(o,e,t){return o._closeInteractionType=e,o.close(t)}var rc=new B("MatMdcDialogData"),Ib=new B("mat-mdc-dialog-default-options"),Ab=new B("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let o=f(bt);return()=>Pn(o)}}),ga=(()=>{class o{_defaultOptions=f(Ib,{optional:!0});_scrollStrategy=f(Ab);_parentDialog=f(o,{optional:!0,skipSelf:!0});_idGenerator=f(Zt);_injector=f(bt);_dialog=f(ra);_animationsDisabled=At();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Z;_afterOpenedAtThisLevel=new Z;dialogConfigClass=pa;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=is(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(He(void 0)));constructor(){this._dialogRefConstructor=Nn,this._dialogContainerType=Rb,this._dialogDataToken=rc}open(t,i){let n;i=Y(Y({},this._defaultOptions||new pa),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(t,Kt(Y({},i),{positionStrategy:Ln(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ki,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(s,a,l)=>(n=new this._dialogRefConstructor(s,i,l),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=r.componentRef,n.componentInstance=r.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),uf=(()=>{class o{dialogRef=f(Nn,{optional:!0});_elementRef=f(q);_dialog=f(ga);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=bf(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){hf(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,n){i&1&&H("click",function(s){return n._onButtonClick(s)}),i&2&&kt("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[pe]})}return o})(),ff=(()=>{class o{_dialogRef=f(Nn,{optional:!0});_elementRef=f(q);_dialog=f(ga);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=bf(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o})}return o})(),pf=(()=>{class o extends ff{id=f(Zt).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,n){i&2&&si("id",n.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[_t]})}return o})(),gf=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Bd([Bl])]})}return o})(),_f=(()=>{class o extends ff{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,n){i&2&&$("mat-mdc-dialog-actions-align-start",n.align==="start")("mat-mdc-dialog-actions-align-center",n.align==="center")("mat-mdc-dialog-actions-align-end",n.align==="end")},inputs:{align:"align"},features:[_t]})}return o})();function bf(o,e){let t=o.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}var vf=(()=>{class o{get vertical(){return this._vertical}set vertical(t){this._vertical=$t(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=$t(t)}_inset=!1;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){i&2&&(kt("aria-orientation",n.vertical?"vertical":"horizontal"),$("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return o})();var Fb=["*"],Ob=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Pb=["unscopedContent"],Lb=["text"],Vb=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Nb=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Bb=new B("ListOption"),ac=(()=>{class o{_elementRef=f(q);constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return o})(),zb=(()=>{class o{_elementRef=f(q);constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return o})(),jb=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return o})(),yf=(()=>{class o{_listOption=f(Bb,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,hostVars:4,hostBindings:function(i,n){i&2&&$("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return o})(),Gb=(()=>{class o extends yf{static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[_t]})}return o})(),Ub=(()=>{class o extends yf{static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275dir=j({type:o,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[_t]})}return o})(),Wb=new B("MAT_LIST_CONFIG"),sc=(()=>{class o{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=$t(t)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(t){this._disabled.set($t(t))}_disabled=nt(!1);_defaultOptions=f(Wb,{optional:!0});static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,hostVars:1,hostBindings:function(i,n){i&2&&kt("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return o})(),Hb=(()=>{class o{_elementRef=f(q);_ngZone=f(K);_listBase=f(sc,{optional:!0});_platform=f(ht);_hostElement;_isButtonElement;_noopAnimations=At();_avatars;_icons;set lines(t){this._explicitLines=De(t,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=$t(t)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(t){this._disabled.set($t(t))}_disabled=nt(!1);_subscriptions=new Oi;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){f(Xt).load(tn);let t=f(Ji,{optional:!0});this.rippleConfig=t||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Qi(this,this._ngZone,this._hostElement,this._platform,f(bt)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Li(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let r=this._titles.length===0&&i===1;n.classList.toggle("mdc-list-item__primary-text",r),n.classList.toggle("mdc-list-item__secondary-text",!r)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!!(t.textContent&&t.textContent.trim()))}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,contentQueries:function(i,n,r){if(i&1&&un(r,Gb,4)(r,Ub,4),i&2){let s;dt(s=mt())&&(n._avatars=s),dt(s=mt())&&(n._icons=s)}},hostVars:4,hostBindings:function(i,n){i&2&&(kt("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),$("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return o})();var xf=(()=>{class o extends Hb{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(t){this._activated=$t(t)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275cmp=it({type:o,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,r){if(i&1&&un(r,zb,5)(r,ac,5)(r,jb,5),i&2){let s;dt(s=mt())&&(n._lines=s),dt(s=mt())&&(n._titles=s),dt(s=mt())&&(n._meta=s)}},viewQuery:function(i,n){if(i&1&&ce(Pb,5)(Lb,5),i&2){let r;dt(r=mt())&&(n._unscopedContent=r.first),dt(r=mt())&&(n._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,n){i&2&&(kt("aria-current",n._getAriaCurrent()),$("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[_t],ngContentSelectors:Nb,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,n){if(i&1){let r=Yt();jt(Vb),at(0),w(1,"span",1),at(2,1),at(3,2),w(4,"span",2,0),H("cdkObserveContent",function(){return rt(r),st(n._updateItemLines(!0))}),at(6,3),E()(),at(7,4),at(8,5),St(9,"div",3)}},dependencies:[xu],encapsulation:2,changeDetection:0})}return o})();var wf=(()=>{class o extends sc{_isNonInteractive=!1;static \u0275fac=(()=>{let t;return function(n){return(t||(t=te(o)))(n||o)}})();static \u0275cmp=it({type:o,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[It([{provide:sc,useExisting:o}]),_t],ngContentSelectors:Fb,decls:1,vars:0,template:function(i,n){i&1&&(jt(),at(0))},styles:[Ob],encapsulation:2,changeDetection:0})}return o})();var Xb=["switch"],Yb=["*"];function qb(o,e){o&1&&(w(0,"span",11),sl(),w(1,"svg",13),St(2,"path",14),E(),w(3,"svg",15),St(4,"path",16),E()())}var Zb=new B("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),_a=class{source;checked;constructor(e,t){this.source=e,this.checked=t}},Cf=(()=>{class o{_elementRef=f(q);_focusMonitor=f(Di);_changeDetectorRef=f(ee);defaults=f(Zb);_onChange=t=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(t){return new _a(this,t)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=At();_focused=!1;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required=!1;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new xt;toggleChange=new xt;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){f(Xt).load(tn);let t=f(new Zd("tabindex"),{optional:!0}),i=this.defaults;this.tabIndex=t==null?0:parseInt(t)||0,this.color=i.color||"accent",this.id=this._uniqueId=f(Zt).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t==="keyboard"||t==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new _a(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-slide-toggle"]],viewQuery:function(i,n){if(i&1&&ce(Xb,5),i&2){let r;dt(r=mt())&&(n._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,n){i&2&&(si("id",n.id),kt("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),pn(n.color?"mat-"+n.color:""),$("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",yt],color:"color",disabled:[2,"disabled","disabled",yt],disableRipple:[2,"disableRipple","disableRipple",yt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Se(t)],checked:[2,"checked","checked",yt],hideIcon:[2,"hideIcon","hideIcon",yt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",yt]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[It([{provide:Yi,useExisting:we(()=>o),multi:!0},{provide:bo,useExisting:o,multi:!0}]),pe],ngContentSelectors:Yb,decls:14,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mat-mdc-slide-toggle-touch-target"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,n){if(i&1){let r=Yt();jt(),w(0,"div",1)(1,"button",2,0),H("click",function(){return rt(r),st(n._handleClick())}),St(3,"div",3)(4,"span",4),w(5,"span",5)(6,"span",6)(7,"span",7),St(8,"span",8),E(),w(9,"span",9),St(10,"span",10),E(),ut(11,qb,5,0,"span",11),E()()(),w(12,"label",12),H("click",function(a){return rt(r),st(a.stopPropagation())}),at(13),E()()}if(i&2){let r=Zn(2);pt("labelPosition",n.labelPosition),L(),$("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled)("mat-mdc-slide-toggle-disabled-interactive",n.disabledInteractive),pt("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("disabled",n.disabled&&!n.disabledInteractive),kt("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),L(9),pt("matRippleTrigger",r)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),L(),ft(n.hideIcon?-1:11),L(),pt("for",n.buttonId),kt("id",n._labelId)}},dependencies:[Tt,sf],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}label:empty{display:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-slide-toggle-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-slide-toggle-touch-target-size, 48px);width:100%;transform:translate(-50%, -50%);display:var(--mat-slide-toggle-touch-target-display, block)}[dir=rtl] .mat-mdc-slide-toggle-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return o})();var $b=["knob"],Kb=["valueIndicatorContainer"];function Qb(o,e){if(o&1&&(w(0,"div",2,1)(2,"div",5)(3,"span",6),z(4),E()()()),o&2){let t=X();L(4),$n(t.valueIndicatorText)}}var Jb=["trackActive"],tv=["*"];function ev(o,e){if(o&1&&St(0,"div"),o&2){let t=e.$implicit,i=e.$index,n=X(3);pn(t===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),ir("transform",n._calcTickMarkTransform(i))}}function iv(o,e){if(o&1&&Ud(0,ev,1,4,"div",8,Gd),o&2){let t=X(2);Wd(t._tickMarks)}}function nv(o,e){if(o&1&&(w(0,"div",6,1),ut(2,iv,2,0),E()),o&2){let t=X();L(2),ft(t._cachedWidth?2:-1)}}function ov(o,e){if(o&1&&St(0,"mat-slider-visual-thumb",7),o&2){let t=X();pt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var tt=(function(o){return o[o.START=1]="START",o[o.END=2]="END",o})(tt||{}),Ao=(function(o){return o[o.ACTIVE=0]="ACTIVE",o[o.INACTIVE=1]="INACTIVE",o})(Ao||{}),lc=new B("_MatSlider"),kf=new B("_MatSliderThumb"),rv=new B("_MatSliderRangeThumb"),Sf=new B("_MatSliderVisualThumb");var sv=(()=>{class o{_cdr=f(ee);_ngZone=f(K);_slider=f(lc);_renderer=f(zt);_listenerCleanups;discrete=!1;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=f(q).nativeElement;_platform=f(ht);constructor(){}ngAfterViewInit(){let t=this._slider._getInput(this.thumbPosition);t&&(this._ripple.radius=24,this._sliderInput=t,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl,n=this._renderer;this._listenerCleanups=[n.listen(i,"pointermove",this._onPointerMove),n.listen(i,"pointerdown",this._onDragStart),n.listen(i,"pointerup",this._onDragEnd),n.listen(i,"pointerleave",this._onMouseLeave),n.listen(i,"focus",this._onFocus),n.listen(i,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(t=>t())}_onPointerMove=t=>{if(this._sliderInput._isFocused)return;let i=this._hostElement.getBoundingClientRect(),n=this._slider._isCursorOnSliderThumb(t,i);this._isHovered=n,n?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=t=>{t.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===se.FADING_IN||t?.state===se.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===tt.START?tt.END:tt.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===tt.START?tt.END:tt.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,n){if(i&1&&ce(Tt,5)($b,5)(Kb,5),i&2){let r;dt(r=mt())&&(n._ripple=r.first),dt(r=mt())&&(n._knob=r.first),dt(r=mt())&&(n._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[It([{provide:Sf,useExisting:o}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,n){i&1&&(ut(0,Qb,5,1,"div",2),St(1,"div",3,0)(3,"div",4)),i&2&&(ft(n.discrete?0:-1),L(3),pt("matRippleDisabled",!0))},dependencies:[Tt],styles:[`.mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}
`],encapsulation:2,changeDetection:0})}return o})(),Ef=(()=>{class o{_ngZone=f(K);_cdr=f(ee);_elementRef=f(q);_dir=f(Ee,{optional:!0});_globalRippleOptions=f(Ji,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(t){this._disabled=t;let i=this._getInput(tt.END),n=this._getInput(tt.START);i&&(i.disabled=this._disabled),n&&(n.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}_discrete=!1;get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=t,this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI())}_showTickMarks=!1;get min(){return this._min}set min(t){let i=t==null||isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_min=0;color;disableRipple=!1;_updateMin(t){let i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){let i=this._getInput(tt.END),n=this._getInput(tt.START),r=i.value,s=n.value;n.min=t.new,i.min=Math.max(t.new,n.value),n.max=Math.min(i.max,i.value),n._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),r!==i.value&&this._onValueChange(i),s!==n.value&&this._onValueChange(n)}_updateMinNonRange(t){let i=this._getInput(tt.END);if(i){let n=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){let i=t==null||isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_max=100;_updateMax(t){let i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){let i=this._getInput(tt.END),n=this._getInput(tt.START),r=i.value,s=n.value;i.max=t.new,n.max=Math.min(t.new,i.value),i.min=n.value,i._updateWidthInactive(),n._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),r!==i.value&&this._onValueChange(i),s!==n.value&&this._onValueChange(n)}_updateMaxNonRange(t){let i=this._getInput(tt.END);if(i){let n=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){let i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_step=1;_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let t=this._getInput(tt.END),i=this._getInput(tt.START),n=t.value,r=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),n!==t.value&&this._onValueChange(t),r!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let t=this._getInput(tt.END);if(t){let i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}displayWith=t=>`${t}`;_tickMarks;_noopAnimations=At();_dirChangeSubscription;_resizeObserver=null;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=f(ht);constructor(){f(Xt).load(tn),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let t=this._getInput(tt.END),i=this._getInput(tt.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();let n=this._getThumb(tt.END);this._rippleRadius=n._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription?.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let t=this._getInput(tt.END),i=this._getInput(tt.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(tt.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(tt.START)._isActive||this._getThumb(tt.END)._isActive}_getValue(t=tt.END){let i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!!(this._getInput(tt.START)?._skipUIUpdate||this._getInput(tt.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){let i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){let i=t*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-i:i}px)`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let t=this._getInput(tt.END),i=this._getInput(tt.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{let t=this._getInput(tt.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let t=this._getInput(tt.START),i=this._getInput(tt.END);return!t||!i?!1:i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){let i=t.getSibling(),n=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),n._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){if(this._skipUpdate())return;let i=this._getThumb(t.thumbPosition===tt.END?tt.END:tt.START);i._hostElement.style.transform=`translateX(${t.translateX}px)`}_updateValueIndicatorUI(t){if(this._skipUpdate())return;let i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext.set(i):t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===tt.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let n=this._getThumb(t.thumbPosition);i.length<3?n._hostElement.classList.add("mdc-slider__thumb--short-value"):n._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let t=this._getInput(tt.END),i=this._getInput(tt.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let t=this._step&&this._step>0?this._step:1,n=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*n}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){let i=t.getSibling();if(!i||!this._cachedWidth)return;let n=Math.abs(i.translateX-t.translateX)/this._cachedWidth;t._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${n})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${n})`})}_updateTrackUINonRange(t){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t)}_updateTickMarkUINonRange(t){let i=this._getValue(),n=Math.max(Math.round((i-this.min)/t),0)+1,r=Math.max(Math.round((this.max-i)/t),0)-1;this._isRtl?n++:r++,this._tickMarks=Array(n).fill(Ao.ACTIVE).concat(Array(r).fill(Ao.INACTIVE))}_updateTickMarkUIRange(t){let i=this._getValue(),n=this._getValue(tt.START),r=Math.max(Math.round((n-this.min)/t),0),s=Math.max(Math.round((i-n)/t)+1,0),a=Math.max(Math.round((this.max-i)/t),0);this._tickMarks=Array(r).fill(Ao.INACTIVE).concat(Array(s).fill(Ao.ACTIVE),Array(a).fill(Ao.INACTIVE))}_getInput(t){if(t===tt.END&&this._input)return this._input;if(this._inputs?.length)return t===tt.START?this._inputs.first:this._inputs.last}_getThumb(t){return t===tt.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){let n=i.width/2,r=i.x+n,s=i.y+n,a=t.clientX-r,l=t.clientY-s;return Math.pow(a,2)+Math.pow(l,2)<Math.pow(n,2)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-slider"]],contentQueries:function(i,n,r){if(i&1&&un(r,kf,5)(r,rv,4),i&2){let s;dt(s=mt())&&(n._input=s.first),dt(s=mt())&&(n._inputs=s)}},viewQuery:function(i,n){if(i&1&&ce(Jb,5)(Sf,5),i&2){let r;dt(r=mt())&&(n._trackActive=r.first),dt(r=mt())&&(n._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,n){i&2&&(pn("mat-"+(n.color||"primary")),$("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",yt],discrete:[2,"discrete","discrete",yt],showTickMarks:[2,"showTickMarks","showTickMarks",yt],min:[2,"min","min",Se],color:"color",disableRipple:[2,"disableRipple","disableRipple",yt],max:[2,"max","max",Se],step:[2,"step","step",Se],displayWith:"displayWith"},exportAs:["matSlider"],features:[It([{provide:lc,useExisting:o}])],ngContentSelectors:tv,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,n){i&1&&(jt(),at(0),w(1,"div",2),St(2,"div",3),w(3,"div",4),St(4,"div",5,0),E(),ut(6,nv,3,1,"div",6),E(),ut(7,ov,1,3,"mat-slider-visual-thumb",7),St(8,"mat-slider-visual-thumb",7)),i&2&&(L(6),ft(n.showTickMarks?6:-1),L(),ft(n._isRange?7:-1),L(),pt("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[sv],styles:[`.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mat-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mat-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mat-slider-active-track-height, 4px);top:calc((var(--mat-slider-inactive-track-height, 4px) - var(--mat-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mat-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mat-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mat-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mat-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mat-slider-inactive-track-height, 4px);border-radius:var(--mat-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mat-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;transform:scale(0);transform-origin:var(--mat-slider-value-indicator-transform-origin, 0 28px);transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mat-slider-label-container-color, var(--mat-sys-primary));color:var(--mat-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mat-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mat-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mat-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mat-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mat-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mat-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mat-slider-handle-width, 20px);height:var(--mat-slider-handle-height, 20px);border-width:calc(var(--mat-slider-handle-height, 20px)/2) calc(var(--mat-slider-handle-width, 20px)/2);box-shadow:var(--mat-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mat-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mat-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mat-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mat-slider-with-tick-marks-container-size, 2px);height:var(--mat-slider-with-tick-marks-container-size, 2px);border-radius:var(--mat-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mat-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__input{cursor:auto}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return o})();var av={provide:Yi,useExisting:we(()=>cc),multi:!0};var cc=(()=>{class o{_ngZone=f(K);_elementRef=f(q);_cdr=f(ee);_slider=f(lc);_platform=f(ht);_listenerCleanups;get value(){return Se(this._hostElement.value,0)}set value(t){t===null&&(t=this._getDefaultValue()),t=isNaN(t)?0:t;let i=t+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new xt;dragStart=new xt;dragEnd=new xt;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}_translateX;thumbPosition=tt.END;get min(){return Se(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return Se(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return Se(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return yt(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=nt("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(t){this._isFocused=t}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new Z;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){let t=f(zt);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[t.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),t.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),t.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(t=>t()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!(this.disabled||t.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){let i=t.clientX-this._slider._cachedLeft,n=this._slider._cachedWidth,r=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/r),a=this._slider._isRtl?1-i/n:i/n,d=Math.round(a*s)/s*(this._slider.max-this._slider.min)+this._slider.min,c=Math.round(d/r)*r,m=this.value;if(c===m){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation});return}this.value=c,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){let i=this._tickMarkOffset,n=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(t,n),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||t!==null)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,n){i&1&&H("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),i&2&&kt("aria-valuetext",n._valuetext())},inputs:{value:[2,"value","value",Se]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[It([av,{provide:kf,useExisting:o}])]})}return o})();var lv=["tooltip"],cv=20;var dv=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let o=f(bt);return()=>Wl(o,{scrollThrottle:cv})}}),mv=new B("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Mf="tooltip-panel",Df=Zi({passive:!0}),hv=8,uv=8,fv=24,pv=200,dc=(()=>{class o{_elementRef=f(q);_ngZone=f(K);_platform=f(ht);_ariaDescriber=f(Hu);_focusMonitor=f(Di);_dir=f(Ee);_injector=f(bt);_viewContainerRef=f(Yn);_mediaMatcher=f(ko);_animationsDisabled=At();_defaultOptions=f(mv,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Tf;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=$t(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=$t(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=De(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=De(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Z;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=hv}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qt(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,n])=>{t.removeEventListener(i,n,Df)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let n=this._createOverlay(i);this._detach(),this._portal=this._portal||new qi(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=n.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof q)return this._overlayRef;this._detach()}let i=this._injector.get(Eo).getAncestorScrollContainers(this._elementRef),n=`${this._cssClassPrefix}-${Mf}`,r=Xl(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i).withPopoverLocation("global");return r.positionChanges.pipe(Qt(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Tr(this._injector,{direction:this._dir,positionStrategy:r,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,n]:n,scrollStrategy:this._injector.get(dv)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Qt(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!$i(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,n=this._getOrigin(),r=this._getOverlayPosition();i.withPositions([this._addOffset(Y(Y({},n.main),r.main)),this._addOffset(Y(Y({},n.fallback),r.fallback))])}_addOffset(t){let i=uv,n=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=n?-i:i:t.originX==="end"&&(t.offsetX=n?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,n;i=="above"||i=="below"?n={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?n={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(n={originX:"end",originY:"center"});let{x:r,y:s}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,n;i=="above"?n={overlayX:"center",overlayY:"bottom"}:i=="below"?n={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?n={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(n={overlayX:"start",overlayY:"center"});let{x:r,y:s}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ge(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:n,originY:r}=t,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=n==="end"?"left":"right":s=n==="start"?"left":"right":s=i==="bottom"&&r==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Mf}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],n=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,n)},this._defaultOptions?.touchLongPressShowDelay??r)}])):this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(!this._isTouchPlatform())t.push(["mouseleave",i=>{let n=i.relatedTarget;(!n||!this._overlayRef?.overlayElement.contains(n))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,n])=>{this._elementRef.nativeElement.addEventListener(i,n,Df)})}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_wheelListener(t){if(this._isTooltipVisible()){let i=this._injector.get(Dt).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;i!==n&&!n.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,n=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),(t==="on"||!i.draggable)&&(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||ge({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,n){i&2&&$("mat-mdc-tooltip-disabled",n.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return o})(),Tf=(()=>{class o{_changeDetectorRef=f(ee);_elementRef=f(q);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=At();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Z;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>fv&&t.width>=pv}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,n=this._showAnimation,r=this._hideAnimation;if(i.classList.remove(t?r:n),i.classList.add(t?n:r),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-tooltip-component"]],viewQuery:function(i,n){if(i&1&&ce(lv,7),i&2){let r;dt(r=mt())&&(n._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,n){i&1&&H("mouseleave",function(s){return n._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,n){if(i&1){let r=Yt();w(0,"div",1,0),H("animationend",function(a){return rt(r),st(n._handleAnimationEnd(a))}),w(2,"div",2),z(3),E()()}i&2&&($("mdc-tooltip--multiline",n._isMultiline),pt("ngClass",n.tooltipClass),L(3),$n(n.message))},dependencies:[tm],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return o})();var mc="units",gv=[1,2,5],Fr=25.4/.28,hc=class extends _m{constructor(e){e=e||{};let t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;let i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+cm,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(mc,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(mc)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(mc,e)}setDpi(e){this.dpi_=e}updateElement_(){let e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=e.center,i=e.projection,n=this.getUnits(),r=n=="degrees"?"degrees":"m",s=hl(i,e.resolution,t,r),a=this.minWidth_*(this.dpi_||Fr)/Fr,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Fr)/Fr:void 0,d=a*s,c="";if(n=="degrees"){let C=Am.degrees;d*=C,d<C/60?(c="\u2033",s*=3600):d<C?(c="\u2032",s*=60):c="\xB0"}else if(n=="imperial")d<.9144?(c="in",s/=.0254):d<1609.344?(c="ft",s/=.3048):(c="mi",s/=1609.344);else if(n=="nautical")s/=1852,c="NM";else if(n=="metric")d<1e-6?(c="nm",s*=1e9):d<.001?(c="\u03BCm",s*=1e6):d<1?(c="mm",s*=1e3):d<1e3?c="m":(c="km",s/=1e3);else if(n=="us")d<.9144?(c="in",s*=39.37):d<1609.344?(c="ft",s/=.30480061):(c="mi",s/=1609.3472);else throw new Error("Invalid units");let m=3*Math.floor(Math.log(a*s)/Math.log(10)),h,u,p,_=0,g,b;for(;;){p=Math.floor(m/3);let C=Math.pow(10,p);if(h=gv[(m%3+3)%3]*C,u=Math.round(h/s),isNaN(u)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&u>=l){h=_,u=g,p=b;break}else if(u>=a)break;_=h,g=u,b=p,++m}let x=this.scaleBar_?this.createScaleBar(u,h,c):h.toFixed(p<0?-p:0)+" "+c;this.renderedHTML_!=x&&(this.innerElement_.innerHTML=x,this.renderedHTML_=x),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){let n=this.getScaleForResolution(),r=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),s=this.scaleBarSteps_,a=e/s,l=[this.createMarker("absolute")];for(let c=0;c<s;++c){let m=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${m}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(c%2===0||s===2?this.createStepText(c,e,!1,t,i):"")+"</div>")}return l.push(this.createStepText(s,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+r+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,n,r){let a=(e===0?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+r),l=e===0?-3:t/this.scaleBarSteps_*-1,d=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${d}px;left: ${i?t+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){let e=hl(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||Fr,i=1e3/25.4;return e*i*t}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}},uc=hc;var fc=class o extends gm{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new o(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(yn(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=vn(e,Xe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?_v(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function _v(o){if(typeof o=="function")return o;let e;return Array.isArray(o)?e=o:(co(typeof o.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[o]),function(){return e}}var Te=fc;var ba=class o extends mi{constructor(e,t,i){super(),i!==void 0&&t===void 0?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){let e=new o(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){let r=this.flatCoordinates,s=e-r[0],a=t-r[1],l=s*s+a*a;if(l<n){if(l===0)for(let d=0;d<this.stride;++d)i[d]=r[d];else{let d=this.getRadius()/Math.sqrt(l);i[0]=r[0]+d*s,i[1]=r[1]+d*a;for(let c=2;c<this.stride;++c)i[c]=r[c]}return i.length=this.stride,l}return n}containsXY(e,t){let i=this.flatCoordinates,n=e-i[0],r=t-i[1];return n*n+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){let t=this.flatCoordinates,i=t[this.stride]-t[0];return wn(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){let t=this.getExtent();if(ie(e,t)){let i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:Sm(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){let t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let r=1;r<t;++r)n[t+r]=e[r];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);let n=this.flatCoordinates,r=Km(n,0,e,this.stride);n[r++]=n[0]+t;for(let s=1,a=this.stride;s<a;++s)n[r++]=n[s];n.length=r,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){let i=this.getCenter(),n=this.getStride();this.setCenter(_s(i,0,i.length,n,e,t,i)),this.changed()}};ba.prototype.transform;var Rf=ba;var gc=class o extends Gm{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(yn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){let e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(vn(e[t],Xe.CHANGE,this.changed,this))}clone(){let e=new o(pc(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<li(this.getExtent(),e,t))return n;let r=this.geometries_;for(let s=0,a=r.length;s<a;++s)n=r[s].closestPointXY(e,t,i,n);return n}containsXY(e,t){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)if(i[n].containsXY(e,t))return!0;return!1}computeExtent(e){wm(e);let t=this.geometries_;for(let i=0,n=t.length;i<n;++i)Cm(e,t[i].getExtent());return e}getGeometries(){return pc(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[],t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=[],i=this.geometries_,n=!1;for(let r=0,s=i.length;r<s;++r){let a=i[r],l=a.getSimplifiedGeometry(e);t.push(l),l!==a&&(n=!0)}return n?new o(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){let t=this.geometries_;for(let i=0,n=t.length;i<n;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].rotate(e,t);this.changed()}scale(e,t,i){i||(i=fs(this.getExtent()));let n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(pc(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){let t=this.geometries_;for(let i=0,n=t.length;i<n;++i)t[i].applyTransform(e);this.changed()}translate(e,t){let i=this.geometries_;for(let n=0,r=i.length;n<r;++n)i[n].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function pc(o){return o.map(e=>e.clone())}var If=gc;function Bn(o,e,t,i,n,r,s){let a,l,d=(t-e)/i;if(d===1)a=e;else if(d===2)a=e,l=n;else if(d!==0){let c=o[e],m=o[e+1],h=0,u=[0];for(let g=e+i;g<t;g+=i){let b=o[g],x=o[g+1];h+=Math.sqrt((b-c)*(b-c)+(x-m)*(x-m)),u.push(h),c=b,m=x}let p=n*h,_=sm(u,p);_<0?(l=(p-u[-_-2])/(u[-_-1]-u[-_-2]),a=e+(-_-2)*i):a=e+_*i}s=s>1?s:2,r=r||new Array(s);for(let c=0;c<s;++c)r[c]=a===void 0?NaN:l===void 0?o[a+c]:me(o[a+c],o[a+i+c],l);return r}function va(o,e,t,i,n,r){if(t==e)return null;let s;if(n<o[e+i-1])return r?(s=o.slice(e,e+i),s[i-1]=n,s):null;if(o[t-1]<n)return r?(s=o.slice(t-i,t),s[i-1]=n,s):null;if(n==o[e+i-1])return o.slice(e,e+i);let a=e/i,l=t/i;for(;a<l;){let h=a+l>>1;n<o[(h+1)*i-1]?l=h:a=h+1}let d=o[a*i-1];if(n==d)return o.slice((a-1)*i,(a-1)*i+i);let c=o[(a+1)*i-1],m=(n-d)/(c-d);s=[];for(let h=0;h<i-1;++h)s.push(me(o[(a-1)*i+h],o[a*i+h],m));return s.push(n),s}function Af(o,e,t,i,n,r,s){if(s)return va(o,e,t[t.length-1],i,n,r);let a;if(n<o[i-1])return r?(a=o.slice(0,i),a[i-1]=n,a):null;if(o[o.length-1]<n)return r?(a=o.slice(o.length-i),a[i-1]=n,a):null;for(let l=0,d=t.length;l<d;++l){let c=t[l];if(e!=c){if(n<o[e+i-1])return null;if(n<=o[c-1])return va(o,e,c,i,n,!1);e=c}}return null}function Fo(o,e,t,i){let n=o[e],r=o[e+1],s=0;for(let a=e+i;a<t;a+=i){let l=o[a],d=o[a+1];s+=Math.sqrt((l-n)*(l-n)+(d-r)*(d-r)),n=l,r=d}return s}var _c=class o extends mi{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){de(this.flatCoordinates,e),this.changed()}clone(){let e=new o(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<li(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,n))}forEachSegment(e){return rh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,va(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Si(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Bn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){let t=[];return t.length=vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new o(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return sh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=bs(this.flatCoordinates,0,e,this.stride),this.changed()}},Be=_c;var bc=class o extends mi{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let n=e,r=[],s=[];for(let l=0,d=n.length;l<d;++l){let c=n[l];de(r,c.getFlatCoordinates()),s.push(r.length)}let a=n.length===0?this.getLayout():n[0].getLayout();this.setFlatCoordinates(a,r),this.ends_=s}}appendLineString(e){de(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new o(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,n){return n<li(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xm(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,n))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Af(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return mr(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Be(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,t=this.ends_,i=this.layout,n=[],r=0;for(let s=0,a=t.length;s<a;++s){let l=t[s],d=new Be(e.slice(r,l),i);n.push(d),r=l}return n}getLength(){let e=this.ends_,t=0,i=0;for(let n=0,r=e.length;n<r;++n)i+=Fo(this.flatCoordinates,t,e[n],this.stride),t=e[n];return i}getFlatMidpoints(){let e=[],t=this.flatCoordinates,i=0,n=this.ends_,r=this.stride;for(let s=0,a=n.length;s<a;++s){let l=n[s],d=Bn(t,i,l,r,.5);de(e,d),i=l}return e}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=ys(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new o(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return ah(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=Qm(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},vc=bc;var yc=class o extends mi{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){de(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let e=new o(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){if(n<li(this.getExtent(),e,t))return n;let r=this.flatCoordinates,s=this.stride;for(let a=0,l=r.length;a<l;a+=s){let d=ar(e,t,r[a],r[a+1]);if(d<n){n=d;for(let c=0;c<s;++c)i[c]=r[a+c];i.length=s}}return n}getCoordinates(){return Si(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new qt(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,t=this.layout,i=this.stride,n=[];for(let r=0,s=e.length;r<s;r+=i){let a=new qt(e.slice(r,r+i),t);n.push(a)}return n}getType(){return"MultiPoint"}intersectsExtent(e){let t=this.flatCoordinates,i=this.stride;for(let n=0,r=t.length;n<r;n+=i){let s=t[n],a=t[n+1];if(ym(e,s,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=bs(this.flatCoordinates,0,e,this.stride),this.changed()}},ya=yc;function xa(o,e,t,i){let n=[],r=Ye();for(let s=0,a=t.length;s<a;++s){let l=t[s];r=hs(o,e,l[0],i),n.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return n}var xc=class o extends mi{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let n=e,r=[],s=[];for(let a=0,l=n.length;a<l;++a){let d=n[a],c=r.length,m=d.getEnds();for(let h=0,u=m.length;h<u;++h)m[h]+=c;de(r,d.getFlatCoordinates()),s.push(m)}t=n.length===0?this.getLayout():n[0].getLayout(),e=r,i=s}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{let i=this.flatCoordinates.length;de(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let n=0,r=t.length;n<r;++n)t[n]+=i}this.endss_.push(t),this.changed()}clone(){let e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();let i=new o(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,n){return n<li(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ym(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$m(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,n))}containsXY(e,t){return nh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Wm(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),fl(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,hr(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=xa(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=xs(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new ya(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;ch(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=fl(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=ih(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new o(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{let r=this.endss_[e-1];t=r[r.length-1]}let i=this.endss_[e].slice(),n=i[i.length-1];if(t!==0)for(let r=0,s=i.length;r<s;++r)i[r]-=t;return new Ne(this.flatCoordinates.slice(t,n),this.layout,i)}getPolygons(){let e=this.layout,t=this.flatCoordinates,i=this.endss_,n=[],r=0;for(let s=0,a=i.length;s<a;++s){let l=i[s].slice(),d=l[l.length-1];if(r!==0)for(let m=0,h=l.length;m<h;++m)l[m]-=r;let c=new Ne(t.slice(r,d),e,l);n.push(c),r=d}return n}getType(){return"MultiPolygon"}intersectsExtent(e){return lh(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);let i=Jm(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{let n=i[i.length-1];this.flatCoordinates.length=n.length===0?0:n[n.length-1]}this.changed()}},wc=xc;var Cc=class{drawCustom(e,t,i,n,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},wa=Cc;var Or={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Pr=[Or.FILL],hi=[Or.STROKE],Ti=[Or.BEGIN_PATH],kc=[Or.CLOSE_PATH],U=Or;var Sc=class extends wa{constructor(e,t,i,n){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,s=r.length;for(let a=0,l=e.length;a<l;a+=t)n[0]=e[a],n[1]=e[a+1],rr(i,n)&&(r[s++]=n[0],r[s++]=n[1]);return s}appendFlatLineCoordinates(e,t,i,n,r,s){let a=this.coordinates,l=a.length,d=this.getBufferedMaxExtent();s&&(t+=n);let c=e[t],m=e[t+1],h=this.tmpCoordinate_,u=!0,p,_,g;for(p=t+n;p<i;p+=n)h[0]=e[p],h[1]=e[p+1],g=xm(d,h),g!==_?(u&&(a[l++]=c,a[l++]=m,u=!1),a[l++]=h[0],a[l++]=h[1]):g===bm.INTERSECTING?(a[l++]=h[0],a[l++]=h[1],u=!1):u=!0,c=h[0],m=h[1],_=g;return(r&&u||p===t+n)&&(a[l++]=c,a[l++]=m),l}drawCustomCoordinates_(e,t,i,n,r){for(let s=0,a=i.length;s<a;++s){let l=i[s],d=this.appendFlatLineCoordinates(e,t,l,n,!1,!1);r.push(d),t=l}return t}drawCustom(e,t,i,n,r){this.beginGeometry(e,t,r);let s=e.getType(),a=e.getStride(),l=this.coordinates.length,d,c,m,h,u;switch(s){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),h=[];let p=e.getEndss();u=0;for(let _=0,g=p.length;_<g;++_){let b=[];u=this.drawCustomCoordinates_(d,u,p[_],a,b),h.push(b)}this.instructions.push([U.CUSTOM,l,h,e,i,hr,r]),this.hitDetectionInstructions.push([U.CUSTOM,l,h,e,n||i,hr,r]);break;case"Polygon":case"MultiLineString":m=[],d=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(d,0,e.getEnds(),a,m),this.instructions.push([U.CUSTOM,l,m,e,i,mr,r]),this.hitDetectionInstructions.push([U.CUSTOM,l,m,e,n||i,mr,r]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(d,0,d.length,a,!1,!1),this.instructions.push([U.CUSTOM,l,c,e,i,Si,r]),this.hitDetectionInstructions.push([U.CUSTOM,l,c,e,n||i,Si,r]);break;case"MultiPoint":d=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(d,a),c>l&&(this.instructions.push([U.CUSTOM,l,c,e,i,Si,r]),this.hitDetectionInstructions.push([U.CUSTOM,l,c,e,n||i,Si,r]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),c=this.coordinates.length,this.instructions.push([U.CUSTOM,l,c,e,i,void 0,r]),this.hitDetectionInstructions.push([U.CUSTOM,l,c,e,n||i,void 0,r]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[U.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[U.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,n,r,s=-1;for(t=0;t<i;++t)n=e[t],r=n[0],r==U.END_GEOMETRY?s=t:r==U.BEGIN_GEOMETRY&&(n[2]=t,lm(this.hitDetectionInstructions,s,t),s=-1)}fillStyleToState(e,t={}){if(e){let i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=qe(i||oe)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){let i=e.getColor();t.strokeStyle=qe(i||Mn);let n=e.getLineCap();t.lineCap=n!==void 0?n:kn;let r=e.getLineDash();t.lineDash=r?r.slice():ve;let s=e.getLineDashOffset();t.lineDashOffset=s||ye;let a=e.getLineJoin();t.lineJoin=a!==void 0?a:Sn;let l=e.getWidth();t.lineWidth=l!==void 0?l:Tn;let d=e.getMiterLimit();t.miterLimit=d!==void 0?d:En,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){let i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){let t=e.fillStyle,i=[U.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[U.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,n=e.lineCap,r=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=n||r!=e.currentLineDash&&!ai(e.currentLineDash,r)||e.currentLineDashOffset!=s||e.currentLineJoin!=a||e.currentLineWidth!=l||e.currentMiterLimit!=d)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=n,e.currentLineDash=r,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=l,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[U.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=vm(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;zi(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},ui=Sc;var Ec=class extends ui{constructor(e,t,i,n){super(e,t,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!rr(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let n=e.getFlatCoordinates(),r=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(n,r);this.instructions.push([U.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let n=e.getFlatCoordinates(),r=[];for(let l=0,d=n.length;l<d;l+=e.getStride())(!this.maxExtent||rr(this.maxExtent,n.slice(l,l+2)))&&r.push(n[l],n[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,2);this.instructions.push([U.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),n=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=n[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},Ff=Ec;var Mc=class extends ui{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinates_(e,t,i,n){let r=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,n,!1,!1),a=[U.MOVE_TO_LINE_TO,r,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){let n=this.state,r=n.strokeStyle,s=n.lineWidth;if(r===void 0||s===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ve,ye],Ti);let a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(hi),this.endGeometry(t)}drawMultiLineString(e,t,i){let n=this.state,r=n.strokeStyle,s=n.lineWidth;if(r===void 0||s===void 0)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ve,ye],Ti);let a=e.getEnds(),l=e.getFlatCoordinates(),d=e.getStride(),c=0;for(let m=0,h=a.length;m<h;++m)c=this.drawFlatCoordinates_(l,c,a[m],d);this.hitDetectionInstructions.push(hi),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(hi),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(hi),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ti)}},Of=Mc;var Dc=class extends ui{constructor(e,t,i,n){super(e,t,i,n)}drawFlatCoordinatess_(e,t,i,n){let r=this.state,s=r.fillStyle!==void 0,a=r.strokeStyle!==void 0,l=i.length;this.instructions.push(Ti),this.hitDetectionInstructions.push(Ti);for(let d=0;d<l;++d){let c=i[d],m=this.coordinates.length,h=this.appendFlatLineCoordinates(e,t,c,n,!0,!a),u=[U.MOVE_TO_LINE_TO,m,h];this.instructions.push(u),this.hitDetectionInstructions.push(u),a&&(this.instructions.push(kc),this.hitDetectionInstructions.push(kc)),t=c}return s&&(this.instructions.push(Pr),this.hitDetectionInstructions.push(Pr)),a&&(this.instructions.push(hi),this.hitDetectionInstructions.push(hi)),t}drawCircle(e,t,i){let n=this.state,r=n.fillStyle,s=n.strokeStyle;if(r===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,oe]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ve,ye]);let a=e.getFlatCoordinates(),l=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let c=[U.CIRCLE,d];this.instructions.push(Ti,c),this.hitDetectionInstructions.push(Ti,c),n.fillStyle!==void 0&&(this.instructions.push(Pr),this.hitDetectionInstructions.push(Pr)),n.strokeStyle!==void 0&&(this.instructions.push(hi),this.hitDetectionInstructions.push(hi)),this.endGeometry(t)}drawPolygon(e,t,i){let n=this.state,r=n.fillStyle,s=n.strokeStyle;if(r===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,oe]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ve,ye]);let a=e.getEnds(),l=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(l,0,a,d),this.endGeometry(t)}drawMultiPolygon(e,t,i){let n=this.state,r=n.fillStyle,s=n.strokeStyle;if(r===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,oe]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ve,ye]);let a=e.getEndss(),l=e.getOrientedFlatCoordinates(),d=e.getStride(),c=0;for(let m=0,h=a.length;m<h;++m)c=this.drawFlatCoordinatess_(l,c,a[m],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,n=t.length;i<n;++i)t[i]=th(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}},Tc=Dc;function Pf(o,e,t,i,n){let r=[],s=t,a=0,l=e.slice(t,2);for(;a<o&&s+n<i;){let[d,c]=l.slice(-2),m=e[s+n],h=e[s+n+1],u=Math.sqrt((m-d)*(m-d)+(h-c)*(h-c));if(a+=u,a>=o){let p=(o-a+u)/u,_=me(d,m,p),g=me(c,h,p);l.push(_,g),r.push(l),l=[_,g],a==o&&(s+=n),a=0}else if(a<o)l.push(e[s+n],e[s+n+1]),s+=n;else{let p=u-a,_=me(d,m,p/u),g=me(c,h,p/u);l.push(_,g),r.push(l),l=[_,g],a=0,s+=n}}return a>0&&r.push(l),r}function Lf(o,e,t,i,n){let r=t,s=t,a=0,l=0,d=t,c,m,h,u,p,_,g,b,x,C;for(m=t;m<i;m+=n){let k=e[m],D=e[m+1];p!==void 0&&(x=k-p,C=D-_,u=Math.sqrt(x*x+C*C),g!==void 0&&(l+=h,c=Math.acos((g*x+b*C)/(h*u)),c>o&&(l>a&&(a=l,r=d,s=m),l=0,d=m-n)),h=u,g=x,b=C),p=k,_=D}return l+=u,l>a?[d,m]:[r,s]}var Lr={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Rc=class extends ui{constructor(e,t,i,n){super(e,t,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[oe]={fillStyle:oe},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let n=this.textFillState_,r=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!n&&!r)return;let a=this.coordinates,l=a.length,d=e.getType(),c=null,m=e.getStride();if(s.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!ie(this.maxExtent,e.getExtent()))return;let h;if(c=e.getFlatCoordinates(),d=="LineString")h=[c.length];else if(d=="MultiLineString")h=e.getEnds();else if(d=="Polygon")h=e.getEnds().slice(0,1);else if(d=="MultiPolygon"){let g=e.getEndss();h=[];for(let b=0,x=g.length;b<x;++b)h.push(g[b][0])}this.beginGeometry(e,t,i);let u=s.repeat,p=u?void 0:s.textAlign,_=0;for(let g=0,b=h.length;g<b;++g){let x;u?x=Pf(u*this.resolution,c,_,h[g],m):x=[c.slice(_,h[g])];for(let C=0,k=x.length;C<k;++C){let D=x[C],F=0,T=D.length;if(p==null){let S=Lf(s.maxAngle,D,0,D.length,2);F=S[0],T=S[1]}for(let S=F;S<T;S+=m)a.push(D[S],D[S+1]);let y=a.length;_=h[g],this.drawChars_(l,y),l=y}}this.endGeometry(t)}else{let h=s.overflow?null:[];switch(d){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),m=2;break;case"Polygon":c=e.getFlatInteriorPoint(),s.overflow||h.push(c[2]/this.resolution),m=3;break;case"MultiPolygon":let k=e.getFlatInteriorPoints();c=[];for(let D=0,F=k.length;D<F;D+=3)s.overflow||h.push(k[D+2]/this.resolution),c.push(k[D],k[D+1]);if(c.length===0)return;m=2;break;default:}let u=this.appendFlatPointCoordinates(c,m);if(u===l)return;if(h&&(u-l)/2!==c.length/m){let k=l/2;h=h.filter((D,F)=>{let T=a[(k+F)*2]===c[F*m]&&a[(k+F)*2+1]===c[F*m+1];return T||--k,T})}this.saveTextStates_();let p=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,_=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,t,i);let g=s.padding;if(g!=Ei&&(s.scale[0]<0||s.scale[1]<0)){let k=s.padding[0],D=s.padding[1],F=s.padding[2],T=s.padding[3];s.scale[0]<0&&(D=-D,T=-T),s.scale[1]<0&&(k=-k,F=-F),g=[k,D,F,T]}let b=this.pixelRatio;this.instructions.push([U.DRAW_IMAGE,l,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==Ei?Ei:g.map(function(k){return k*b}),p,_,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);let x=1/b,C=p?p.slice(0):null;C&&(C[1]=oe),this.hitDetectionInstructions.push([U.DRAW_IMAGE,l,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[x,x],NaN,this.declutterMode_,this.declutterImageWithText_,g,C,_,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?oe:this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let r=this.textKey_;r in this.textStates||(this.textStates[r]={font:t.font,textAlign:t.textAlign||Ui,justify:t.justify,textBaseline:t.textBaseline||Dn,scale:t.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,d=Lr[n.textBaseline],c=this.textOffsetY_*l,m=this.text_,h=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([U.DRAW_CHARS,e,t,d,n.overflow,a,n.maxAngle,l,c,r,h*l,m,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([U.DRAW_CHARS,e,t,d,n.overflow,a&&oe,n.maxAngle,l,c,r,h*l,m,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,n,r;if(!e)this.text_="";else{let s=e.getFill();s?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=qe(s.getColor()||oe)):(n=null,this.textFillState_=n);let a=e.getStroke();if(!a)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);let _=a.getLineDash(),g=a.getLineDashOffset(),b=a.getWidth(),x=a.getMiterLimit();r.lineCap=a.getLineCap()||kn,r.lineDash=_?_.slice():ve,r.lineDashOffset=g===void 0?ye:g,r.lineJoin=a.getLineJoin()||Sn,r.lineWidth=b===void 0?Tn:b,r.miterLimit=x===void 0?En:x,r.strokeStyle=qe(a.getColor()||Mn)}i=this.textState_;let l=e.getFont()||Ss;yh(l);let d=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Dn,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ei,i.scale=d===void 0?[1,1]:d;let c=e.getOffsetX(),m=e.getOffsetY(),h=e.getRotateWithView(),u=e.getKeepUpright(),p=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=m===void 0?0:m,this.textRotateWithView_=h===void 0?!1:h,this.textKeepUpright_=u===void 0?!0:u,this.textRotation_=p===void 0?0:p,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:wt(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n&&n.fillStyle?typeof n.fillStyle=="string"?n.fillStyle:"|"+wt(n.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},Vf=Rc;var bv={Circle:Tc,Default:ui,Image:Ff,LineString:Of,Polygon:Tc,Text:Vf},Ic=class{constructor(e,t,i,n){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let n in i){let r=i[n].finish();e[t][n]=r}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",n=this.buildersByZIndex_[i];n===void 0&&(n={},this.buildersByZIndex_[i]=n);let r=n[t];if(r===void 0){let s=bv[t];r=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=r}return r}},Nf=Ic;function Bf(o,e,t,i,n,r,s,a,l,d,c,m,h=!0){let u=o[e],p=o[e+1],_=0,g=0,b=0,x=0;function C(){_=u,g=p,e+=i,u=o[e],p=o[e+1],x+=b,b=Math.sqrt((u-_)*(u-_)+(p-g)*(p-g))}do C();while(e<t-i&&x+b<r);let k=b===0?0:(r-x)/b,D=me(_,u,k),F=me(g,p,k),T=e-i,y=x,S=r+a*l(d,n,c);for(;e<t-i&&x+b<S;)C();k=b===0?0:(S-x)/b;let P=me(_,u,k),I=me(g,p,k),O=!1;if(h)if(m){let G=[D,F,P,I];_s(G,0,4,2,m,G,G),O=G[0]>G[2]}else O=D>P;let A=Math.PI,lt=[],et=T+i===e;e=T,b=0,x=y,u=o[e],p=o[e+1];let ot;if(et){C(),ot=Math.atan2(p-g,u-_),O&&(ot+=ot>0?-A:A);let G=(P+D)/2,ct=(I+F)/2;return lt[0]=[G,ct,(S-r)/2,ot,n],lt}n=n.replace(/\n/g," ");for(let G=0,ct=n.length;G<ct;){C();let Ft=Math.atan2(p-g,u-_);if(O&&(Ft+=Ft>0?-A:A),ot!==void 0){let ei=Ft-ot;if(ei+=ei>A?-2*A:ei<-A?2*A:0,Math.abs(ei)>s)return null}ot=Ft;let Rt=G,Ot=0;for(;G<ct;++G){let ei=O?ct-G-1:G,Zr=a*l(d,n[ei],c);if(e+i<t&&x+b<r+Ot+Zr/2)break;Ot+=Zr}if(G===Rt)continue;let R=O?n.substring(ct-Rt,ct-G):n.substring(Rt,G);k=b===0?0:(r+Ot/2-x)/b;let _i=me(_,u,k),Zo=me(g,p,k);lt.push([_i,Zo,Ot/2,Ft,R]),r+=Ot}return lt}var Oo=Ye(),en=[],Ri=[],Ii=[],nn=[];function zf(o){return o[3].declutterBox}var jf=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function Ac(o,e){return e==="start"?e=jf.test(o)?"right":"left":e==="end"&&(e=jf.test(o)?"left":"right"),Lr[e]}function vv(o,e,t){return t>0&&o.push(`
`,""),o.push(e,""),o}function yv(o,e,t){return t%2===0&&(o+=e),o}var Fc=class{constructor(e,t,i,n,r){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Me(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new kh:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,n){let r=e+t+i+n;if(this.labels_[r])return this.labels_[r];let s=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,l=this.textStates[t],d=this.pixelRatio,c=[l.scale[0]*d,l.scale[1]*d],m=l.justify?Lr[l.justify]:Ac(Array.isArray(e)?e[0]:e,l.textAlign||Ui),h=n&&s.lineWidth?s.lineWidth:0,u=Array.isArray(e)?e:String(e).split(`
`).reduce(vv,[]),{width:p,height:_,widths:g,heights:b,lineWidths:x}=xh(l,u),C=p+h,k=[],D=(C+2)*c[0],F=(_+h)*c[1],T={width:D<0?Math.floor(D):Math.ceil(D),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:k};(c[0]!=1||c[1]!=1)&&k.push("scale",c),n&&(k.push("strokeStyle",s.strokeStyle),k.push("lineWidth",h),k.push("lineCap",s.lineCap),k.push("lineJoin",s.lineJoin),k.push("miterLimit",s.miterLimit),k.push("setLineDash",[s.lineDash]),k.push("lineDashOffset",s.lineDashOffset)),i&&k.push("fillStyle",a.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");let y=.5-m,S=m*C+y*h,P=[],I=[],O=0,A=0,lt=0,et=0,ot;for(let G=0,ct=u.length;G<ct;G+=2){let Ft=u[G];if(Ft===`
`){A+=O,O=0,S=m*C+y*h,++et;continue}let Rt=u[G+1]||l.font;Rt!==ot&&(n&&P.push("font",Rt),i&&I.push("font",Rt),ot=Rt),O=Math.max(O,b[lt]);let Ot=[Ft,S+y*g[lt]+m*(g[lt]-x[et]),.5*(h+O)+A];S+=g[lt],n&&P.push("strokeText",Ot),i&&I.push("fillText",Ot),++lt}return Array.prototype.push.apply(k,P),Array.prototype.push.apply(k,I),this.labels_[r]=T,T}replayTextBackground_(e,t,i,n,r,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,n,r,s,a,l,d,c,m,h,u,p,_,g){a*=h[0],l*=h[1];let b=i-a,x=n-l,C=r+d>e?e-d:r,k=s+c>t?t-c:s,D=p[3]+C*h[0]+p[1],F=p[0]+k*h[1]+p[2],T=b-p[3],y=x-p[0];(_||m!==0)&&(en[0]=T,nn[0]=T,en[1]=y,Ri[1]=y,Ri[0]=T+D,Ii[0]=Ri[0],Ii[1]=y+F,nn[1]=Ii[1]);let S;return m!==0?(S=Gi(Me(),i,n,1,1,m,-i,-n),ki(S,en),ki(S,Ri),ki(S,Ii),ki(S,nn),wn(Math.min(en[0],Ri[0],Ii[0],nn[0]),Math.min(en[1],Ri[1],Ii[1],nn[1]),Math.max(en[0],Ri[0],Ii[0],nn[0]),Math.max(en[1],Ri[1],Ii[1],nn[1]),Oo)):wn(Math.min(T,T+D),Math.min(y,y+F),Math.max(T,T+D),Math.max(y,y+F),Oo),u&&(b=Math.round(b),x=Math.round(x)),{drawImageX:b,drawImageY:x,drawImageW:C,drawImageH:k,originX:d,originY:c,declutterBox:{minX:Oo[0],minY:Oo[1],maxX:Oo[2],maxY:Oo[3],value:g},canvasTransform:S,scale:h}}replayImageOrLabel_(e,t,i,n,r,s,a){let l=!!(s||a),d=n.declutterBox,c=a?a[2]*n.scale[0]/2:0;return d.minX-c<=t[0]&&d.maxX+c>=0&&d.minY-c<=t[1]&&d.maxY+c>=0&&(l&&this.replayTextBackground_(e,en,Ri,Ii,nn,s,a),wh(e,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=ki(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(i[0]%n,i[1]%n),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,n){let r=this.textStates[t],s=this.createLabel(e,t,n,i),a=this.strokeStates[i],l=this.pixelRatio,d=Ac(Array.isArray(e)?e[0]:e,r.textAlign||Ui),c=Lr[r.textBaseline||Dn],m=a&&a.lineWidth?a.lineWidth:0,h=s.width/l-2*r.scale[0],u=d*h+2*(.5-d)*m,p=c*s.height/l+2*(.5-c)*m;return{label:s,anchorX:u,anchorY:p}}execute_(e,t,i,n,r,s,a,l){let d=this.zIndexContext_,c;this.pixelCoordinates_&&ai(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=di(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Nm(this.renderedTransform_,i));let m=0,h=n.length,u=0,p,_,g,b,x,C,k,D,F,T,y,S,P,I=0,O=0,A=this.coordinateCache_,lt=this.viewRotation_,et=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ot={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:lt},G=this.instructions!=n||this.overlaps?0:200,ct,Ft,Rt,Ot;for(;m<h;){let R=n[m];switch(R[0]){case U.BEGIN_GEOMETRY:ct=R[1],Ot=R[3],ct.getGeometry()?a!==void 0&&!ie(a,Ot.getExtent())?m=R[2]+1:++m:m=R[2],d&&(d.zIndex=R[4]);break;case U.BEGIN_PATH:I>G&&(this.fill_(e),I=0),O>G&&(e.stroke(),O=0),!I&&!O&&(e.beginPath(),x=NaN,C=NaN),++m;break;case U.CIRCLE:u=R[1];let Zo=c[u],ei=c[u+1],Zr=c[u+2],Gg=c[u+3],xd=Zr-Zo,wd=Gg-ei,Cd=Math.sqrt(xd*xd+wd*wd);e.moveTo(Zo+Cd,ei),e.arc(Zo,ei,Cd,0,2*Math.PI,!0),++m;break;case U.CLOSE_PATH:e.closePath(),++m;break;case U.CUSTOM:u=R[1],p=R[2];let Ug=R[3],Wg=R[4],kd=R[5];ot.geometry=Ug,ot.feature=ct,m in A||(A[m]=[]);let $o=A[m];kd?kd(c,u,p,2,$o):($o[0]=c[u],$o[1]=c[u+1],$o.length=2),d&&(d.zIndex=R[6]),Wg($o,ot),++m;break;case U.DRAW_IMAGE:u=R[1],p=R[2],F=R[3],_=R[4],g=R[5];let Za=R[6],Hg=R[7],Xg=R[8],Yg=R[9],Sd=R[10],$a=R[11],qg=R[12],$r=R[13];b=R[14]||"declutter";let Ko=R[15];if(!F&&R.length>=20){T=R[19],y=R[20],S=R[21],P=R[22];let Ie=this.drawLabelWithPointPlacement_(T,y,S,P);F=Ie.label,R[3]=F;let hn=R[23];_=(Ie.anchorX-hn)*this.pixelRatio,R[4]=_;let Ae=R[24];g=(Ie.anchorY-Ae)*this.pixelRatio,R[5]=g,Za=F.height,R[6]=Za,$r=F.width,R[13]=$r}let Ka;R.length>25&&(Ka=R[25]);let Qa,Kr,Qr;R.length>17?(Qa=R[16],Kr=R[17],Qr=R[18]):(Qa=Ei,Kr=null,Qr=null),Sd&&et?$a+=lt:!Sd&&!et&&($a-=lt);let Zg=0;for(;u<p;u+=2){if(Ka&&Ka[Zg++]<$r/this.pixelRatio)continue;let Ie=this.calculateImageOrLabelDimensions_(F.width,F.height,c[u],c[u+1],$r,Za,_,g,Xg,Yg,$a,qg,r,Qa,!!Kr||!!Qr,ct),hn=[e,t,F,Ie,Hg,Kr,Qr];if(l){let Ae,ii,Fe;if(Ko){let Pt=p-u;if(!Ko[Pt]){Ko[Pt]={args:hn,declutterMode:b};continue}let le=Ko[Pt];Ae=le.args,ii=le.declutterMode,delete Ko[Pt],Fe=zf(Ae)}let bi,vi;if(Ae&&(ii!=="declutter"||!l.collides(Fe))&&(bi=!0),(b!=="declutter"||!l.collides(Ie.declutterBox))&&(vi=!0),ii==="declutter"&&b==="declutter"){let Pt=bi&&vi;bi=Pt,vi=Pt}bi&&(ii!=="none"&&l.insert(Fe),this.replayImageOrLabel_.apply(this,Ae)),vi&&(b!=="none"&&l.insert(Ie.declutterBox),this.replayImageOrLabel_.apply(this,hn))}else this.replayImageOrLabel_.apply(this,hn)}++m;break;case U.DRAW_CHARS:let Ed=R[1],Md=R[2],Ja=R[3],$g=R[4];P=R[5];let Kg=R[6],Dd=R[7],Td=R[8];S=R[9];let tl=R[10];T=R[11],Array.isArray(T)&&(T=T.reduce(yv,"")),y=R[12];let Rd=[R[13],R[13]];b=R[14]||"declutter";let Qg=R[15],el=this.textStates[y],Qo=el.font,Jo=[el.scale[0]*Dd,el.scale[1]*Dd],tr;Qo in this.widths_?tr=this.widths_[Qo]:(tr={},this.widths_[Qo]=tr);let Id=Fo(c,Ed,Md,2),Ad=Math.abs(Jo[0])*_l(Qo,T,tr);if($g||Ad<=Id){let Ie=this.textStates[y].textAlign,hn=(Id-Ad)*Ac(T,Ie),Ae=Bf(c,Ed,Md,2,T,hn,Kg,Math.abs(Jo[0]),_l,Qo,tr,et?0:this.viewRotation_,Qg);t:if(Ae){let ii=[],Fe,bi,vi,Pt,le;if(S)for(Fe=0,bi=Ae.length;Fe<bi;++Fe){le=Ae[Fe],vi=le[4],Pt=this.createLabel(vi,y,"",S),_=le[2]+(Jo[0]<0?-tl:tl),g=Ja*Pt.height+(.5-Ja)*2*tl*Jo[1]/Jo[0]-Td;let yi=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,le[0],le[1],Pt.width,Pt.height,_,g,0,0,le[3],Rd,!1,Ei,!1,ct);if(l&&b==="declutter"&&l.collides(yi.declutterBox))break t;ii.push([e,t,Pt,yi,1,null,null])}if(P)for(Fe=0,bi=Ae.length;Fe<bi;++Fe){le=Ae[Fe],vi=le[4],Pt=this.createLabel(vi,y,P,""),_=le[2],g=Ja*Pt.height-Td;let yi=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,le[0],le[1],Pt.width,Pt.height,_,g,0,0,le[3],Rd,!1,Ei,!1,ct);if(l&&b==="declutter"&&l.collides(yi.declutterBox))break t;ii.push([e,t,Pt,yi,1,null,null])}l&&b!=="none"&&l.load(ii.map(zf));for(let yi=0,Jg=ii.length;yi<Jg;++yi)this.replayImageOrLabel_.apply(this,ii[yi])}}++m;break;case U.END_GEOMETRY:if(s!==void 0){ct=R[1];let Ie=s(ct,Ot,b);if(Ie)return Ie}++m;break;case U.FILL:G?I++:this.fill_(e),++m;break;case U.MOVE_TO_LINE_TO:for(u=R[1],p=R[2],Ft=c[u],Rt=c[u+1],e.moveTo(Ft,Rt),x=Ft+.5|0,C=Rt+.5|0,u+=2;u<p;u+=2)Ft=c[u],Rt=c[u+1],k=Ft+.5|0,D=Rt+.5|0,(u==p-2||k!==x||D!==C)&&(e.lineTo(Ft,Rt),x=k,C=D);++m;break;case U.SET_FILL_STYLE:this.alignAndScaleFill_=R[2],I&&(this.fill_(e),I=0,O&&(e.stroke(),O=0)),e.fillStyle=R[1],++m;break;case U.SET_STROKE_STYLE:O&&(e.stroke(),O=0),this.setStrokeStyle_(e,R),++m;break;case U.STROKE:G?O++:e.stroke(),++m;break;default:++m;break}}I&&this.fill_(e),O&&e.stroke()}execute(e,t,i,n,r,s){this.viewRotation_=n,this.execute_(e,t,i,this.instructions,r,void 0,void 0,s)}executeHitDetection(e,t,i,n,r){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,n,r)}},Gf=Fc;var on=["Polygon","Circle","LineString","Image","Text","Default"],Lc=["Image","Text"],Uf=on.filter(o=>!Lc.includes(o)),Pc=class{constructor(e,t,i,n,r,s,a){this.maxExtent_=e,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Me(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,a)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let n=this.executorsByZIndex_[i];n===void 0&&(n={},this.executorsByZIndex_[i]=n);let r=e[i];for(let s in r){let a=r[s];n[s]=new Gf(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let n=0,r=e.length;n<r;++n)if(e[n]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,n,r,s){n=Math.round(n);let a=n*2+1,l=Gi(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-i,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=_n(a,a));let c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):d||c.clearRect(0,0,a,a);let m;this.renderBuffer_!==void 0&&(m=Ye(),km(m,e),zi(m,t*(this.renderBuffer_+n),m));let h=xv(n),u;function p(D,F,T){let y=c.getImageData(0,0,a,a).data;for(let S=0,P=h.length;S<P;S++)if(y[h[S]]>0){if(!s||T==="none"||u!=="Image"&&u!=="Text"||s.includes(D)){let I=(h[S]-3)/4,O=n-I%a,A=n-(I/a|0),lt=r(D,F,O*O+A*A);if(lt)return lt}c.clearRect(0,0,a,a);break}}let _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(eo);let g,b,x,C,k;for(g=_.length-1;g>=0;--g){let D=_[g].toString();for(x=this.executorsByZIndex_[D],b=on.length-1;b>=0;--b)if(u=on[b],C=x[u],C!==void 0&&(k=C.executeHitDetection(c,l,i,p,m),k))return k}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],n=t[1],r=t[2],s=t[3],a=[i,n,i,s,r,s,r,n];return di(a,0,8,2,e,a),a}isEmpty(){return bn(this.executorsByZIndex_)}execute(e,t,i,n,r,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?am:eo),s=s||on;let d=on.length;for(let c=0,m=l.length;c<m;++c){let h=l[c].toString(),u=this.executorsByZIndex_[h];for(let p=0,_=s.length;p<_;++p){let g=s[p],b=u[g];if(b!==void 0){let x=a===null?void 0:b.getZIndexContext(),C=x?x.getContext():e,k=this.maxExtent_&&g!=="Image"&&g!=="Text";if(k&&(C.save(),this.clip(C,i)),!x||g==="Text"||g==="Image"?b.execute(C,t,i,n,r,a):x.pushFunction(D=>b.execute(D,t,i,n,r,a)),k&&C.restore(),x){x.offset();let D=l[c]*d+on.indexOf(g);this.deferredZIndexContexts_[D]||(this.deferredZIndexContexts_[D]=[]),this.deferredZIndexContexts_[D].push(x)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(eo);for(let i=0,n=t.length;i<n;++i)e[t[i]].forEach(r=>{r.draw(this.renderedContext_),r.clear()}),e[t[i]].length=0}},Oc={};function xv(o){if(Oc[o]!==void 0)return Oc[o];let e=o*2+1,t=o*o,i=new Array(t+1);for(let r=0;r<=o;++r)for(let s=0;s<=o;++s){let a=r*r+s*s;if(a>t)break;let l=i[a];l||(l=[],i[a]=l),l.push(((o+r)*e+(o+s))*4+3),r>0&&l.push(((o-r)*e+(o+s))*4+3),s>0&&(l.push(((o+r)*e+(o-s))*4+3),r>0&&l.push(((o-r)*e+(o-s))*4+3))}let n=[];for(let r=0,s=i.length;r<s;++r)i[r]&&n.push(...i[r]);return Oc[o]=n,n}var Wf=Pc;var Vc=class extends wa{constructor(e,t,i,n,r,s,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=n,this.transformRotation_=n?gs(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Me()}drawImages_(e,t,i,n){if(!this.image_)return;let r=di(e,t,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let c=0,m=r.length;c<m;c+=2){let h=r[c]-this.imageAnchorX_,u=r[c+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let p=h+this.imageAnchorX_,_=u+this.imageAnchorY_;Gi(a,p,_,1,1,d,-p,-_),s.save(),s.transform.apply(s,a),s.translate(p,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,u,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(e,t,i,n){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let r=di(e,t,i,n,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=n){let l=r[t]+this.textOffsetX_,d=r[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,d-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,d),this.textFillState_&&s.fillText(this.text_,l,d))}}moveToLineTo_(e,t,i,n,r){let s=this.context_,a=di(e,t,i,n,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;r&&(l-=2);for(let d=2;d<l;d+=2)s.lineTo(a[d],a[d+1]);return r&&s.closePath(),i}drawRings_(e,t,i,n){for(let r=0,s=i.length;r<s;++r)t=this.moveToLineTo_(e,t,i[r],n,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ie(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=Um(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],n=t[3]-t[1],r=Math.sqrt(i*i+n*n),s=this.context_;s.beginPath(),s.arc(t[0],t[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,n=t.length;i<n;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ie(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(ie(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,n=e.getFlatCoordinates(),r=0,s=e.getEnds(),a=e.getStride();i.beginPath();for(let l=0,d=s.length;l<d;++l)r=this.moveToLineTo_(n,r,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ie(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ie(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),n=0,r=e.getEndss(),s=e.getStride();t.beginPath();for(let a=0,l=r.length;a<l;++a){let d=r[a];n=this.drawRings_(i,n,d,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),ai(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,n=e.textAlign?e.textAlign:Ui;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=n&&(i.textAlign=n,t.textAlign=n),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:qe(i||oe)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),n=t.getLineCap(),r=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),d=t.getMiterLimit(),c=r||ve;this.strokeState_={lineCap:n!==void 0?n:kn,lineDash:this.pixelRatio_===1?c:c.map(m=>m*this.pixelRatio_),lineDashOffset:(s||ye)*this.pixelRatio_,lineJoin:a!==void 0?a:Sn,lineWidth:(l!==void 0?l:Tn)*this.pixelRatio_,miterLimit:d!==void 0?d:En,strokeStyle:qe(i||Mn)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),n=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let u=t.getColor();this.textFillState_={fillStyle:qe(u||oe)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let u=i.getColor(),p=i.getLineCap(),_=i.getLineDash(),g=i.getLineDashOffset(),b=i.getLineJoin(),x=i.getWidth(),C=i.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:kn,lineDash:_||ve,lineDashOffset:g||ye,lineJoin:b!==void 0?b:Sn,lineWidth:x!==void 0?x:Tn,miterLimit:C!==void 0?C:En,strokeStyle:qe(u||Mn)}}let n=e.getFont(),r=e.getOffsetX(),s=e.getOffsetY(),a=e.getRotateWithView(),l=e.getRotation(),d=e.getScaleArray(),c=e.getText(),m=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:n!==void 0?n:Ss,textAlign:m!==void 0?m:Ui,textBaseline:h!==void 0?h:Dn},this.text_=c!==void 0?Array.isArray(c)?c.reduce((u,p,_)=>u+=_%2?" ":p,""):c:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}},Vr=Vc;var Qe=.5;function Hf(o,e,t,i,n,r,s,a,l){let d=l?ji(n,l):n,c=o[0]*Qe,m=o[1]*Qe,h=_n(c,m);h.imageSmoothingEnabled=!1;let u=h.canvas,p=new Vr(h,Qe,n,null,s,a,l?ao(he(),l):null),_=t.length,g=Math.floor((256*256*256-1)/_),b={};for(let C=1;C<=_;++C){let k=t[C-1],D=k.getStyleFunction()||i;if(!D)continue;let F=D(k,r);if(!F)continue;Array.isArray(F)||(F=[F]);let y=(C*g).toString(16).padStart(7,"#00000");for(let S=0,P=F.length;S<P;++S){let I=F[S],O=I.getGeometryFunction()(k);if(!O||!ie(d,O.getExtent()))continue;let A=I.clone(),lt=A.getFill();lt&&lt.setColor(y);let et=A.getStroke();et&&(et.setColor(y),et.setLineDash(null)),A.setText(void 0);let ot=I.getImage();if(ot){let Rt=ot.getImageSize();if(!Rt)continue;let Ot=_n(Rt[0],Rt[1],void 0,{alpha:!1}),R=Ot.canvas;Ot.fillStyle=y,Ot.fillRect(0,0,R.width,R.height),A.setImage(new uo({img:R,anchor:ot.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ot.getOrigin(),opacity:1,size:ot.getSize(),scale:ot.getScale(),rotation:ot.getRotation(),rotateWithView:ot.getRotateWithView()}))}let G=A.getZIndex()||0,ct=b[G];ct||(ct={},b[G]=ct,ct.Polygon=[],ct.Circle=[],ct.LineString=[],ct.Point=[]);let Ft=O.getType();if(Ft==="GeometryCollection"){let Rt=O.getGeometriesArrayRecursive();for(let Ot=0,R=Rt.length;Ot<R;++Ot){let _i=Rt[Ot];ct[_i.getType().replace("Multi","")].push(_i,A)}}else ct[Ft.replace("Multi","")].push(O,A)}}let x=Object.keys(b).map(Number).sort(eo);for(let C=0,k=x.length;C<k;++C){let D=b[x[C]];for(let F in D){let T=D[F];for(let y=0,S=T.length;y<S;y+=2){p.setStyle(T[y+1]);for(let P=0,I=e.length;P<I;++P)p.setTransform(e[P]),p.drawGeometry(T[y])}}}return h.getImageData(0,0,u.width,u.height)}function Xf(o,e,t){let i=[];if(t){let n=Math.floor(Math.round(o[0])*Qe),r=Math.floor(Math.round(o[1])*Qe),s=(sr(n,0,t.width-1)+sr(r,0,t.height-1)*t.width)*4,a=t.data[s],l=t.data[s+1],c=t.data[s+2]+256*(l+256*a),m=Math.floor((256*256*256-1)/e.length);c&&c%m===0&&i.push(e[c/m-1])}return i}var wv=.5,Yf={Point:Tv,LineString:Ev,Polygon:Iv,MultiPoint:Rv,MultiLineString:Mv,MultiPolygon:Dv,GeometryCollection:Sv,Circle:Cv};function qf(o,e){return parseInt(wt(o),10)-parseInt(wt(e),10)}function Nr(o,e){let t=Nc(o,e);return t*t}function Nc(o,e){return wv*o/e}function Cv(o,e,t,i,n){let r=t.getFill(),s=t.getStroke();if(r||s){let l=o.getBuilder(t.getZIndex(),"Circle");l.setFillStrokeStyle(r,s),l.drawCircle(e,i,n)}let a=t.getText();if(a&&a.getText()){let l=o.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i)}}function Bc(o,e,t,i,n,r,s,a){let l=[],d=t.getImage();if(d){let h=!0,u=d.getImageState();u==ho.LOADED||u==ho.ERROR?h=!1:u==ho.IDLE&&d.load(),h&&l.push(d.ready())}let c=t.getFill();c&&c.loading()&&l.push(c.ready());let m=l.length>0;return m&&Promise.all(l).then(()=>n(null)),kv(o,e,t,i,r,s,a),m}function kv(o,e,t,i,n,r,s){let a=t.getGeometryFunction()(e);if(!a)return;let l=a.simplifyTransformed(i,n);if(t.getRenderer())Zf(o,l,t,e,s);else{let c=Yf[l.getType()];c(o,l,t,e,s,r)}}function Zf(o,e,t,i,n){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let a=0,l=s.length;a<l;++a)Zf(o,s[a],t,i,n);return}o.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),n)}function Sv(o,e,t,i,n,r){let s=e.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let d=Yf[s[a].getType()];d(o,s[a],t,i,n,r)}}function Ev(o,e,t,i,n){let r=t.getStroke();if(r){let a=o.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawLineString(e,i,n)}let s=t.getText();if(s&&s.getText()){let a=o.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,n)}}function Mv(o,e,t,i,n){let r=t.getStroke();if(r){let a=o.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,r),a.drawMultiLineString(e,i,n)}let s=t.getText();if(s&&s.getText()){let a=o.getBuilder(t.getZIndex(),"Text");a.setTextStyle(s),a.drawText(e,i,n)}}function Dv(o,e,t,i,n){let r=t.getFill(),s=t.getStroke();if(s||r){let l=o.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(r,s),l.drawMultiPolygon(e,i,n)}let a=t.getText();if(a&&a.getText()){let l=o.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,n)}}function Tv(o,e,t,i,n,r){let s=t.getImage(),a=t.getText(),l=a&&a.getText(),d=r&&s&&l?{}:void 0;if(s){if(s.getImageState()!=ho.LOADED)return;let c=o.getBuilder(t.getZIndex(),"Image");c.setImageStyle(s,d),c.drawPoint(e,i,n)}if(l){let c=o.getBuilder(t.getZIndex(),"Text");c.setTextStyle(a,d),c.drawText(e,i,n)}}function Rv(o,e,t,i,n,r){let s=t.getImage(),a=s&&s.getOpacity()!==0,l=t.getText(),d=l&&l.getText(),c=r&&a&&d?{}:void 0;if(a){if(s.getImageState()!=ho.LOADED)return;let m=o.getBuilder(t.getZIndex(),"Image");m.setImageStyle(s,c),m.drawMultiPoint(e,i,n)}if(d){let m=o.getBuilder(t.getZIndex(),"Text");m.setTextStyle(l,c),m.drawText(e,i,n)}}function Iv(o,e,t,i,n){let r=t.getFill(),s=t.getStroke();if(r||s){let l=o.getBuilder(t.getZIndex(),"Polygon");l.setFillStrokeStyle(r,s),l.drawPolygon(e,i,n)}let a=t.getText();if(a&&a.getText()){let l=o.getBuilder(t.getZIndex(),"Text");l.setTextStyle(a),l.drawText(e,i,n)}}var zc=class extends Sh{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ye(),this.wrappedRenderedExtent_=Ye(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let n=t.extent,r=t.viewState,s=r.center,a=r.resolution,l=r.projection,d=r.rotation,c=l.getExtent(),m=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),u=t.pixelRatio,p=t.viewHints,_=!(p[dr.ANIMATING]||p[dr.INTERACTING]),g=this.context,b=Math.round(ci(n)/a*u),x=Math.round(Ci(n)/a*u),C=m.getWrapX()&&l.canWrapX(),k=C?ci(c):null,D=C?Math.ceil((n[2]-c[2])/k)+1:1,F=C?Math.floor((n[0]-c[0])/k):0;do{let T=this.getRenderTransform(s,a,0,u,b,x,F*k);t.declutter&&(T=T.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],T,d,_,i===void 0?on:i?Lc:Uf,i?h&&t.declutter[h]:void 0)}while(++F<D)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=_n(this.context.canvas.width,this.context.canvas.height,bl))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,mm(this.context),bl.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let n=e.viewState;this.prepareContainer(e,t);let r=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(gl.PRERENDER)||this.getLayer().hasListener(gl.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(r,e);let l=n.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let d=lr(i.extent,l);a=ie(d,e.extent),this.clipped_=a&&!xn(d,e.extent),this.clipped_&&this.clipUnrotated(r,e,d)}return a&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==n.rotation&&(this.renderedRotation_=n.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),n=this.renderedCenter_,r=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,d=this.getLayer(),c=[],m=i[0]*Qe,h=i[1]*Qe;c.push(this.getRenderTransform(n,r,s,Qe,m,h,0).slice());let u=d.getSource(),p=a.getExtent();if(u.getWrapX()&&a.canWrapX()&&!xn(p,l)){let g=l[0],b=ci(p),x=0,C;for(;g<p[0];)--x,C=b*x,c.push(this.getRenderTransform(n,r,s,Qe,m,h,C).slice()),g+=b;for(x=0,g=l[2];g>p[2];)++x,C=b*x,c.push(this.getRenderTransform(n,r,s,Qe,m,h,C).slice()),g-=b}let _=he();this.hitDetectionImageData_=Hf(i,c,this.renderedFeatures_,d.getStyleFunction(),l,r,s,Nr(r,this.renderedPixelRatio_),_?a:null)}t(Xf(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,n,r){if(!this.replayGroup_)return;let s=t.viewState.resolution,a=t.viewState.rotation,l=this.getLayer(),d={},c=function(h,u,p){let _=wt(h),g=d[_];if(g){if(g!==!0&&p<g.distanceSq){if(p===0)return d[_]=!0,r.splice(r.lastIndexOf(g),1),n(h,l,u);g.geometry=u,g.distanceSq=p}}else{if(p===0)return d[_]=!0,n(h,l,u);r.push(d[_]={feature:h,layer:l,geometry:u,distanceSq:p,callback:n})}},m=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,a,i,c,m?t.declutter?.[m]?.all().map(h=>h.value):null)}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let n=e.viewHints[dr.ANIMATING],r=e.viewHints[dr.INTERACTING],s=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!s&&n||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=e.extent,d=e.viewState,c=d.projection,m=d.resolution,h=e.pixelRatio,u=t.getRevision(),p=t.getRenderBuffer(),_=t.getRenderOrder();_===void 0&&(_=qf);let g=d.center.slice(),b=zi(l,p*m),x=b.slice(),C=[b.slice()],k=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!xn(k,e.extent)){let et=ci(k),ot=Math.max(ci(b)/2,et);b[0]=k[0]-ot,b[2]=k[2]+ot,Im(g,c);let G=Em(C[0],c);G[0]<k[0]&&G[2]<k[2]?C.push([G[0]+et,G[1],G[2]+et,G[3]]):G[0]>k[0]&&G[2]>k[2]&&C.push([G[0]-et,G[1],G[2]-et,G[3]])}if(this.ready&&this.renderedResolution_==m&&this.renderedRevision_==u&&this.renderedRenderOrder_==_&&this.renderedFrameDeclutter_===!!e.declutter&&xn(this.wrappedRenderedExtent_,b))return ai(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let D=new Nf(Nc(m,h),b,m,h),F=he(),T;if(F){for(let et=0,ot=C.length;et<ot;++et){let G=C[et],ct=ji(G,c);i.loadFeatures(ct,Pm(m,c),F)}T=ao(F,c)}else for(let et=0,ot=C.length;et<ot;++et)i.loadFeatures(C[et],m,c);let y=Nr(m,h),S=!0,P=(et,ot)=>{let G,ct=et.getStyleFunction()||t.getStyleFunction();if(ct&&(G=ct(et,m)),G){let Ft=this.renderFeature(et,y,G,D,T,this.getLayer().getDeclutter(),ot);S=S&&!Ft}},I=ji(b,c),O=i.getFeaturesInExtent(I);_&&O.sort(_);for(let et=0,ot=O.length;et<ot;++et)P(O[et],et);this.renderedFeatures_=O,this.ready=S;let A=D.finish(),lt=new Wf(b,m,h,i.getOverlaps(),A,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=m,this.renderedRevision_=u,this.renderedRenderOrder_=_,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=b,this.renderedCenter_=g,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=lt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,n,r,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let d=0,c=i.length;d<c;++d)l=Bc(n,e,i[d],t,this.boundHandleStyleImageChange_,r,s,a)||l;else l=Bc(n,e,i,t,this.boundHandleStyleImageChange_,r,s,a);return l}},$f=zc;var jc=class extends Ch{constructor(e){super(e)}createRenderer(){return new $f(this)}},rn=jc;var Av=!1;function Fv(o,e,t,i,n,r,s){let a=new XMLHttpRequest;a.open("GET",typeof o=="function"?o(t,i,n):o,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Av,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let d=e.getType();try{let c;d=="text"||d=="json"?c=a.responseText:d=="xml"?c=a.responseXML||a.responseText:d=="arraybuffer"&&(c=a.response),c?r(e.readFeatures(c,{extent:t,featureProjection:n}),e.readProjection(c)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function Gc(o,e){return function(t,i,n,r,s){Fv(o,e,t,i,n,(a,l)=>{this.addFeatures(a),r!==void 0&&r(a)},()=>{this.changed(),s!==void 0&&s()})}}function Kf(o,e){return[[-1/0,-1/0,1/0,1/0]]}var Qf=Me(),Br=class o{constructor(e,t,i,n,r,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=r,this.squaredTolerance_,this.stride_=n,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?no(this.flatCoordinates_):hs(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=fs(this.getExtent());this.flatInteriorPoints_=oh(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=dh(this.flatCoordinates_,this.ends_),t=xa(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=xs(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Bn(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let n=0,r=i.length;n<r;++n){let s=i[n],a=Bn(e,t,s,2,.5);de(this.flatMidpoints_,a),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Om(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let n=Ci(i)/Ci(t);Gi(Qf,i[0],i[3],n,-n,0,0,0),di(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Qf,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new o(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=fm((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),n;switch(this.type_){case"LineString":i.length=vs(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),n=[i.length];break;case"MultiLineString":n=[],i.length=ys(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,n);break;case"Polygon":n=[],i.length=eh(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,n);break;default:}return n&&(this.simplifiedGeometry_=new o(this.type_,i,n,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};Br.prototype.getFlatCoordinates=Br.prototype.getOrientedFlatCoordinates;var zn=Br;var Uc=class{constructor(e){this.rbush_=new vh(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[wt(t)]=i}load(e,t){let i=new Array(t.length);for(let n=0,r=t.length;n<r;n++){let s=e[n],a=t[n],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[n]=l,this.items_[wt(a)]=l}this.rbush_.load(i)}remove(e){let t=wt(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[wt(t)],n=[i.minX,i.minY,i.maxX,i.maxY];us(n,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(n){return n.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let n=0,r=e.length;n<r;n++)if(i=t(e[n]),i)return i;return i}isEmpty(){return bn(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return wn(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},zr=Uc;var ae={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};var fi=class extends io{constructor(e,t,i){super(e),this.feature=t,this.features=i}},Wc=class extends Eh{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=um,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(co(this.format_,"`format` must be set when `url` is set"),this.loader_=Gc(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Kf;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new zr:null,this.loadedExtentsRtree_=new zr,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,n;Array.isArray(e.features)?n=e.features:e.features&&(i=e.features,n=i.getArray()),!t&&i===void 0&&(i=new cr(n)),n!==void 0&&this.addFeaturesInternal(n),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=wt(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new fi(ae.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof zn||(this.featureChangeKeys_[e]=[vn(t,Xe.CHANGE,this.handleFeatureChange_,this),vn(t,pm.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let n=String(t.getId());if(!(n in this.idIndex_))this.idIndex_[n]=t;else if(t instanceof zn){let r=this.idIndex_[n];r instanceof zn?Array.isArray(r)?r.push(t):this.idIndex_[n]=[r,t]:i=!1}else i=!1}return i&&(co(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],n=[];for(let r=0,s=e.length;r<s;r++){let a=e[r],l=wt(a);this.addToIndex_(l,a)&&i.push(a)}for(let r=0,s=i.length;r<s;r++){let a=i[r],l=wt(a);this.setupChangeEvents_(l,a);let d=a.getGeometry();if(d){let c=d.getExtent();t.push(c),n.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,n),this.hasListener(ae.ADDFEATURE))for(let r=0,s=i.length;r<s;r++)this.dispatchEvent(new fi(ae.ADDFEATURE,i[r]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(ae.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(ae.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(lo.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(lo.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(yn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new fi(ae.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(n){let r=n.getGeometry();if(r instanceof zn||r.intersectsCoordinate(e))return t(n)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let n=i.getGeometry();if(n instanceof zn||n.intersectsExtent(e)){let r=t(i);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),bn(this.nullGeometryFeatures_)||de(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let n=Mm(e,t);return[].concat(...n.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],n=e[1],r=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return t=t||ms,this.featuresRtree_.forEachInExtent(l,function(d){if(t(d)){let c=d.getGeometry(),m=a;if(a=c instanceof zn?0:c.closestPointXY(i,n,s,a),a<m){r=d;let h=Math.sqrt(a);l[0]=i-h,l[1]=n-h,l[2]=i+h,l[3]=n+h}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=wt(t),n=t.getGeometry();if(!n)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let s=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}let r=t.getId();if(r!==void 0){let s=r.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new fi(ae.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:wt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&bn(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let n=this.loadedExtentsRtree_,r=this.strategy_(e,t,i);for(let s=0,a=r.length;s<a;++s){let l=r[s];n.forEachInExtent(l,function(c){return xn(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new fi(ae.FEATURESLOADSTART)),this.loader_.call(this,l,t,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new fi(ae.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new fi(ae.FEATURESLOADERROR))}),n.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(n){if(us(n.extent,e))return n});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,n=e.length;i<n;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=wt(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(yn),delete this.featureChangeKeys_[t];let n=e.getId();if(n!==void 0){let r=n.toString(),s=this.idIndex_[r];s===e?delete this.idIndex_[r]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[r]=s[0]))}return delete this.uidIndex_[t],this.hasListener(ae.REMOVEFEATURE)&&this.dispatchEvent(new fi(ae.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){co(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Gc(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},sn=Wc;var Ca={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},Po=class extends io{constructor(e,t){super(e),this.feature=t}};function Ov(o,e){let t=[];for(let i=0;i<e.length;++i){let r=e[i].getGeometry();Jf(o,r,t)}return t}function ka(o,e){return ar(o[0],o[1],e[0],e[1])}function Lo(o,e){let t=o.length;return e<0?o[e+t]:e>=t?o[e-t]:o[e]}function Sa(o,e,t){let i,n;e<t?(i=e,n=t):(i=t,n=e);let r=Math.ceil(i),s=Math.floor(n);if(r>s){let l=Vo(o,i),d=Vo(o,n);return ka(l,d)}let a=0;if(i<r){let l=Vo(o,i),d=Lo(o,r);a+=ka(l,d)}if(s<n){let l=Lo(o,s),d=Vo(o,n);a+=ka(l,d)}for(let l=r;l<s-1;++l){let d=Lo(o,l),c=Lo(o,l+1);a+=ka(d,c)}return a}function Jf(o,e,t){if(e instanceof Be){Ea(o,e.getCoordinates(),!1,t);return}if(e instanceof vc){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n)Ea(o,i[n],!1,t);return}if(e instanceof Ne){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n)Ea(o,i[n],!0,t);return}if(e instanceof wc){let i=e.getCoordinates();for(let n=0,r=i.length;n<r;++n){let s=i[n];for(let a=0,l=s.length;a<l;++a)Ea(o,s[a],!0,t)}return}if(e instanceof If){let i=e.getGeometries();for(let n=0;n<i.length;++n)Jf(o,i[n],t);return}}var Hc={index:-1,endIndex:NaN};function Pv(o,e,t,i){let n=o[0],r=o[1],s=1/0,a=-1,l=NaN;for(let m=0;m<e.targets.length;++m){let h=e.targets[m],u=h.coordinates,p=1/0,_;for(let g=0;g<u.length-1;++g){let b=u[g],x=u[g+1],C=tp(n,r,b,x);C.squaredDistance<p&&(p=C.squaredDistance,_=g+C.along)}p<s&&(s=p,h.ring&&e.targetIndex===m&&(h.endIndex>h.startIndex?_<h.startIndex&&(_+=u.length):h.endIndex<h.startIndex&&_>h.startIndex&&(_-=u.length)),l=_,a=m)}let d=e.targets[a],c=d.ring;if(e.targetIndex===a&&c){let m=Vo(d.coordinates,l),h=t.getPixelFromCoordinate(m);so(h,e.startPx)>i&&(c=!1)}if(c){let m=d.coordinates,h=m.length,u=d.startIndex,p=l;if(u<p){let _=Sa(m,u,p);Sa(m,u,p-h)<_&&(l-=h)}else{let _=Sa(m,u,p);Sa(m,u,p+h)<_&&(l+=h)}}return Hc.index=a,Hc.endIndex=l,Hc}function Ea(o,e,t,i){let n=o[0],r=o[1];for(let s=0,a=e.length-1;s<a;++s){let l=e[s],d=e[s+1],c=tp(n,r,l,d);if(c.squaredDistance===0){let m=s+c.along;i.push({coordinates:e,ring:t,startIndex:m,endIndex:m});return}}}var Xc={along:0,squaredDistance:0};function tp(o,e,t,i){let n=t[0],r=t[1],s=i[0],a=i[1],l=s-n,d=a-r,c=0,m=n,h=r;return(l!==0||d!==0)&&(c=sr(((o-n)*l+(e-r)*d)/(l*l+d*d),0,1),m+=l*c,h+=d*c),Xc.along=c,Xc.squaredDistance=gs(ar(o,e,m,h),10),Xc}function Vo(o,e){let t=o.length,i=Math.floor(e),n=e-i;i>=t?i-=t:i<0&&(i+=t);let r=i+1;r>=t&&(r-=t);let s=o[i],a=s[0],l=s[1],d=o[r],c=d[0]-a,m=d[1]-l;return[a+c*n,l+m*n]}var Yc=class extends mo{constructor(e){let t=e;t.stopDown||(t.stopDown=hm),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=Vv(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ms,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){let n=this.mode_;if(n==="Circle")i=(r,s,a)=>{let l=s||new Rf([NaN,NaN]),d=ne(r[0],a),c=ro(d,ne(r[r.length-1],a));l.setCenterAndRadius(d,Math.sqrt(c),this.geometryLayout_);let m=he();return m&&l.transform(a,m),l};else{let r;n==="Point"?r=qt:n==="LineString"?r=Be:n==="Polygon"&&(r=Ne),i=(s,a,l)=>(a?n==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new r(s,this.geometryLayout_),a)}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new rn({source:new sn({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:Lv(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:ph,this.freehandCondition_,e.freehand?this.freehandCondition_=ur:this.freehandCondition_=e.freehandCondition?e.freehandCondition:gh,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(mh.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=ur:t=e:t=uh,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===Xe.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===be.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===be.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===be.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===be.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===be.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===be.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===be.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Lm(be.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}let t=this.getMap(),i=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),n=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),r=_e([i,n]),s=this.traceSource_.getFeaturesInExtent(r);if(s.length===0)return;let a=Ov(e.coordinate,s);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){let i=e.startIndex<=e.endIndex,n=e.startIndex<=t;i===n?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){let n=Math.ceil(e),r=Math.floor(t);r===t&&(r-=1),i=r-n+1}else{let n=Math.floor(e),r=Math.ceil(t);r===t&&(r+=1),i=n-r+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;let n=[];if(t<i){let r=Math.ceil(t),s=Math.floor(i);s===i&&(s-=1);for(let a=r;a<=s;++a)n.push(Lo(e.coordinates,a))}else{let r=Math.floor(t),s=Math.ceil(i);s===i&&(s+=1);for(let a=r;a>=s;--a)n.push(Lo(e.coordinates,a))}n.length&&this.appendCoordinates(n)}updateTrace_(e){let t=this.traceState_;if(!t.active||t.targetIndex===-1&&so(t.startPx,e.pixel)<this.snapTolerance_)return;let i=Pv(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(t.targetIndex!==-1){let l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}let a=t.targets[i.index];this.addTracedCoordinates_(a,a.startIndex,i.endIndex)}else{let a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,i.endIndex)}t.targetIndex=i.index;let n=t.targets[t.targetIndex];n.endIndex=i.endIndex;let r=Vo(n.coordinates,n.endIndex),s=this.getMap().getPixelFromCoordinate(r);e.coordinate=r,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);let i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){let n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_==="Point")&&(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){let t=this.downPx_,i=e.pixel,n=t[0]-i[0],r=t[1]-i[1],s=n*n+r*r;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let n=!1,r=[this.finishCoordinate_],s=this.mode_;if(s==="Point")i=!0;else if(s==="Circle")i=this.sketchCoords_.length===2;else if(s==="LineString")n=!t&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){let a=this.sketchCoords_;n=a[0].length>this.minPoints_,r=[a[0][0],a[0][a[0].length-2]],t?r=[a[0][0]]:r=[a[0][0],a[0][a[0].length-2]]}if(n){let a=this.getMap();for(let l=0,d=r.length;l<d;l++){let c=r[l],m=a.getPixelFromCoordinate(c),h=e[0]-m[0],u=e[1]-m[1],p=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(h*h+u*u)<=p,i){this.finishCoordinate_=c;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Te(new qt(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Te);let t=e.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new Be(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){let t=this.getMap().getView().getProjection(),i=ul(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Te(new Be(this.sketchLineCoords_)));let n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Te,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Po(Ca.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){let t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),r=ul(this.geometryLayout_),s,a;for(;e.length<r;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){let t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n,r,s=this.mode_;return s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():n=!0),r.push(e.slice()),this.geometryFunction_(r,t,i)):s==="Polygon"&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():n=!0),r.push(e.slice()),n&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n?this.finishDrawing():this.sketchFeature_}removeLastPoints_(e){if(!this.sketchFeature_)return;let t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let r=0;r<e;++r){let s;if(n==="LineString"||n==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();let a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,t,i),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(n==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);let a=this.sketchLine_.getGeometry();if(s.length>=2){let l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,t,i)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){let e=this.abortDrawing_();if(!e)return null;let t=this.sketchCoords_,i=e.getGeometry(),n=this.getMap().getView().getProjection();return this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,i,n)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new ya([t])):this.type_==="MultiLineString"?e.setGeometry(new vc([t])):this.type_==="MultiPolygon"&&e.setGeometry(new wc([t])),this.dispatchEvent(new Po(Ca.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e),e}abortDrawing_(){this.finishCoordinate_=null;let e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){let e=this.abortDrawing_();e&&this.dispatchEvent(new Po(Ca.DRAWABORT,e))}appendCoordinates(e){let t=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let n;if(t==="LineString"||t==="Circle")n=this.sketchCoords_;else if(t==="Polygon")n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&n.shift(),n.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);let r=e[e.length-1];this.sketchFeature_=this.addToDrawing_(r),this.modifyDrawing_(r)}extend(e){let i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();let n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Te(new qt(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Po(Ca.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){let e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);let t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){let e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}};function Lv(){let o=Es();return function(e,t){return o[e.getGeometry().getType()]}}function Vv(o){switch(o){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+o)}}var Ma=Yc;var ep=0,jr=1,ip=[0,0,0,0],No=[],qc={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},Gr=class extends io{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}},Zc=class extends mo{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:_h,this.defaultDeleteCondition_=function(i){return hh(i)&&fh(i)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ur,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new zr,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new rn({source:new sn({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:Bv(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let t;if(e.features?t=e.features:e.source&&(this.source_=e.source,t=new cr(this.source_.getFeatures()),this.source_.addEventListener(ae.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(ae.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(lo.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(lo.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){let t=e.getGeometry();if(t){let n=this.SEGMENT_WRITERS_[t.getType()];n&&n(e,t)}let i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(i.getCoordinateFromPixel(this.lastPixel_)),e.addEventListener(Xe.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new cr;let i=this.featuresBeingModified_.getArray();for(let n=0,r=t.length;n<r;++n){let s=t[n].feature;s&&!i.includes(s)&&this.featuresBeingModified_.push(s)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new Gr(qc.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Xe.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){let t=this.rBush_,i=[];t.forEach(function(n){e===n.feature&&i.push(n)});for(let n=i.length-1;n>=0;--n){let r=i[n];for(let s=this.dragSegments_.length-1;s>=0;--s)this.dragSegments_[s][0]===r&&this.dragSegments_.splice(s,1);t.remove(r)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){let t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){let i=t.getCoordinates(),n={feature:e,geometry:t,segment:[i,i]};this.rBush_.insert(t.getExtent(),n)}writeMultiPointGeometry_(e,t){let i=t.getCoordinates();for(let n=0,r=i.length;n<r;++n){let s=i[n],a={feature:e,geometry:t,depth:[n],index:n,segment:[s,s]};this.rBush_.insert(t.getExtent(),a)}}writeLineStringGeometry_(e,t){let i=t.getCoordinates();for(let n=0,r=i.length-1;n<r;++n){let s=i.slice(n,n+2),a={feature:e,geometry:t,index:n,segment:s};this.rBush_.insert(_e(s),a)}}writeMultiLineStringGeometry_(e,t){let i=t.getCoordinates();for(let n=0,r=i.length;n<r;++n){let s=i[n];for(let a=0,l=s.length-1;a<l;++a){let d=s.slice(a,a+2),c={feature:e,geometry:t,depth:[n],index:a,segment:d};this.rBush_.insert(_e(d),c)}}}writePolygonGeometry_(e,t){let i=t.getCoordinates();for(let n=0,r=i.length;n<r;++n){let s=i[n];for(let a=0,l=s.length-1;a<l;++a){let d=s.slice(a,a+2),c={feature:e,geometry:t,depth:[n],index:a,segment:d};this.rBush_.insert(_e(d),c)}}}writeMultiPolygonGeometry_(e,t){let i=t.getCoordinates();for(let n=0,r=i.length;n<r;++n){let s=i[n];for(let a=0,l=s.length;a<l;++a){let d=s[a];for(let c=0,m=d.length-1;c<m;++c){let h=d.slice(c,c+2),u={feature:e,geometry:t,depth:[a,n],index:c,segment:h};this.rBush_.insert(_e(h),u)}}}}writeCircleGeometry_(e,t){let i=t.getCenter(),n={feature:e,geometry:t,index:ep,segment:[i,i]},r={feature:e,geometry:t,index:jr,segment:[i,i]},s=[n,r];n.featureSegments=s,r.featureSegments=s,this.rBush_.insert(no(i),n);let a=t,l=he();if(l&&this.getMap()){let d=this.getMap().getView().getProjection();a=a.clone().transform(l,d),a=ws(a).transform(d,l)}this.rBush_.insert(a.getExtent(),r)}writeGeometryCollectionGeometry_(e,t){let i=t.getGeometriesArray();for(let n=0;n<i.length;++n){let r=i[n],s=this.SEGMENT_WRITERS_[r.getType()];s(e,r)}}createOrUpdateVertexFeature_(e,t,i,n){let r=this.vertexFeature_;return r?r.getGeometry().setCoordinates(e):(r=new Te(new qt(e)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r)),r.set("features",t),r.set("geometries",i),r.set("existing",n),r}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==be.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=be.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==be.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}findInsertVerticesAndUpdateDragSegments_(e){this.handlePointerAtPixel_(e),this.dragSegments_.length=0,this.featuresBeingModified_=null;let t=this.vertexFeature_;if(!t)return;let i=this.getMap().getView().getProjection(),n=[],r=t.getGeometry().getCoordinates(),s=_e([r]),a=this.rBush_.getInExtent(s),l={};a.sort(Nv);for(let d=0,c=a.length;d<c;++d){let m=a[d],h=m.segment,u=wt(m.geometry),p=m.depth;if(p&&(u+="-"+p.join("-")),l[u]||(l[u]=new Array(2)),m.geometry.getType()==="Circle"&&m.index===jr){let _=op(e,m,i);Ve(_,r)&&!l[u][0]&&(this.dragSegments_.push([m,0]),l[u][0]=m);continue}if(Ve(h[0],r)&&!l[u][0]){this.dragSegments_.push([m,0]),l[u][0]=m;continue}if(Ve(h[1],r)&&!l[u][1]){if(l[u][0]&&l[u][0].index===0){let _=m.geometry.getCoordinates();switch(m.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":_=_[p[1]];case"Polygon":if(m.index!==_[p[0]].length-2)continue;break;default:}}this.dragSegments_.push([m,1]),l[u][1]=m;continue}wt(h)in this.vertexSegments_&&!l[u][0]&&!l[u][1]&&n.push(m)}return n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_.map(([r])=>r));let t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],n=[];for(let r=0,s=this.dragSegments_.length;r<s;++r){let a=this.dragSegments_[r],l=a[0],d=l.feature;i.includes(d)||i.push(d);let c=l.geometry;n.includes(c)||n.push(c);let m=l.depth,h,u=l.segment,p=a[1];for(;t.length<c.getStride();)t.push(u[p][t.length]);switch(c.getType()){case"Point":h=t,u[0]=t,u[1]=t;break;case"MultiPoint":h=c.getCoordinates(),h[l.index]=t,u[0]=t,u[1]=t;break;case"LineString":h=c.getCoordinates(),h[l.index+p]=t,u[p]=t;break;case"MultiLineString":h=c.getCoordinates(),h[m[0]][l.index+p]=t,u[p]=t;break;case"Polygon":h=c.getCoordinates(),h[m[0]][l.index+p]=t,u[p]=t;break;case"MultiPolygon":h=c.getCoordinates(),h[m[1]][m[0]][l.index+p]=t,u[p]=t;break;case"Circle":let _=c;if(u[0]=t,u[1]=t,l.index===ep)this.changingFeature_=!0,_.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;let g=e.map.getView().getProjection(),b=so(ne(_.getCenter(),g),ne(t,g)),x=he();if(x){let C=_.clone().transform(x,g);C.setRadius(b),b=C.transform(g,x).getRadius()}_.setRadius(b),this.changingFeature_=!1}break;default:}h&&this.setGeometryCoordinates_(c,h)}this.createOrUpdateVertexFeature_(t,i,n,!0)}handleDownEvent(e){if(!this.condition_(e))return!1;let t=e.coordinate,i=this.findInsertVerticesAndUpdateDragSegments_(t);if(i?.length&&this.insertVertexCondition_(e)&&(this.willModifyFeatures_(e,i),this.vertexFeature_)){let n=this.vertexFeature_.getGeometry().getCoordinates();for(let r=i.length-1;r>=0;--r)this.insertVertex_(i[r],n);this.ignoreNextSingleClick_=!0}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){let i=this.dragSegments_[t][0],n=i.geometry;if(n.getType()==="Circle"){let r=n,s=r.getCenter(),a=i.featureSegments[0],l=i.featureSegments[1];a.segment[0]=s,a.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(no(s),a);let d=r,c=he();if(c){let m=e.map.getView().getProjection();d=d.clone().transform(c,m),d=ws(d).transform(m,c)}this.rBush_.update(d.getExtent(),l)}else this.rBush_.update(_e(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new Gr(qc.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.coordinate)}handlePointerAtPixel_(e){let t=this.getMap(),i=t.getPixelFromCoordinate(e),n=t.getView().getProjection(),r=function(l,d){return np(e,l,n)-np(e,d,n)},s,a;if(this.hitDetection_){let l=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;t.forEachFeatureAtPixel(i,(d,c,m)=>{m&&m.getType()==="Point"&&(m=new qt(Cn(m.getCoordinates(),n)));let h=m||d.getGeometry();if(h&&h.getType()==="Point"&&d instanceof Te&&this.features_.getArray().includes(d)){a=h;let u=d.getGeometry().getFlatCoordinates().slice(0,2);s=[{feature:d,geometry:a,segment:[u,u]}]}return!0},{layerFilter:l})}if(!s){let l=lr(no(e,ip),n),d=t.getView().getResolution()*this.pixelTolerance_,c=ji(zi(l,d,ip),n);s=this.rBush_.getInExtent(c)}if(s&&s.length>0){let l=s.sort(r)[0],d=l.segment,c=op(e,l,n),m=t.getPixelFromCoordinate(c),h=so(i,m);if(a||h<=this.pixelTolerance_){let u={};if(u[wt(d)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-e[0],this.delta_[1]=c[1]-e[1]),l.geometry.getType()==="Circle"&&l.index===jr)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[l.feature],[l.geometry],this.snappedToVertex_);else{let p=t.getPixelFromCoordinate(d[0]),_=t.getPixelFromCoordinate(d[1]),g=ro(m,p),b=ro(m,_);if(h=Math.sqrt(Math.min(g,b)),this.snappedToVertex_=h<=this.pixelTolerance_,!this.snappedToVertex_&&!this.insertVertexCondition_(this.lastPointerEvent_)){this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);return}this.snappedToVertex_&&(c=g>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(c,[l.feature],[l.geometry],this.snappedToVertex_);let x={};x[wt(l.geometry)]=!0;for(let C=1,k=s.length;C<k;++C){let D=s[C].segment;if(Ve(d[0],D[0])&&Ve(d[1],D[1])||Ve(d[0],D[1])&&Ve(d[1],D[0])){let F=wt(s[C].geometry);F in x||(x[F]=!0,u[wt(D)]=!0)}else break}}this.vertexSegments_=u;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){let i=e.segment,n=e.feature,r=e.geometry,s=e.depth,a=e.index,l;for(;t.length<r.getStride();)t.push(0);switch(r.getType()){case"MultiLineString":l=r.getCoordinates(),l[s[0]].splice(a+1,0,t);break;case"Polygon":l=r.getCoordinates(),l[s[0]].splice(a+1,0,t);break;case"MultiPolygon":l=r.getCoordinates(),l[s[1]][s[0]].splice(a+1,0,t);break;case"LineString":l=r.getCoordinates(),l.splice(a+1,0,t);break;default:return!1}this.setGeometryCoordinates_(r,l);let d=this.rBush_;d.remove(e),this.updateSegmentIndices_(r,a,s,1);let c={segment:[i[0],t],feature:n,geometry:r,depth:s,index:a};d.insert(_e(c.segment),c),this.dragSegments_.push([c,1]);let m={segment:[t,i[1]],feature:n,geometry:r,depth:s,index:a+1};return d.insert(_e(m.segment),m),this.dragSegments_.push([m,0]),!0}updatePointer_(e){return e&&this.findInsertVerticesAndUpdateDragSegments_(e),this.vertexFeature_?.getGeometry().getCoordinates()}getPoint(){let e=this.vertexFeature_?.getGeometry().getCoordinates();return e?Cn(e,this.getMap().getView().getProjection()):null}canRemovePoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(i=>i.getType()==="Circle"||i.getType().endsWith("Point")))return!1;let e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(_e([e])).some(({segment:i})=>Ve(i[0],e)||Ve(i[1],e))}removePoint(e){if(e&&(e=ne(e,this.getMap().getView().getProjection()),this.updatePointer_(e)),!this.lastPointerEvent_||this.lastPointerEvent_&&this.lastPointerEvent_.type!=be.POINTERDRAG){let t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_.map(([n])=>n));let i=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Gr(qc.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,i}return!1}removeVertex_(){let e=this.dragSegments_,t={},i=!1,n,r,s,a,l,d,c,m,h,u,p;for(l=e.length-1;l>=0;--l)s=e[l],u=s[0],p=wt(u.feature),u.depth&&(p+="-"+u.depth.join("-")),p in t||(t[p]={}),s[1]===0?(t[p].right=u,t[p].index=u.index):s[1]==1&&(t[p].left=u,t[p].index=u.index+1);for(p in t){switch(h=t[p].right,c=t[p].left,d=t[p].index,m=d-1,c!==void 0?u=c:u=h,m<0&&(m=0),a=u.geometry,r=a.getCoordinates(),n=r,i=!1,a.getType()){case"MultiLineString":r[u.depth[0]].length>2&&(r[u.depth[0]].splice(d,1),i=!0);break;case"LineString":r.length>2&&(r.splice(d,1),i=!0);break;case"MultiPolygon":n=n[u.depth[1]];case"Polygon":n=n[u.depth[0]],n.length>4&&(d==n.length-1&&(d=0),n.splice(d,1),i=!0,d===0&&(n.pop(),n.push(n[0]),m=n.length-1));break;default:}if(i){this.setGeometryCoordinates_(a,r);let _=[];if(c!==void 0&&(this.rBush_.remove(c),_.push(c.segment[0])),h!==void 0&&(this.rBush_.remove(h),_.push(h.segment[1])),c!==void 0&&h!==void 0){let g={depth:u.depth,feature:u.feature,geometry:u.geometry,index:m,segment:_};this.rBush_.insert(_e(g.segment),g)}this.updateSegmentIndices_(a,d,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return i}canInsertPoint(){if(!this.vertexFeature_||this.vertexFeature_.get("geometries").every(i=>i.getType()==="Circle"||i.getType().endsWith("Point")))return!1;let e=this.vertexFeature_.getGeometry().getCoordinates();return this.rBush_.getInExtent(_e([e])).some(({segment:i})=>!(Ve(i[0],e)||Ve(i[1],e)))}insertPoint(e){let t=e?ne(e,this.getMap().getView().getProjection()):this.vertexFeature_?.getGeometry().getCoordinates();return t?this.findInsertVerticesAndUpdateDragSegments_(t).reduce((n,r)=>n||this.insertVertex_(r,t),!1):!1}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,n){this.rBush_.forEachInExtent(e.getExtent(),function(r){r.geometry===e&&(i===void 0||r.depth===void 0||ai(r.depth,i))&&r.index>t&&(r.index+=n)})}};function Nv(o,e){return o.index-e.index}function np(o,e,t){let i=e.geometry;if(i.getType()==="Circle"){let r=i;if(e.index===jr){let s=he();s&&(r=r.clone().transform(s,t));let a=ro(r.getCenter(),ne(o,t)),l=Math.sqrt(a)-r.getRadius();return l*l}}let n=ne(o,t);return No[0]=ne(e.segment[0],t),No[1]=ne(e.segment[1],t),Rm(n,No)}function op(o,e,t){let i=e.geometry;if(i.getType()==="Circle"&&e.index===jr){let r=i,s=he();return s&&(r=r.clone().transform(s,t)),Cn(r.getClosestPoint(ne(o,t)),t)}let n=ne(o,t);return No[0]=ne(e.segment[0],t),No[1]=ne(e.segment[1],t),Cn(Tm(n,No),t)}function Bv(){let o=Es();return function(e,t){return o.Point}}var $c=Zc;function rp(o,e){let t=o.canvas;e=e||{};let i=e.pixelRatio||dm,n=e.size;n&&(t.width=n[0]*i,t.height=n[1]*i,t.style.width=n[0]+"px",t.style.height=n[1]+"px");let r=[0,0,t.width,t.height],s=zm(Me(),i,i);return new Vr(o,i,r,s,0)}function sp(o){if(!(o.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");let e=o.inversePixelTransform[0],t=o.inversePixelTransform[1],i=Math.sqrt(e*e+t*t),n=o.frameState,r=Vm(o.inversePixelTransform.slice(),n.coordinateToPixelTransform),s=Nr(n.viewState.resolution,i),a,l=he();return l&&(a=ao(l,n.viewState.projection)),new Vr(o.context,i,n.extent,r,n.viewState.rotation,s,a)}function ap(o,e,t){try{if(o)return e.parse(JSON.parse(o))}catch{}return t}function an(o,e,t,i=Object.is,n=f(bt)){let r=nt(ap(localStorage.getItem(o),e,t),{equal:i});return xi(r,{injector:n}).subscribe(s=>{s===void 0?localStorage.removeItem(o):localStorage.setItem(o,JSON.stringify(s))}),Hn(window,"storage").pipe(Mt(s=>s.storageArea===localStorage&&s.key===o),Oe(s=>s.newValue||void 0),er(),Oe(s=>ap(s,e,t)),gn(n.get(oi))).subscribe(s=>r.set(s)),r}var zv=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return o})(),jv={passive:!0},lp=(()=>{class o{_platform=f(ht);_ngZone=f(K);_renderer=f(Ce).createRenderer(null,null);_styleLoader=f(Xt);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Fd;this._styleLoader.load(zv);let i=ue(t),n=this._monitoredElements.get(i);if(n)return n.subject;let r=new Z,s="cdk-text-field-autofilled",a=d=>{d.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",a,jv)));return this._monitoredElements.set(i,{subject:r,unlisten:l}),r}stopMonitoring(t){let i=ue(t),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var cp=new B("MAT_INPUT_VALUE_ACCESSOR");var Kc=class{_box;_destroyed=new Z;_resizeSubject=new Z;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ni(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Mt(t=>t.some(i=>i.target===e)),rl({bufferSize:1,refCount:!0}),Qt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},dp=(()=>{class o{_cleanupErrorListener;_observers=new Map;_ngZone=f(K);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let n=i?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new Kc(n)),this._observers.get(n).observe(t)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Gv=["notch"],Uv=["matFormFieldNotchedOutline",""],Wv=["*"],mp=["iconPrefixContainer"],hp=["textPrefixContainer"],up=["iconSuffixContainer"],fp=["textSuffixContainer"],Hv=["textField"],Xv=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Yv=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function qv(o,e){o&1&&St(0,"span",21)}function Zv(o,e){if(o&1&&(w(0,"label",20),at(1,1),ut(2,qv,1,0,"span",21),E()),o&2){let t=X(2);pt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),kt("for",t._control.disableAutomaticLabeling?null:t._control.id),L(2),ft(!t.hideRequiredMarker&&t._control.required?2:-1)}}function $v(o,e){if(o&1&&ut(0,Zv,3,5,"label",20),o&2){let t=X();ft(t._hasFloatingLabel()?0:-1)}}function Kv(o,e){o&1&&St(0,"div",7)}function Qv(o,e){}function Jv(o,e){if(o&1&&ke(0,Qv,0,0,"ng-template",13),o&2){X(2);let t=Zn(1);pt("ngTemplateOutlet",t)}}function ty(o,e){if(o&1&&(w(0,"div",9),ut(1,Jv,1,1,null,13),E()),o&2){let t=X();pt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),L(),ft(t._forceDisplayInfixLabel()?-1:1)}}function ey(o,e){o&1&&(w(0,"div",10,2),at(2,2),E())}function iy(o,e){o&1&&(w(0,"div",11,3),at(2,3),E())}function ny(o,e){}function oy(o,e){if(o&1&&ke(0,ny,0,0,"ng-template",13),o&2){X();let t=Zn(1);pt("ngTemplateOutlet",t)}}function ry(o,e){o&1&&(w(0,"div",14,4),at(2,4),E())}function sy(o,e){o&1&&(w(0,"div",15,5),at(2,5),E())}function ay(o,e){o&1&&St(0,"div",16)}function ly(o,e){o&1&&(w(0,"div",18),at(1,6),E())}function cy(o,e){if(o&1&&(w(0,"mat-hint",22),z(1),E()),o&2){let t=X(2);pt("id",t._hintLabelId),L(),$n(t.hintLabel)}}function dy(o,e){if(o&1&&(w(0,"div",19),ut(1,cy,2,2,"mat-hint",22),at(2,7),St(3,"div",23),at(4,8),E()),o&2){let t=X();L(),ft(t.hintLabel?1:-1)}}var Ur=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["mat-label"]]})}return o})(),xp=new B("MatError"),Jc=(()=>{class o{id=f(Zt).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,n){i&2&&si("id",n.id)},inputs:{id:"id"},features:[It([{provide:xp,useExisting:o}])]})}return o})(),Qc=(()=>{class o{align="start";id=f(Zt).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,n){i&2&&(si("id",n.id),kt("align",null),$("mat-mdc-form-field-hint-end",n.align==="end"))},inputs:{align:"align",id:"id"}})}return o})(),my=new B("MatPrefix");var hy=new B("MatSuffix");var wp=new B("FloatingLabelParent"),pp=(()=>{class o{_elementRef=f(q);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=f(dp);_ngZone=f(K);_parent=f(wp);_resizeSubscription=new Oi;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return uy(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,n){i&2&&$("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return o})();function uy(o){let e=o;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var gp="mdc-line-ripple--active",Da="mdc-line-ripple--deactivating",_p=(()=>{class o{_elementRef=f(q);_cleanupTransitionEnd;constructor(){let t=f(K),i=f(zt);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Da),t.add(gp)}deactivate(){this._elementRef.nativeElement.classList.add(Da)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,n=i.contains(Da);t.propertyName==="opacity"&&n&&i.remove(gp,Da)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return o})(),bp=(()=>{class o{_elementRef=f(q);_ngZone=f(K);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,i=t.querySelector(".mdc-floating-label");i?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let i=this._notch.nativeElement;!this.open||!t?i.style.width="":i.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,n){if(i&1&&ce(Gv,5),i&2){let r;dt(r=mt())&&(n._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,n){i&2&&$("mdc-notched-outline--notched",n.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Uv,ngContentSelectors:Wv,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,n){i&1&&(jt(),Le(0,"div",1),Vi(1,"div",2,0),at(3),Ni(),Le(4,"div",3))},encapsulation:2,changeDetection:0})}return o})(),td=(()=>{class o{value=null;stateChanges;id;placeholder;ngControl=null;focused=!1;empty=!1;shouldLabelFloat=!1;required=!1;disabled=!1;errorState=!1;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o})}return o})();var ed=new B("MatFormField"),fy=new B("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vp="fill",py="auto",yp="fixed",gy="translateY(-50%)",id=(()=>{class o{_elementRef=f(q);_changeDetectorRef=f(ee);_platform=f(ht);_idGenerator=f(Zt);_ngZone=f(K);_defaults=f(fy,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=Ht("iconPrefixContainer");_textPrefixContainerSignal=Ht("textPrefixContainer");_iconSuffixContainerSignal=Ht("iconSuffixContainer");_textSuffixContainerSignal=Ht("textSuffixContainer");_prefixSuffixContainers=J(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=$d(Ur);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=$t(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||py}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let i=t||this._defaults?.appearance||vp;this._appearanceSignal.set(i)}_appearanceSignal=nt(vp);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||yp}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||yp}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new Z;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=At();constructor(){let t=this._defaults,i=f(Ee);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),vt(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=J(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,n="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(n+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(n+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(He([void 0,void 0]),Oe(()=>[i.errorState,i.userAriaDescribedBy]),ol(),Mt(([[r,s],[a,l]])=>r!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Li(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){Kd({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=J(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let r=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));let i=this._control.describedByIds,n;if(i){let r=this._describedByIds||t;n=t.concat(i.filter(s=>s&&!r.includes(s)))}else n=t;this._control.setDescribedByIds(n),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,n=this._iconSuffixContainer?.nativeElement,r=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0,c=this._currentDirection==="rtl"?"-1":"1",m=`${s+a}px`,u=`calc(${c} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,p=`var(--mat-mdc-form-field-label-transform, ${gy} translateX(${u}))`,_=s+a+l+d;return[p,_]}_writeOutlinedLabelStyles(t){if(t!==null){let[i,n]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),n!==null&&this._notchedOutline?._setMaxWidth(n)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=it({type:o,selectors:[["mat-form-field"]],contentQueries:function(i,n,r){if(i&1&&(Hd(r,n._labelChild,Ur,5),un(r,td,5)(r,my,5)(r,hy,5)(r,xp,5)(r,Qc,5)),i&2){fn();let s;dt(s=mt())&&(n._formFieldControl=s.first),dt(s=mt())&&(n._prefixChildren=s),dt(s=mt())&&(n._suffixChildren=s),dt(s=mt())&&(n._errorChildren=s),dt(s=mt())&&(n._hintChildren=s)}},viewQuery:function(i,n){if(i&1&&(qn(n._iconPrefixContainerSignal,mp,5)(n._textPrefixContainerSignal,hp,5)(n._iconSuffixContainerSignal,up,5)(n._textSuffixContainerSignal,fp,5),ce(Hv,5)(mp,5)(hp,5)(up,5)(fp,5)(pp,5)(bp,5)(_p,5)),i&2){fn(4);let r;dt(r=mt())&&(n._textField=r.first),dt(r=mt())&&(n._iconPrefixContainer=r.first),dt(r=mt())&&(n._textPrefixContainer=r.first),dt(r=mt())&&(n._iconSuffixContainer=r.first),dt(r=mt())&&(n._textSuffixContainer=r.first),dt(r=mt())&&(n._floatingLabel=r.first),dt(r=mt())&&(n._notchedOutline=r.first),dt(r=mt())&&(n._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,n){i&2&&$("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-appearance-fill",n.appearance=="fill")("mat-form-field-appearance-outline",n.appearance=="outline")("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-primary",n.color!=="accent"&&n.color!=="warn")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[It([{provide:ed,useExisting:o},{provide:wp,useExisting:o}])],ngContentSelectors:Yv,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,n){if(i&1){let r=Yt();jt(Xv),ke(0,$v,1,1,"ng-template",null,0,to),w(2,"div",6,1),H("click",function(a){return rt(r),st(n._control.onContainerClick(a))}),ut(4,Kv,1,0,"div",7),w(5,"div",8),ut(6,ty,2,2,"div",9),ut(7,ey,3,0,"div",10),ut(8,iy,3,0,"div",11),w(9,"div",12),ut(10,oy,1,1,null,13),at(11),E(),ut(12,ry,3,0,"div",14),ut(13,sy,3,0,"div",15),E(),ut(14,ay,1,0,"div",16),E(),w(15,"div",17),ut(16,ly,2,0,"div",18)(17,dy,5,1,"div",19),E()}if(i&2){let r;L(2),$("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),L(2),ft(!n._hasOutline()&&!n._control.disabled?4:-1),L(2),ft(n._hasOutline()?6:-1),L(),ft(n._hasIconPrefix?7:-1),L(),ft(n._hasTextPrefix?8:-1),L(2),ft(!n._hasOutline()||n._forceDisplayInfixLabel()?10:-1),L(2),ft(n._hasTextSuffix?12:-1),L(),ft(n._hasIconSuffix?13:-1),L(),ft(n._hasOutline()?-1:14),L(),$("mat-mdc-form-field-subscript-dynamic-size",n.subscriptSizing==="dynamic");let s=n._getSubscriptMessageType();L(),ft((r=s)==="error"?16:r==="hint"?17:-1)}},dependencies:[pp,bp,em,_p,Qc],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return o})();var _y=["button","checkbox","file","hidden","image","radio","range","reset","submit"],by=new B("MAT_INPUT_CONFIG"),Cp=(()=>{class o{_elementRef=f(q);_platform=f(ht);ngControl=f(Mi,{optional:!0,self:!0});_autofillMonitor=f(lp);_ngZone=f(K);_formField=f(ed,{optional:!0});_renderer=f(zt);_uid=f(Zt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder=null;_errorStateTracker;_config=f(by,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer=!1;_isNativeSelect=!1;_isTextarea=!1;_isInFormField=!1;focused=!1;stateChanges=new Z;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=$t(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Rn.required)??!1}set required(t){this._required=$t(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Kl().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$t(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Kl().has(t));constructor(){let t=f(Sl,{optional:!0}),i=f(Tl,{optional:!0}),n=f(af),r=f(cp,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();r?zd(r.value)?this._signalBasedValueAccessor=r:this._inputValueAccessor=r:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ua(n,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&vt(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_y.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let i=this._elementRef.nativeElement;t.length?i.setAttribute("aria-describedby",t.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let i=t.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||o)};static \u0275dir=j({type:o,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,n){i&1&&H("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),i&2&&(si("id",n.id)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),kt("name",n.name||null)("readonly",n._getReadonlyAttribute())("aria-disabled",n.disabled&&n.disabledInteractive?"true":null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),$("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mat-mdc-input-disabled-interactive",n.disabledInteractive)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",yt]},exportAs:["matInput"],features:[It([{provide:td,useExisting:o}]),pe]})}return o})();var yy=["mapContainer"];function xy(o,e){o&1&&z(0," Tap on the map to begin calibration. ")}function wy(o,e){o&1&&z(0," Tap another point on the map to continue. ")}function Cy(o,e){o&1&&z(0," Specify the dimensions (you can still adjust the points). ")}function ky(o,e){if(o&1&&(w(0,"div",9)(1,"div",10)(2,"strong"),ut(3,xy,1,0)(4,wy,1,0)(5,Cy,1,0),E()()(),w(6,"div",11),St(7,"div",12,0),E()),o&2){let t,i=X();L(3),ft((t=i.measureStep())==="before"?3:t==="during"?4:t==="after"?5:-1)}}function Sy(o,e){o&1&&z(0," Width in squares (inches) ")}function Ey(o,e){o&1&&z(0," Height in squares (inches) ")}function My(o,e){o&1&&z(0," Dimension in squares (inches) ")}function Dy(o,e){o&1&&z(0," Pixels per square (inches) ")}function Ty(o,e){o&1&&(w(0,"mat-error"),z(1,"The dimension must be of at least one square"),E())}function Ry(o,e){o&1&&(w(0,"mat-error"),z(1,"Dimension is "),w(2,"strong"),z(3,"required"),E()())}function nd(o){let e="#2b5197",t="#d9e3fe",i=new pr({radius:o==="view"?4:6,fill:new Wi({color:e}),stroke:new Ze({color:t,width:o==="view"?1:2})}),n=new re({image:i,zIndex:1/0}),r=[15,15],s=[new re({stroke:new Ze({color:t,width:4,lineDash:r})}),new re({stroke:new Ze({color:e,width:2,lineDash:r})})];return o==="edit"?()=>n:o==="draw"?a=>{let l=a.getGeometry();if(l instanceof qt)return n;if(l instanceof Be)return[...s,new re({image:i,geometry:new qt(l.getCoordinates()[0]),zIndex:1/0})]}:a=>{let l=a.getGeometry();if(l instanceof Be)return[...s,...l.getCoordinates().map(d=>new re({image:i,geometry:new qt(d),zIndex:1/0}))]}}var Ta=class o{mapContainer=Ht("mapContainer");mapSize=Ds(()=>this.mapContainer()?.nativeElement);data=f(rc);ref=f(Nn);inputControl=new Ys(null,[Rn.required,Rn.min(1)]);measureStep=nt("before");measureCalibration;constructor(){switch(this.data.mode){case"ppi":{this.inputControl.reset(this.data.current&&"ppi"in this.data.current?this.data.current.ppi:null);break}case"width":{this.inputControl.reset(this.data.current&&"width"in this.data.current?this.data.current.width:null);break}case"height":{this.inputControl.reset(this.data.current&&"height"in this.data.current?this.data.current.height:null);break}case"measure":{let e=new sn,t=new Ma({type:"LineString",freehand:!1,freehandCondition:()=>!1,source:e,minPoints:2,maxPoints:2,style:nd("draw")}),i=new $c({source:e,insertVertexCondition:()=>!1,deleteCondition:()=>!1,style:nd("edit")});t.setActive(!0),i.setActive(!1),this.inputControl.disable(),t.on("drawstart",()=>{this.measureStep.set("during")}),t.on("drawend",s=>{this.measureStep.set("after"),i.setActive(!0),t.setActive(!1),this.inputControl.enable(),this.measureCalibration=s.feature});let n=Ts(this.data.mapImage,1),r=new Ms({interactions:fr().extend([t,i]),layers:[new fo({source:new gr({url:this.data.mapImage.url,imageExtent:n})}),new rn({source:e,style:nd("view")})]});f(oi).onDestroy(()=>r.dispose()),vt(s=>{let a=this.mapContainer()?.nativeElement;a&&(r.setTarget(a),s(()=>r.setTarget(void 0)))}),vt(s=>{let a=this.mapSize();r.updateSize();let l=Math.max(ci(n)/a.width,Ci(n)/a.height),d=[l*1.5];for(let c=0;c<50;++c)d.push(l/c);r.setView(new Cs({projection:new Fm({code:"calibration-map",units:"pixels"}),center:[0,0],resolution:l,resolutions:d,extent:n,constrainOnlyCenter:!0})),s(()=>r.setView(null))});break}}}applyCalibration(e){if(e?.preventDefault(),this.inputControl.markAllAsTouched(),!this.inputControl.valid)return;let t,i=this.inputControl.value;switch(this.data.mode){case"width":{t={width:i};break}case"height":{t={height:i};break}case"ppi":{t={ppi:i};break}case"measure":{let n=this.measureCalibration?.getGeometry();if(!n)return;t={ppi:n.getLength()/i};break}}t&&this.ref.close(t)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=it({type:o,selectors:[["rs-control-map-calibration"]],viewQuery:function(t,i){t&1&&qn(i.mapContainer,yy,5),t&2&&fn()},decls:19,vars:6,consts:[["mapContainer",""],["mat-dialog-title",""],[1,"mat-typography"],[1,"calibration-form",3,"submit"],["appearance","outline",1,"calibration-field"],["type","number","matInput","",3,"formControl"],["align","end"],["matButton","","mat-dialog-close",""],["matButton","",3,"click","disabled"],[1,"calibration-hint"],[1,"hint-content"],[1,"map-container"],[1,"map-view"]],template:function(t,i){if(t&1&&(w(0,"h2",1),z(1,"Calibrate Map"),E(),w(2,"mat-dialog-content",2),ut(3,ky,9,1),w(4,"form",3),H("submit",function(r){return i.applyCalibration(r)}),w(5,"mat-form-field",4)(6,"mat-label"),ut(7,Sy,1,0)(8,Ey,1,0)(9,My,1,0)(10,Dy,1,0),E(),St(11,"input",5),ut(12,Ty,2,0,"mat-error"),ut(13,Ry,4,0,"mat-error"),E()()(),w(14,"mat-dialog-actions",6)(15,"button",7),z(16,"Cancel"),E(),w(17,"button",8),H("click",function(){return i.applyCalibration()}),z(18,"Apply"),E()()),t&2){let n;L(3),ft(i.data.mode==="measure"?3:-1),L(4),ft((n=i.data.mode)==="width"?7:n==="height"?8:n==="measure"?9:n==="ppi"?10:-1),L(4),pt("formControl",i.inputControl),L(),ft(i.inputControl.hasError("min")&&!i.inputControl.hasError("required")?12:-1),L(),ft(i.inputControl.hasError("required")?13:-1),L(4),pt("disabled",i.inputControl.disabled)}},dependencies:[ha,_f,uf,gf,pf,Jc,id,Cp,Ur,cu,ru,_o,Ml,Ws,Kh,Dl],styles:[".calibration-form[_ngcontent-%COMP%]{width:24rem;min-width:100%}.calibration-form[_ngcontent-%COMP%]   .calibration-field[_ngcontent-%COMP%]{padding-top:.75rem;width:100%}.map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:18rem}.map-container[_ngcontent-%COMP%]   .map-view[_ngcontent-%COMP%]{width:100%;height:100%}.calibration-hint[_ngcontent-%COMP%]{margin-bottom:.25rem;display:flex;justify-content:center;width:100%}.calibration-hint[_ngcontent-%COMP%]   .hint-content[_ngcontent-%COMP%]{text-align:center}"]})};var kp=Lt.union([Lt.object({ppi:Lt.number()}),Lt.object({width:Lt.number()}),Lt.object({height:Lt.number()})]);function Sp(o,e){return"ppi"in o&&"ppi"in e?o.ppi===e.ppi:"width"in o&&"width"in e?o.width===e.width:"height"in o&&"height"in e?o.height===e.height:!1}async function Iy(o){let e=await createImageBitmap(o),{width:t,height:i}=e;return e.close(),{width:t,height:i}}function Ep(o,e=f(bt)){let t=nt(void 0),i=e.get(om);return vt(n=>{let r=o();if(!r){t.set(void 0);return}let s=!1,a=URL.createObjectURL(r),l=i.bypassSecurityTrustUrl(a);Promise.all([r.arrayBuffer().then(d=>crypto.subtle.digest("SHA-256",d).then(c=>{let m=new Uint8Array(c),h=[...m].map(u=>u.toString(16).padStart(2,"0")).join("");return{decoded:m,encoded:h}}).then(c=>[d,c])),Iy(r)]).then(([[d,c],m])=>{let h=m.width/m.height;s||t.set({hash:c,data:r,buffer:d,url:a,safeUrl:l,size:m,aspectRatio:h})}),n(()=>{s=!0,URL.revokeObjectURL(a)})},{injector:e}),t}var Ay={ppi:96},jn=class o{mapLoading=nt(!1);mapFile=nt(void 0);mapImage=Ep(this.mapFile);mapHash=J(()=>this.mapImage()?.hash.encoded);mapCalibration=Bi({source:this.mapHash,computation:e=>{if(e)try{return kp.parse(JSON.parse(window.localStorage.getItem(`flare-light:map-calibration:${e}`)||"null"))}catch{return}},equal:(e,t)=>!e&&!t?!0:!e||!t?!1:Sp(e,t)});mapMaskScale=J(()=>this.mapImage()?.4:1);mapMask=J(()=>{let e=this.mapImage();if(!e)return;let t=document.createElement("canvas");t.width=Math.ceil(e.size.width*this.mapMaskScale()),t.height=Math.ceil(e.size.height*this.mapMaskScale());let i=t.getContext("2d");if(!i)return;i.fillStyle="black",i.fillRect(0,0,t.width,t.height);let n=rp(i,{pixelRatio:1});return{canvas:t,context:i,render:n}});mapMaskHistory=Bi({source:this.mapMask,computation:()=>(this.mapMask(),{content:nt([]),marker:nt(-1)})}).asReadonly();mapMaskDirty=Bi({source:this.mapMaskHistory,computation:()=>!1});mapResolution=J(()=>{let e=this.mapCalibration()||Ay;if("ppi"in e)return 1/e.ppi;let t=this.mapImage();return t?"width"in e?e.width/t.size.width:"height"in e?e.height/t.size.height:1:1});mapExtent=J(()=>{let e=this.mapImage();return e?Ts(e,this.mapResolution()):Ye()});mapExtentPolygon=J(()=>{let e=this.mapExtent();return oo(e)?new Ne([]):new Ne([[ps(e),ml(e),dl(e),cl(e),ps(e)]])});historyCanUndo=J(()=>this.mapMaskHistory().marker()>0);historyCanRedo=J(()=>this.mapMaskHistory().marker()<this.mapMaskHistory().content().length-1);renderRequest=new Z;renderedMask=wi(xi(this.mapMask).pipe(Xn(e=>this.renderRequest.pipe(He("init"),Xn(async t=>{if(!e)return;let{canvas:i}=e,n=await new Promise(a=>i.toBlob(l=>a(l),"image/jpeg"));if(!n)return;let r=await n.arrayBuffer(),s=await Rh(r);return{render:t,blob:n,buffer:s}})))));mapSourceBase=J(()=>{let e=this.mapImage();return e?new gr({url:e.url,imageExtent:this.mapExtent()}):null});mapSourceVisibility=Dh(e=>{if(!this.mapImage())return null;let i=this.renderedMask()?.blob;if(!i)return null;let n=URL.createObjectURL(i);return e(()=>URL.revokeObjectURL(n)),new gr({url:n,imageExtent:this.mapExtent()})});constructor(){nr()&&setTimeout(()=>{fetch("./debug-map.png").then(e=>e.blob()).then(e=>{this.mapFile.set(e)})},500),vt(()=>{let e=this.mapImage();if(!e)return;let t=this.mapCalibration();t?window.localStorage.setItem(`flare-light:map-calibration:${e.hash.encoded}`,JSON.stringify(t)):window.localStorage.removeItem(`flare-light:map-calibration:${e.hash.encoded}`)}),vt(()=>{let e=this.renderedMask();if(!e||e.render==="history")return;let t=this.mapMaskHistory(),i=Wt(t.marker),n=Wt(t.content);if(i>=0){let l=n.at(i);if(l&&Th(l,e.buffer))return;if(i!==n.length-1){let d=i+1;n.splice(d,n.length-d)}}n.length&&this.mapMaskDirty.set(!0);let r=128*1024*1024,s=[...n,e.buffer],a=()=>s.reduce((l,d)=>l+d.byteLength,0);for(;a()>r&&s.length>1;)s.splice(0,1);t.content.set(s),t.marker.set(s.length-1)})}async loadMapFile(){if(!this.mapLoading()){this.mapLoading.set(!0);try{let[e]=await showOpenFilePicker({id:"flare-map",multiple:!1}).catch(()=>[void 0]);if(!e)return;let t=await e.getFile();this.mapFile.set(t)}finally{this.mapLoading.set(!1)}}}unloadMapFile(){this.mapLoading()||this.mapFile.set(void 0)}async saveMask(){let e=this.renderedMask();if(!e)return;let t=await showSaveFilePicker({id:"flare-light-save-mask",suggestedName:"flare-mask",excludeAcceptAllOption:!0,types:[{description:"Flare Light Mask",accept:{"image/jpeg":[".jpg",".jpeg"]}}]});await t.requestPermission({mode:"readwrite"});let i=await t.createWritable();await i.write(e.blob),await i.close(),this.mapMaskDirty.set(!1)}async readMask(){let e=this.mapMask();if(!e)return;let[t]=await showOpenFilePicker({id:"flare-light-save-mask",excludeAcceptAllOption:!0,types:[{description:"Flare Light Mask",accept:{"image/jpeg":[".jpg",".jpeg"]}}]});await t.requestPermission({mode:"read"});let i=await t.getFile(),n=await createImageBitmap(i);n&&(e.context.filter="grayscale(100%)",e.context.drawImage(n,0,0,n.width,n.height,0,0,e.canvas.width,e.canvas.height),n.close(),this.renderRequest.next("draw"))}history(e){if(!Wt(this.historyCanUndo)&&e==="undo"||!Wt(this.historyCanRedo)&&e==="redo")return;let t=Wt(this.mapMask);if(!t)return;let i=Wt(this.mapMaskHistory),n=i.marker()+(e==="undo"?-1:1),r=i.content()[n];r&&(i.marker.set(n),Promise.resolve().then(async()=>{let s=new Blob([await Ih(r)]),a=await createImageBitmap(s);t.context.filter="blur(0px)",t.context.drawImage(a,0,0),a.close(),this.renderRequest.next("history"),this.mapMaskDirty.set(!0)}))}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac})};var{min:Fy,max:Oy}=Math,ze=(o,e=0,t=1)=>Fy(Oy(e,o),t);var Gn=o=>{o._clipped=!1,o._unclipped=o.slice(0);for(let e=0;e<=3;e++)e<3?((o[e]<0||o[e]>255)&&(o._clipped=!0),o[e]=ze(o[e],0,255)):e===3&&(o[e]=ze(o[e],0,1));return o};var Mp={};for(let o of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Mp[`[object ${o}]`]=o.toLowerCase();function V(o){return Mp[Object.prototype.toString.call(o)]||"object"}var M=(o,e=null)=>o.length>=3?Array.prototype.slice.call(o):V(o[0])=="object"&&e?e.split("").filter(t=>o[0][t]!==void 0).map(t=>o[0][t]):o[0].slice(0);var Re=o=>{if(o.length<2)return null;let e=o.length-1;return V(o[e])=="string"?o[e].toLowerCase():null};var{PI:Ra,min:Ia,max:Aa}=Math,Jt=o=>Math.round(o*100)/100,Wr=o=>Math.round(o*100)/100,je=Ra*2,Fa=Ra/3,Dp=Ra/180,Tp=180/Ra;function Oa(o){return[...o.slice(0,3).reverse(),...o.slice(3)]}var N={format:{},autodetect:[]};var od=class{constructor(...e){let t=this;if(V(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let i=Re(e),n=!1;if(!i){n=!0,N.sorted||(N.autodetect=N.autodetect.sort((r,s)=>s.p-r.p),N.sorted=!0);for(let r of N.autodetect)if(i=r.test(...e),i)break}if(N.format[i]){let r=N.format[i].apply(null,n?e:e.slice(0,-1));t._rgb=Gn(r)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return V(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},v=od;var Rp="3.2.0";var Ip=(...o)=>new v(...o);Ip.version=Rp;var W=Ip;var Py={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ln=Py;var Ly=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Vy=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ny=o=>{if(o.match(Ly)){(o.length===4||o.length===7)&&(o=o.substr(1)),o.length===3&&(o=o.split(""),o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]);let e=parseInt(o,16),t=e>>16,i=e>>8&255,n=e&255;return[t,i,n,1]}if(o.match(Vy)){(o.length===5||o.length===9)&&(o=o.substr(1)),o.length===4&&(o=o.split(""),o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]+o[3]+o[3]);let e=parseInt(o,16),t=e>>24&255,i=e>>16&255,n=e>>8&255,r=Math.round((e&255)/255*100)/100;return[t,i,n,r]}throw new Error(`unknown hex color: ${o}`)},Pa=Ny;var{round:La}=Math,By=(...o)=>{let[e,t,i,n]=M(o,"rgba"),r=Re(o)||"auto";n===void 0&&(n=1),r==="auto"&&(r=n<1?"rgba":"rgb"),e=La(e),t=La(t),i=La(i);let a="000000"+(e<<16|t<<8|i).toString(16);a=a.substr(a.length-6);let l="0"+La(n*255).toString(16);switch(l=l.substr(l.length-2),r.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},Va=By;v.prototype.name=function(){let o=Va(this._rgb,"rgb");for(let e of Object.keys(ln))if(ln[e]===o)return e.toLowerCase();return o};N.format.named=o=>{if(o=o.toLowerCase(),ln[o])return Pa(ln[o]);throw new Error("unknown color name: "+o)};N.autodetect.push({p:5,test:(o,...e)=>{if(!e.length&&V(o)==="string"&&ln[o.toLowerCase()])return"named"}});v.prototype.alpha=function(o,e=!1){return o!==void 0&&V(o)==="number"?e?(this._rgb[3]=o,this):new v([this._rgb[0],this._rgb[1],this._rgb[2],o],"rgb"):this._rgb[3]};v.prototype.clipped=function(){return this._rgb._clipped||!1};var Hr={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},pi=Hr,zy=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Ge(o){let e=zy.get(String(o).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+o);Hr.labWhitePoint=o,Hr.Xn=e[0],Hr.Zn=e[1]}function cn(){return Hr.labWhitePoint}var jy=(...o)=>{o=M(o,"lab");let[e,t,i]=o,[n,r,s]=Gy(e,t,i),[a,l,d]=sd(n,r,s);return[a,l,d,o.length>3?o[3]:1]},Gy=(o,e,t)=>{let{kE:i,kK:n,kKE:r,Xn:s,Yn:a,Zn:l}=pi,d=(o+16)/116,c=.002*e+d,m=d-.005*t,h=c*c*c,u=m*m*m,p=h>i?h:(116*c-16)/n,_=o>r?Math.pow((o+16)/116,3):o/n,g=u>i?u:(116*m-16)/n,b=p*s,x=_*a,C=g*l;return[b,x,C]},rd=o=>{let e=Math.sign(o);return o=Math.abs(o),(o<=.0031308?o*12.92:1.055*Math.pow(o,1/2.4)-.055)*e},sd=(o,e,t)=>{let{MtxAdaptMa:i,MtxAdaptMaI:n,MtxXYZ2RGB:r,RefWhiteRGB:s,Xn:a,Yn:l,Zn:d}=pi,c=a*i.m00+l*i.m10+d*i.m20,m=a*i.m01+l*i.m11+d*i.m21,h=a*i.m02+l*i.m12+d*i.m22,u=s.X*i.m00+s.Y*i.m10+s.Z*i.m20,p=s.X*i.m01+s.Y*i.m11+s.Z*i.m21,_=s.X*i.m02+s.Y*i.m12+s.Z*i.m22,g=(o*i.m00+e*i.m10+t*i.m20)*(u/c),b=(o*i.m01+e*i.m11+t*i.m21)*(p/m),x=(o*i.m02+e*i.m12+t*i.m22)*(_/h),C=g*n.m00+b*n.m10+x*n.m20,k=g*n.m01+b*n.m11+x*n.m21,D=g*n.m02+b*n.m12+x*n.m22,F=rd(C*r.m00+k*r.m10+D*r.m20),T=rd(C*r.m01+k*r.m11+D*r.m21),y=rd(C*r.m02+k*r.m12+D*r.m22);return[F*255,T*255,y*255]},Bo=jy;var Uy=(...o)=>{let[e,t,i,...n]=M(o,"rgb"),[r,s,a]=ld(e,t,i),[l,d,c]=Wy(r,s,a);return[l,d,c,...n.length>0&&n[0]<1?[n[0]]:[]]};function Wy(o,e,t){let{Xn:i,Yn:n,Zn:r,kE:s,kK:a}=pi,l=o/i,d=e/n,c=t/r,m=l>s?Math.pow(l,1/3):(a*l+16)/116,h=d>s?Math.pow(d,1/3):(a*d+16)/116,u=c>s?Math.pow(c,1/3):(a*c+16)/116;return[116*h-16,500*(m-h),200*(h-u)]}function ad(o){let e=Math.sign(o);return o=Math.abs(o),(o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4))*e}var ld=(o,e,t)=>{o=ad(o/255),e=ad(e/255),t=ad(t/255);let{MtxRGB2XYZ:i,MtxAdaptMa:n,MtxAdaptMaI:r,Xn:s,Yn:a,Zn:l,As:d,Bs:c,Cs:m}=pi,h=o*i.m00+e*i.m10+t*i.m20,u=o*i.m01+e*i.m11+t*i.m21,p=o*i.m02+e*i.m12+t*i.m22,_=s*n.m00+a*n.m10+l*n.m20,g=s*n.m01+a*n.m11+l*n.m21,b=s*n.m02+a*n.m12+l*n.m22,x=h*n.m00+u*n.m10+p*n.m20,C=h*n.m01+u*n.m11+p*n.m21,k=h*n.m02+u*n.m12+p*n.m22;return x*=_/d,C*=g/c,k*=b/m,h=x*r.m00+C*r.m10+k*r.m20,u=x*r.m01+C*r.m11+k*r.m21,p=x*r.m02+C*r.m12+k*r.m22,[h,u,p]},zo=Uy;v.prototype.lab=function(){return zo(this._rgb)};var Hy=(...o)=>new v(...o,"lab");Object.assign(W,{lab:Hy,getLabWhitePoint:cn,setLabWhitePoint:Ge});N.format.lab=Bo;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"lab"),V(o)==="array"&&o.length===3)return"lab"}});v.prototype.darken=function(o=1){let e=this,t=e.lab();return t[0]-=pi.Kn*o,new v(t,"lab").alpha(e.alpha(),!0)};v.prototype.brighten=function(o=1){return this.darken(-o)};v.prototype.darker=v.prototype.darken;v.prototype.brighter=v.prototype.brighten;v.prototype.get=function(o){let[e,t]=o.split("."),i=this[e]();if(t){let n=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(n>-1)return i[n];throw new Error(`unknown channel ${t} in mode ${e}`)}else return i};var{pow:Xy}=Math,Yy=1e-7,qy=20;v.prototype.luminance=function(o,e="rgb"){if(o!==void 0&&V(o)==="number"){if(o===0)return new v([0,0,0,this._rgb[3]],"rgb");if(o===1)return new v([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),i=qy,n=(s,a)=>{let l=s.interpolate(a,.5,e),d=l.luminance();return Math.abs(o-d)<Yy||!i--?l:d>o?n(s,l):n(l,a)},r=(t>o?n(new v([0,0,0]),this):n(this,new v([255,255,255]))).rgb();return new v([...r,this._rgb[3]])}return Zy(...this._rgb.slice(0,3))};var Zy=(o,e,t)=>(o=cd(o),e=cd(e),t=cd(t),.2126*o+.7152*e+.0722*t),cd=o=>(o/=255,o<=.03928?o/12.92:Xy((o+.055)/1.055,2.4));var Ct={};var gi=(o,e,t=.5,...i)=>{let n=i[0]||"lrgb";if(!Ct[n]&&!i.length&&(n=Object.keys(Ct)[0]),!Ct[n])throw new Error(`interpolation mode ${n} is not defined`);return V(o)!=="object"&&(o=new v(o)),V(e)!=="object"&&(e=new v(e)),Ct[n](o,e,t).alpha(o.alpha()+t*(e.alpha()-o.alpha()))};v.prototype.mix=v.prototype.interpolate=function(o,e=.5,...t){return gi(this,o,e,...t)};v.prototype.premultiply=function(o=!1){let e=this._rgb,t=e[3];return o?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new v([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};var{sin:$y,cos:Ky}=Math,Qy=(...o)=>{let[e,t,i]=M(o,"lch");return isNaN(i)&&(i=0),i=i*Dp,[e,Ky(i)*t,$y(i)*t]},Na=Qy;var Jy=(...o)=>{o=M(o,"lch");let[e,t,i]=o,[n,r,s]=Na(e,t,i),[a,l,d]=Bo(n,r,s);return[a,l,d,o.length>3?o[3]:1]},jo=Jy;var t0=(...o)=>{let e=Oa(M(o,"hcl"));return jo(...e)},Ap=t0;var{sqrt:e0,atan2:i0,round:n0}=Math,o0=(...o)=>{let[e,t,i]=M(o,"lab"),n=e0(t*t+i*i),r=(i0(i,t)*Tp+360)%360;return n0(n*1e4)===0&&(r=Number.NaN),[e,n,r]},Ba=o0;var r0=(...o)=>{let[e,t,i,...n]=M(o,"rgb"),[r,s,a]=zo(e,t,i),[l,d,c]=Ba(r,s,a);return[l,d,c,...n.length>0&&n[0]<1?[n[0]]:[]]},Xr=r0;v.prototype.lch=function(){return Xr(this._rgb)};v.prototype.hcl=function(){return Oa(Xr(this._rgb))};var s0=(...o)=>new v(...o,"lch"),a0=(...o)=>new v(...o,"hcl");Object.assign(W,{lch:s0,hcl:a0});N.format.lch=jo;N.format.hcl=Ap;["lch","hcl"].forEach(o=>N.autodetect.push({p:2,test:(...e)=>{if(e=M(e,o),V(e)==="array"&&e.length===3)return o}}));v.prototype.saturate=function(o=1){let e=this,t=e.lch();return t[1]+=pi.Kn*o,t[1]<0&&(t[1]=0),new v(t,"lch").alpha(e.alpha(),!0)};v.prototype.desaturate=function(o=1){return this.saturate(-o)};v.prototype.set=function(o,e,t=!1){let[i,n]=o.split("."),r=this[i]();if(n){let s=i.indexOf(n)-(i.substr(0,2)==="ok"?2:0);if(s>-1){if(V(e)=="string")switch(e.charAt(0)){case"+":r[s]+=+e;break;case"-":r[s]+=+e;break;case"*":r[s]*=+e.substr(1);break;case"/":r[s]/=+e.substr(1);break;default:r[s]=+e}else if(V(e)==="number")r[s]=e;else throw new Error("unsupported value for Color.set");let a=new v(r,i);return t?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${n} in mode ${i}`)}else return r};v.prototype.tint=function(o=.5,...e){return gi(this,"white",o,...e)};v.prototype.shade=function(o=.5,...e){return gi(this,"black",o,...e)};var l0=(o,e,t)=>{let i=o._rgb,n=e._rgb;return new v(i[0]+t*(n[0]-i[0]),i[1]+t*(n[1]-i[1]),i[2]+t*(n[2]-i[2]),"rgb")};Ct.rgb=l0;var{sqrt:dd,pow:Go}=Math,c0=(o,e,t)=>{let[i,n,r]=o._rgb,[s,a,l]=e._rgb;return new v(dd(Go(i,2)*(1-t)+Go(s,2)*t),dd(Go(n,2)*(1-t)+Go(a,2)*t),dd(Go(r,2)*(1-t)+Go(l,2)*t),"rgb")};Ct.lrgb=c0;var d0=(o,e,t)=>{let i=o.lab(),n=e.lab();return new v(i[0]+t*(n[0]-i[0]),i[1]+t*(n[1]-i[1]),i[2]+t*(n[2]-i[2]),"lab")};Ct.lab=d0;var Ue=(o,e,t,i)=>{let n,r;i==="hsl"?(n=o.hsl(),r=e.hsl()):i==="hsv"?(n=o.hsv(),r=e.hsv()):i==="hcg"?(n=o.hcg(),r=e.hcg()):i==="hsi"?(n=o.hsi(),r=e.hsi()):i==="lch"||i==="hcl"?(i="hcl",n=o.hcl(),r=e.hcl()):i==="oklch"&&(n=o.oklch().reverse(),r=e.oklch().reverse());let s,a,l,d,c,m;(i.substr(0,1)==="h"||i==="oklch")&&([s,l,c]=n,[a,d,m]=r);let h,u,p,_;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?_=a-(s+360):a<s&&s-a>180?_=a+360-s:_=a-s,u=s+t*_):isNaN(s)?isNaN(a)?u=Number.NaN:(u=a,(c==1||c==0)&&i!="hsv"&&(h=d)):(u=s,(m==1||m==0)&&i!="hsv"&&(h=l)),h===void 0&&(h=l+t*(d-l)),p=c+t*(m-c),i==="oklch"?new v([p,h,u],i):new v([u,h,p],i)};var Fp=(o,e,t)=>Ue(o,e,t,"lch");Ct.lch=Fp;Ct.hcl=Fp;var m0=o=>{if(V(o)=="number"&&o>=0&&o<=16777215){let e=o>>16,t=o>>8&255,i=o&255;return[e,t,i,1]}throw new Error("unknown num color: "+o)},Op=m0;var h0=(...o)=>{let[e,t,i]=M(o,"rgb");return(e<<16)+(t<<8)+i},Pp=h0;v.prototype.num=function(){return Pp(this._rgb)};var u0=(...o)=>new v(...o,"num");Object.assign(W,{num:u0});N.format.num=Op;N.autodetect.push({p:5,test:(...o)=>{if(o.length===1&&V(o[0])==="number"&&o[0]>=0&&o[0]<=16777215)return"num"}});var f0=(o,e,t)=>{let i=o.num(),n=e.num();return new v(i+t*(n-i),"num")};Ct.num=f0;var{floor:p0}=Math,g0=(...o)=>{o=M(o,"hcg");let[e,t,i]=o,n,r,s;i=i*255;let a=t*255;if(t===0)n=r=s=i;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;let l=p0(e),d=e-l,c=i*(1-t),m=c+a*(1-d),h=c+a*d,u=c+a;switch(l){case 0:[n,r,s]=[u,h,c];break;case 1:[n,r,s]=[m,u,c];break;case 2:[n,r,s]=[c,u,h];break;case 3:[n,r,s]=[c,m,u];break;case 4:[n,r,s]=[h,c,u];break;case 5:[n,r,s]=[u,c,m];break}}return[n,r,s,o.length>3?o[3]:1]},Lp=g0;var _0=(...o)=>{let[e,t,i]=M(o,"rgb"),n=Ia(e,t,i),r=Aa(e,t,i),s=r-n,a=s*100/255,l=n/(255-s)*100,d;return s===0?d=Number.NaN:(e===r&&(d=(t-i)/s),t===r&&(d=2+(i-e)/s),i===r&&(d=4+(e-t)/s),d*=60,d<0&&(d+=360)),[d,a,l]},Vp=_0;v.prototype.hcg=function(){return Vp(this._rgb)};var b0=(...o)=>new v(...o,"hcg");W.hcg=b0;N.format.hcg=Lp;N.autodetect.push({p:1,test:(...o)=>{if(o=M(o,"hcg"),V(o)==="array"&&o.length===3)return"hcg"}});var v0=(o,e,t)=>Ue(o,e,t,"hcg");Ct.hcg=v0;var{cos:Uo}=Math,y0=(...o)=>{o=M(o,"hsi");let[e,t,i]=o,n,r,s;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(s=(1-t)/3,n=(1+t*Uo(je*e)/Uo(Fa-je*e))/3,r=1-(s+n)):e<2/3?(e-=1/3,n=(1-t)/3,r=(1+t*Uo(je*e)/Uo(Fa-je*e))/3,s=1-(n+r)):(e-=2/3,r=(1-t)/3,s=(1+t*Uo(je*e)/Uo(Fa-je*e))/3,n=1-(r+s)),n=ze(i*n*3),r=ze(i*r*3),s=ze(i*s*3),[n*255,r*255,s*255,o.length>3?o[3]:1]},Np=y0;var{min:x0,sqrt:w0,acos:C0}=Math,k0=(...o)=>{let[e,t,i]=M(o,"rgb");e/=255,t/=255,i/=255;let n,r=x0(e,t,i),s=(e+t+i)/3,a=s>0?1-r/s:0;return a===0?n=NaN:(n=(e-t+(e-i))/2,n/=w0((e-t)*(e-t)+(e-i)*(t-i)),n=C0(n),i>t&&(n=je-n),n/=je),[n*360,a,s]},Bp=k0;v.prototype.hsi=function(){return Bp(this._rgb)};var S0=(...o)=>new v(...o,"hsi");W.hsi=S0;N.format.hsi=Np;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"hsi"),V(o)==="array"&&o.length===3)return"hsi"}});var E0=(o,e,t)=>Ue(o,e,t,"hsi");Ct.hsi=E0;var M0=(...o)=>{o=M(o,"hsl");let[e,t,i]=o,n,r,s;if(t===0)n=r=s=i*255;else{let a=[0,0,0],l=[0,0,0],d=i<.5?i*(1+t):i+t-i*t,c=2*i-d,m=e/360;a[0]=m+1/3,a[1]=m,a[2]=m-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),6*a[h]<1?l[h]=c+(d-c)*6*a[h]:2*a[h]<1?l[h]=d:3*a[h]<2?l[h]=c+(d-c)*(2/3-a[h])*6:l[h]=c;[n,r,s]=[l[0]*255,l[1]*255,l[2]*255]}return o.length>3?[n,r,s,o[3]]:[n,r,s,1]},Yr=M0;var D0=(...o)=>{o=M(o,"rgba");let[e,t,i]=o;e/=255,t/=255,i/=255;let n=Ia(e,t,i),r=Aa(e,t,i),s=(r+n)/2,a,l;return r===n?(a=0,l=Number.NaN):a=s<.5?(r-n)/(r+n):(r-n)/(2-r-n),e==r?l=(t-i)/(r-n):t==r?l=2+(i-e)/(r-n):i==r&&(l=4+(e-t)/(r-n)),l*=60,l<0&&(l+=360),o.length>3&&o[3]!==void 0?[l,a,s,o[3]]:[l,a,s]},za=D0;v.prototype.hsl=function(){return za(this._rgb)};var T0=(...o)=>new v(...o,"hsl");W.hsl=T0;N.format.hsl=Yr;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"hsl"),V(o)==="array"&&o.length===3)return"hsl"}});var R0=(o,e,t)=>Ue(o,e,t,"hsl");Ct.hsl=R0;var{floor:I0}=Math,A0=(...o)=>{o=M(o,"hsv");let[e,t,i]=o,n,r,s;if(i*=255,t===0)n=r=s=i;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;let a=I0(e),l=e-a,d=i*(1-t),c=i*(1-t*l),m=i*(1-t*(1-l));switch(a){case 0:[n,r,s]=[i,m,d];break;case 1:[n,r,s]=[c,i,d];break;case 2:[n,r,s]=[d,i,m];break;case 3:[n,r,s]=[d,c,i];break;case 4:[n,r,s]=[m,d,i];break;case 5:[n,r,s]=[i,d,c];break}}return[n,r,s,o.length>3?o[3]:1]},zp=A0;var{min:F0,max:O0}=Math,P0=(...o)=>{o=M(o,"rgb");let[e,t,i]=o,n=F0(e,t,i),r=O0(e,t,i),s=r-n,a,l,d;return d=r/255,r===0?(a=Number.NaN,l=0):(l=s/r,e===r&&(a=(t-i)/s),t===r&&(a=2+(i-e)/s),i===r&&(a=4+(e-t)/s),a*=60,a<0&&(a+=360)),[a,l,d]},jp=P0;v.prototype.hsv=function(){return jp(this._rgb)};var L0=(...o)=>new v(...o,"hsv");W.hsv=L0;N.format.hsv=zp;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"hsv"),V(o)==="array"&&o.length===3)return"hsv"}});var V0=(o,e,t)=>Ue(o,e,t,"hsv");Ct.hsv=V0;function Un(o,e){let t=o.length;Array.isArray(o[0])||(o=[o]),Array.isArray(e[0])||(e=e.map(s=>[s]));let i=e[0].length,n=e[0].map((s,a)=>e.map(l=>l[a])),r=o.map(s=>n.map(a=>Array.isArray(s)?s.reduce((l,d,c)=>l+d*(a[c]||0),0):a.reduce((l,d)=>l+d*s,0)));return t===1&&(r=r[0]),i===1?r.map(s=>s[0]):r}var N0=(...o)=>{o=M(o,"lab");let[e,t,i,...n]=o,[r,s,a]=B0([e,t,i]),[l,d,c]=sd(r,s,a);return[l,d,c,...n.length>0&&n[0]<1?[n[0]]:[]]};function B0(o){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],i=Un(t,o);return Un(e,i.map(n=>n**3))}var Wo=N0;var z0=(...o)=>{let[e,t,i,...n]=M(o,"rgb"),r=ld(e,t,i);return[...j0(r),...n.length>0&&n[0]<1?[n[0]]:[]]};function j0(o){let e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],i=Un(e,o);return Un(t,i.map(n=>Math.cbrt(n)))}var Ho=z0;v.prototype.oklab=function(){return Ho(this._rgb)};var G0=(...o)=>new v(...o,"oklab");Object.assign(W,{oklab:G0});N.format.oklab=Wo;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"oklab"),V(o)==="array"&&o.length===3)return"oklab"}});var U0=(o,e,t)=>{let i=o.oklab(),n=e.oklab();return new v(i[0]+t*(n[0]-i[0]),i[1]+t*(n[1]-i[1]),i[2]+t*(n[2]-i[2]),"oklab")};Ct.oklab=U0;var W0=(o,e,t)=>Ue(o,e,t,"oklch");Ct.oklch=W0;var{pow:md,sqrt:hd,PI:ud,cos:Gp,sin:Up,atan2:H0}=Math,Wp=(o,e="lrgb",t=null)=>{let i=o.length;t||(t=Array.from(new Array(i)).map(()=>1));let n=i/t.reduce(function(m,h){return m+h});if(t.forEach((m,h)=>{t[h]*=n}),o=o.map(m=>new v(m)),e==="lrgb")return X0(o,t);let r=o.shift(),s=r.get(e),a=[],l=0,d=0;for(let m=0;m<s.length;m++)if(s[m]=(s[m]||0)*t[0],a.push(isNaN(s[m])?0:t[0]),e.charAt(m)==="h"&&!isNaN(s[m])){let h=s[m]/180*ud;l+=Gp(h)*t[0],d+=Up(h)*t[0]}let c=r.alpha()*t[0];o.forEach((m,h)=>{let u=m.get(e);c+=m.alpha()*t[h+1];for(let p=0;p<s.length;p++)if(!isNaN(u[p]))if(a[p]+=t[h+1],e.charAt(p)==="h"){let _=u[p]/180*ud;l+=Gp(_)*t[h+1],d+=Up(_)*t[h+1]}else s[p]+=u[p]*t[h+1]});for(let m=0;m<s.length;m++)if(e.charAt(m)==="h"){let h=H0(d/a[m],l/a[m])/ud*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[m]=h}else s[m]=s[m]/a[m];return c/=i,new v(s,e).alpha(c>.99999?1:c,!0)},X0=(o,e)=>{let t=o.length,i=[0,0,0,0];for(let n=0;n<o.length;n++){let r=o[n],s=e[n]/t,a=r._rgb;i[0]+=md(a[0],2)*s,i[1]+=md(a[1],2)*s,i[2]+=md(a[2],2)*s,i[3]+=a[3]*s}return i[0]=hd(i[0]),i[1]=hd(i[1]),i[2]=hd(i[2]),i[3]>.9999999&&(i[3]=1),new v(Gn(i))};var{pow:Y0}=Math;function Wn(o){let e="rgb",t=W("#ccc"),i=0,n=[0,1],r=[0,1],s=[],a=[0,0],l=!1,d=[],c=!1,m=0,h=1,u=!1,p={},_=!0,g=1,b=function(y){if(y=y||["#fff","#000"],y&&V(y)==="string"&&W.brewer&&W.brewer[y.toLowerCase()]&&(y=W.brewer[y.toLowerCase()]),V(y)==="array"){y.length===1&&(y=[y[0],y[0]]),y=y.slice(0);for(let S=0;S<y.length;S++)y[S]=W(y[S]);s.length=0;for(let S=0;S<y.length;S++)s.push(S/(y.length-1))}return F(),d=y},x=function(y){if(l!=null){let S=l.length-1,P=0;for(;P<S&&y>=l[P];)P++;return P-1}return 0},C=y=>y,k=y=>y,D=function(y,S){let P,I;if(S==null&&(S=!1),isNaN(y)||y===null)return t;S?I=y:l&&l.length>2?I=x(y)/(l.length-2):h!==m?I=(y-m)/(h-m):I=1,I=k(I),S||(I=C(I)),g!==1&&(I=Y0(I,g)),I=a[0]+I*(1-a[0]-a[1]),I=ze(I,0,1);let O=Math.floor(I*1e4);if(_&&p[O])P=p[O];else{if(V(d)==="array")for(let A=0;A<s.length;A++){let lt=s[A];if(I<=lt){P=d[A];break}if(I>=lt&&A===s.length-1){P=d[A];break}if(I>lt&&I<s[A+1]){I=(I-lt)/(s[A+1]-lt),P=W.interpolate(d[A],d[A+1],I,e);break}}else V(d)==="function"&&(P=d(I));_&&(p[O]=P)}return P};var F=()=>p={};b(o);let T=function(y){let S=W(D(y));return c&&S[c]?S[c]():S};return T.classes=function(y){if(y!=null){if(V(y)==="array")l=y,n=[y[0],y[y.length-1]];else{let S=W.analyze(n);y===0?l=[S.min,S.max]:l=W.limits(S,"e",y)}return T}return l},T.domain=function(y){if(!arguments.length)return r;r=y.slice(0),m=y[0],h=y[y.length-1],s=[];let S=d.length;if(y.length===S&&m!==h)for(let P of Array.from(y))s.push((P-m)/(h-m));else{for(let P=0;P<S;P++)s.push(P/(S-1));if(y.length>2){let P=y.map((O,A)=>A/(y.length-1)),I=y.map(O=>(O-m)/(h-m));I.every((O,A)=>P[A]===O)||(k=O=>{if(O<=0||O>=1)return O;let A=0;for(;O>=I[A+1];)A++;let lt=(O-I[A])/(I[A+1]-I[A]);return P[A]+lt*(P[A+1]-P[A])})}}return n=[m,h],T},T.mode=function(y){return arguments.length?(e=y,F(),T):e},T.range=function(y,S){return b(y,S),T},T.out=function(y){return c=y,T},T.spread=function(y){return arguments.length?(i=y,T):i},T.correctLightness=function(y){return y==null&&(y=!0),u=y,F(),u?C=function(S){let P=D(0,!0).lab()[0],I=D(1,!0).lab()[0],O=P>I,A=D(S,!0).lab()[0],lt=P+(I-P)*S,et=A-lt,ot=0,G=1,ct=20;for(;Math.abs(et)>.01&&ct-- >0;)(function(){return O&&(et*=-1),et<0?(ot=S,S+=(G-S)*.5):(G=S,S+=(ot-S)*.5),A=D(S,!0).lab()[0],et=A-lt})();return S}:C=S=>S,T},T.padding=function(y){return y!=null?(V(y)==="number"&&(y=[y,y]),a=y,T):a},T.colors=function(y,S){arguments.length<2&&(S="hex");let P=[];if(arguments.length===0)P=d.slice(0);else if(y===1)P=[T(.5)];else if(y>1){let I=n[0],O=n[1]-I;P=q0(0,y,!1).map(A=>T(I+A/(y-1)*O))}else{o=[];let I=[];if(l&&l.length>2)for(let O=1,A=l.length,lt=1<=A;lt?O<A:O>A;lt?O++:O--)I.push((l[O-1]+l[O])*.5);else I=n;P=I.map(O=>T(O))}return W[S]&&(P=P.map(I=>I[S]())),P},T.cache=function(y){return y!=null?(_=y,T):_},T.gamma=function(y){return y!=null?(g=y,T):g},T.nodata=function(y){return y!=null?(t=W(y),T):t},T}function q0(o,e,t){let i=[],n=o<e,r=t?n?e+1:e-1:e;for(let s=o;n?s<r:s>r;n?s++:s--)i.push(s);return i}var Z0=function(o){let e=[1,1];for(let t=1;t<o;t++){let i=[1];for(let n=1;n<=e.length;n++)i[n]=(e[n]||0)+e[n-1];e=i}return e},$0=function(o){let e,t,i,n;if(o=o.map(r=>new v(r)),o.length===2)[t,i]=o.map(r=>r.lab()),e=function(r){let s=[0,1,2].map(a=>t[a]+r*(i[a]-t[a]));return new v(s,"lab")};else if(o.length===3)[t,i,n]=o.map(r=>r.lab()),e=function(r){let s=[0,1,2].map(a=>(1-r)*(1-r)*t[a]+2*(1-r)*r*i[a]+r*r*n[a]);return new v(s,"lab")};else if(o.length===4){let r;[t,i,n,r]=o.map(s=>s.lab()),e=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*t[l]+3*(1-s)*(1-s)*s*i[l]+3*(1-s)*s*s*n[l]+s*s*s*r[l]);return new v(a,"lab")}}else if(o.length>=5){let r,s,a;r=o.map(l=>l.lab()),a=o.length-1,s=Z0(a),e=function(l){let d=1-l,c=[0,1,2].map(m=>r.reduce((h,u,p)=>h+s[p]*d**(a-p)*l**p*u[m],0));return new v(c,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},Hp=o=>{let e=$0(o);return e.scale=()=>Wn(e),e};var{round:Xp}=Math;v.prototype.rgb=function(o=!0){return o===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Xp)};v.prototype.rgba=function(o=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?o===!1?e:Xp(e):e)};var K0=(...o)=>new v(...o,"rgb");Object.assign(W,{rgb:K0});N.format.rgb=(...o)=>{let e=M(o,"rgba");return e[3]===void 0&&(e[3]=1),e};N.autodetect.push({p:3,test:(...o)=>{if(o=M(o,"rgba"),V(o)==="array"&&(o.length===3||o.length===4&&V(o[3])=="number"&&o[3]>=0&&o[3]<=1))return"rgb"}});var Je=(o,e,t)=>{if(!Je[t])throw new Error("unknown blend mode "+t);return Je[t](o,e)},dn=o=>(e,t)=>{let i=W(t).rgb(),n=W(e).rgb();return W.rgb(o(i,n))},mn=o=>(e,t)=>{let i=[];return i[0]=o(e[0],t[0]),i[1]=o(e[1],t[1]),i[2]=o(e[2],t[2]),i},Q0=o=>o,J0=(o,e)=>o*e/255,tx=(o,e)=>o>e?e:o,ex=(o,e)=>o>e?o:e,ix=(o,e)=>255*(1-(1-o/255)*(1-e/255)),nx=(o,e)=>e<128?2*o*e/255:255*(1-2*(1-o/255)*(1-e/255)),ox=(o,e)=>255*(1-(1-e/255)/(o/255)),rx=(o,e)=>o===255?255:(o=255*(e/255)/(1-o/255),o>255?255:o);Je.normal=dn(mn(Q0));Je.multiply=dn(mn(J0));Je.screen=dn(mn(ix));Je.overlay=dn(mn(nx));Je.darken=dn(mn(tx));Je.lighten=dn(mn(ex));Je.dodge=dn(mn(rx));Je.burn=dn(mn(ox));var Yp=Je;var{pow:sx,sin:ax,cos:lx}=Math;function qp(o=300,e=-1.5,t=1,i=1,n=[0,1]){let r=0,s;V(n)==="array"?s=n[1]-n[0]:(s=0,n=[n,n]);let a=function(l){let d=je*((o+120)/360+e*l),c=sx(n[0]+s*l,i),h=(r!==0?t[0]+l*r:t)*c*(1-c)/2,u=lx(d),p=ax(d),_=c+h*(-.14861*u+1.78277*p),g=c+h*(-.29227*u-.90649*p),b=c+h*(1.97294*u);return W(Gn([_*255,g*255,b*255,1]))};return a.start=function(l){return l==null?o:(o=l,a)},a.rotations=function(l){return l==null?e:(e=l,a)},a.gamma=function(l){return l==null?i:(i=l,a)},a.hue=function(l){return l==null?t:(t=l,V(t)==="array"?(r=t[1]-t[0],r===0&&(t=t[1])):r=0,a)},a.lightness=function(l){return l==null?n:(V(l)==="array"?(n=l,s=l[1]-l[0]):(n=[l,l],s=0),a)},a.scale=()=>W.scale(a),a.hue(t),a}var cx="0123456789abcdef",{floor:dx,random:mx}=Math,Zp=(o=mx)=>{let e="#";for(let t=0;t<6;t++)e+=cx.charAt(dx(o()*16));return new v(e,"hex")};var{log:$p,pow:hx,floor:ux,abs:fx}=Math;function fd(o,e=null){let t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return V(o)==="object"&&(o=Object.values(o)),o.forEach(i=>{e&&V(i)==="object"&&(i=i[e]),i!=null&&!isNaN(i)&&(t.values.push(i),t.sum+=i,i<t.min&&(t.min=i),i>t.max&&(t.max=i),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(i,n)=>pd(t,i,n),t}function pd(o,e="equal",t=7){V(o)=="array"&&(o=fd(o));let{min:i,max:n}=o,r=o.values.sort((a,l)=>a-l);if(t===1)return[i,n];let s=[];if(e.substr(0,1)==="c"&&(s.push(i),s.push(n)),e.substr(0,1)==="e"){s.push(i);for(let a=1;a<t;a++)s.push(i+a/t*(n-i));s.push(n)}else if(e.substr(0,1)==="l"){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*$p(i),l=Math.LOG10E*$p(n);s.push(i);for(let d=1;d<t;d++)s.push(hx(10,a+d/t*(l-a)));s.push(n)}else if(e.substr(0,1)==="q"){s.push(i);for(let a=1;a<t;a++){let l=(r.length-1)*a/t,d=ux(l);if(d===l)s.push(r[d]);else{let c=l-d;s.push(r[d]*(1-c)+r[d+1]*c)}}s.push(n)}else if(e.substr(0,1)==="k"){let a,l=r.length,d=new Array(l),c=new Array(t),m=!0,h=0,u=null;u=[],u.push(i);for(let g=1;g<t;g++)u.push(i+g/t*(n-i));for(u.push(n);m;){for(let b=0;b<t;b++)c[b]=0;for(let b=0;b<l;b++){let x=r[b],C=Number.MAX_VALUE,k;for(let D=0;D<t;D++){let F=fx(u[D]-x);F<C&&(C=F,k=D),c[k]++,d[b]=k}}let g=new Array(t);for(let b=0;b<t;b++)g[b]=null;for(let b=0;b<l;b++)a=d[b],g[a]===null?g[a]=r[b]:g[a]+=r[b];for(let b=0;b<t;b++)g[b]*=1/c[b];m=!1;for(let b=0;b<t;b++)if(g[b]!==u[b]){m=!0;break}u=g,h++,h>200&&(m=!1)}let p={};for(let g=0;g<t;g++)p[g]=[];for(let g=0;g<l;g++)a=d[g],p[a].push(r[g]);let _=[];for(let g=0;g<t;g++)_.push(p[g][0]),_.push(p[g][p[g].length-1]);_=_.sort((g,b)=>g-b),s.push(_[0]);for(let g=1;g<_.length;g+=2){let b=_[g];!isNaN(b)&&s.indexOf(b)===-1&&s.push(b)}}return s}var Kp=(o,e)=>{o=new v(o),e=new v(e);let t=o.luminance(),i=e.luminance();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)};var Qp=.027,px=5e-4,gx=.1,Jp=1.14,ja=.022,tg=1.414,ig=(o,e)=>{o=new v(o),e=new v(e),o.alpha()<1&&(o=gi(e,o,o.alpha(),"rgb"));let t=eg(...o.rgb()),i=eg(...e.rgb()),n=t>=ja?t:t+Math.pow(ja-t,tg),r=i>=ja?i:i+Math.pow(ja-i,tg),s=Math.pow(r,.56)-Math.pow(n,.57),a=Math.pow(r,.65)-Math.pow(n,.62),l=Math.abs(r-n)<px?0:n<r?s*Jp:a*Jp;return(Math.abs(l)<gx?0:l>0?l-Qp:l+Qp)*100};function eg(o,e,t){return .2126729*Math.pow(o/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}var{sqrt:Ai,pow:Gt,min:_x,max:bx,atan2:ng,abs:og,cos:Ga,sin:rg,exp:vx,PI:sg}=Math;function ag(o,e,t=1,i=1,n=1){var r=function(_i){return 360*_i/(2*sg)},s=function(_i){return 2*sg*_i/360};o=new v(o),e=new v(e);let[a,l,d]=Array.from(o.lab()),[c,m,h]=Array.from(e.lab()),u=(a+c)/2,p=Ai(Gt(l,2)+Gt(d,2)),_=Ai(Gt(m,2)+Gt(h,2)),g=(p+_)/2,b=.5*(1-Ai(Gt(g,7)/(Gt(g,7)+Gt(25,7)))),x=l*(1+b),C=m*(1+b),k=Ai(Gt(x,2)+Gt(d,2)),D=Ai(Gt(C,2)+Gt(h,2)),F=(k+D)/2,T=r(ng(d,x)),y=r(ng(h,C)),S=T>=0?T:T+360,P=y>=0?y:y+360,I=og(S-P)>180?(S+P+360)/2:(S+P)/2,O=1-.17*Ga(s(I-30))+.24*Ga(s(2*I))+.32*Ga(s(3*I+6))-.2*Ga(s(4*I-63)),A=P-S;A=og(A)<=180?A:P<=S?A+360:A-360,A=2*Ai(k*D)*rg(s(A)/2);let lt=c-a,et=D-k,ot=1+.015*Gt(u-50,2)/Ai(20+Gt(u-50,2)),G=1+.045*F,ct=1+.015*F*O,Ft=30*vx(-Gt((I-275)/25,2)),Ot=-(2*Ai(Gt(F,7)/(Gt(F,7)+Gt(25,7))))*rg(2*s(Ft)),R=Ai(Gt(lt/(t*ot),2)+Gt(et/(i*G),2)+Gt(A/(n*ct),2)+Ot*(et/(i*G))*(A/(n*ct)));return bx(0,_x(100,R))}function lg(o,e,t="lab"){o=new v(o),e=new v(e);let i=o.get(t),n=e.get(t),r=0;for(let s in i){let a=(i[s]||0)-(n[s]||0);r+=a*a}return Math.sqrt(r)}var cg=(...o)=>{try{return new v(...o),!0}catch{return!1}};var dg={cool(){return Wn([W.hsl(180,1,.9),W.hsl(250,.7,.4)])},hot(){return Wn(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var gd={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},hg=Object.keys(gd),mg=new Map(hg.map(o=>[o.toLowerCase(),o])),yx=typeof Proxy=="function"?new Proxy(gd,{get(o,e){let t=e.toLowerCase();if(mg.has(t))return o[mg.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(hg)}}):gd,ug=yx;var xx=(...o)=>{o=M(o,"cmyk");let[e,t,i,n]=o,r=o.length>4?o[4]:1;return n===1?[0,0,0,r]:[e>=1?0:255*(1-e)*(1-n),t>=1?0:255*(1-t)*(1-n),i>=1?0:255*(1-i)*(1-n),r]},fg=xx;var{max:pg}=Math,wx=(...o)=>{let[e,t,i]=M(o,"rgb");e=e/255,t=t/255,i=i/255;let n=1-pg(e,pg(t,i)),r=n<1?1/(1-n):0,s=(1-e-n)*r,a=(1-t-n)*r,l=(1-i-n)*r;return[s,a,l,n]},gg=wx;v.prototype.cmyk=function(){return gg(this._rgb)};var Cx=(...o)=>new v(...o,"cmyk");Object.assign(W,{cmyk:Cx});N.format.cmyk=fg;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"cmyk"),V(o)==="array"&&o.length===4)return"cmyk"}});var kx=(...o)=>{let e=M(o,"hsla"),t=Re(o)||"lsa";return e[0]=Jt(e[0]||0)+"deg",e[1]=Jt(e[1]*100)+"%",e[2]=Jt(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},_g=kx;var Sx=(...o)=>{let e=M(o,"lab"),t=Re(o)||"lab";return e[0]=Jt(e[0])+"%",e[1]=Jt(e[1]),e[2]=Jt(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},bg=Sx;var Ex=(...o)=>{let e=M(o,"lch"),t=Re(o)||"lab";return e[0]=Jt(e[0])+"%",e[1]=Jt(e[1]),e[2]=isNaN(e[2])?"none":Jt(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},vg=Ex;var Mx=(...o)=>{let e=M(o,"lab");return e[0]=Jt(e[0]*100)+"%",e[1]=Wr(e[1]),e[2]=Wr(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},yg=Mx;var Dx=(...o)=>{let[e,t,i,...n]=M(o,"rgb"),[r,s,a]=Ho(e,t,i),[l,d,c]=Ba(r,s,a);return[l,d,c,...n.length>0&&n[0]<1?[n[0]]:[]]},Ua=Dx;var Tx=(...o)=>{let e=M(o,"lch");return e[0]=Jt(e[0]*100)+"%",e[1]=Wr(e[1]),e[2]=isNaN(e[2])?"none":Jt(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},xg=Tx;var{round:_d}=Math,Rx=(...o)=>{let e=M(o,"rgba"),t=Re(o)||"rgb";if(t.substr(0,3)==="hsl")return _g(za(e),t);if(t.substr(0,3)==="lab"){let i=cn();Ge("d50");let n=bg(zo(e),t);return Ge(i),n}if(t.substr(0,3)==="lch"){let i=cn();Ge("d50");let n=vg(Xr(e),t);return Ge(i),n}return t.substr(0,5)==="oklab"?yg(Ho(e)):t.substr(0,5)==="oklch"?xg(Ua(e)):(e[0]=_d(e[0]),e[1]=_d(e[1]),e[2]=_d(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},wg=Rx;var Ix=(...o)=>{o=M(o,"lch");let[e,t,i,...n]=o,[r,s,a]=Na(e,t,i),[l,d,c]=Wo(r,s,a);return[l,d,c,...n.length>0&&n[0]<1?[n[0]]:[]]},Wa=Ix;var Fi=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,ti=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Ha=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,We=/\s*/.source,Yo=/\s+/.source,bd=/\s*,\s*/.source,Xa=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,qo=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Cg=new RegExp("^rgba?\\("+We+[Fi,Fi,Fi].join(Yo)+qo+"\\)$"),kg=new RegExp("^rgb\\("+We+[Fi,Fi,Fi].join(bd)+We+"\\)$"),Sg=new RegExp("^rgba\\("+We+[Fi,Fi,Fi,ti].join(bd)+We+"\\)$"),Eg=new RegExp("^hsla?\\("+We+[Xa,Ha,Ha].join(Yo)+qo+"\\)$"),Mg=new RegExp("^hsl?\\("+We+[Xa,Ha,Ha].join(bd)+We+"\\)$"),Dg=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Tg=new RegExp("^lab\\("+We+[ti,ti,ti].join(Yo)+qo+"\\)$"),Rg=new RegExp("^lch\\("+We+[ti,ti,Xa].join(Yo)+qo+"\\)$"),Ig=new RegExp("^oklab\\("+We+[ti,ti,ti].join(Yo)+qo+"\\)$"),Ag=new RegExp("^oklch\\("+We+[ti,ti,Xa].join(Yo)+qo+"\\)$"),{round:Fg}=Math,Xo=o=>o.map((e,t)=>t<=2?ze(Fg(e),0,255):e),Ut=(o,e=0,t=100,i=!1)=>(typeof o=="string"&&o.endsWith("%")&&(o=parseFloat(o.substring(0,o.length-1))/100,i?o=e+(o+1)*.5*(t-e):o=e+o*(t-e)),+o),fe=(o,e)=>o==="none"?e:o,Og=o=>{if(o=o.toLowerCase().trim(),o==="transparent")return[0,0,0,0];let e;if(N.format.named)try{return N.format.named(o)}catch{}if((e=o.match(Cg))||(e=o.match(kg))){let t=e.slice(1,4);for(let n=0;n<3;n++)t[n]=+Ut(fe(t[n],0),0,255);t=Xo(t);let i=e[4]!==void 0?+Ut(e[4],0,1):1;return t[3]=i,t}if(e=o.match(Sg)){let t=e.slice(1,5);for(let i=0;i<4;i++)t[i]=+Ut(t[i],0,255);return t}if((e=o.match(Eg))||(e=o.match(Mg))){let t=e.slice(1,4);t[0]=+fe(t[0].replace("deg",""),0),t[1]=+Ut(fe(t[1],0),0,100)*.01,t[2]=+Ut(fe(t[2],0),0,100)*.01;let i=Xo(Yr(t)),n=e[4]!==void 0?+Ut(e[4],0,1):1;return i[3]=n,i}if(e=o.match(Dg)){let t=e.slice(1,4);t[1]*=.01,t[2]*=.01;let i=Yr(t);for(let n=0;n<3;n++)i[n]=Fg(i[n]);return i[3]=+e[4],i}if(e=o.match(Tg)){let t=e.slice(1,4);t[0]=Ut(fe(t[0],0),0,100),t[1]=Ut(fe(t[1],0),-125,125,!0),t[2]=Ut(fe(t[2],0),-125,125,!0);let i=cn();Ge("d50");let n=Xo(Bo(t));Ge(i);let r=e[4]!==void 0?+Ut(e[4],0,1):1;return n[3]=r,n}if(e=o.match(Rg)){let t=e.slice(1,4);t[0]=Ut(t[0],0,100),t[1]=Ut(fe(t[1],0),0,150,!1),t[2]=+fe(t[2].replace("deg",""),0);let i=cn();Ge("d50");let n=Xo(jo(t));Ge(i);let r=e[4]!==void 0?+Ut(e[4],0,1):1;return n[3]=r,n}if(e=o.match(Ig)){let t=e.slice(1,4);t[0]=Ut(fe(t[0],0),0,1),t[1]=Ut(fe(t[1],0),-.4,.4,!0),t[2]=Ut(fe(t[2],0),-.4,.4,!0);let i=Xo(Wo(t)),n=e[4]!==void 0?+Ut(e[4],0,1):1;return i[3]=n,i}if(e=o.match(Ag)){let t=e.slice(1,4);t[0]=Ut(fe(t[0],0),0,1),t[1]=Ut(fe(t[1],0),0,.4,!1),t[2]=+fe(t[2].replace("deg",""),0);let i=Xo(Wa(t)),n=e[4]!==void 0?+Ut(e[4],0,1):1;return i[3]=n,i}};Og.test=o=>Cg.test(o)||Eg.test(o)||Tg.test(o)||Rg.test(o)||Ig.test(o)||Ag.test(o)||kg.test(o)||Sg.test(o)||Mg.test(o)||Dg.test(o)||o==="transparent";var vd=Og;v.prototype.css=function(o){return wg(this._rgb,o)};var Ax=(...o)=>new v(...o,"css");W.css=Ax;N.format.css=vd;N.autodetect.push({p:5,test:(o,...e)=>{if(!e.length&&V(o)==="string"&&vd.test(o))return"css"}});N.format.gl=(...o)=>{let e=M(o,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};var Fx=(...o)=>new v(...o,"gl");W.gl=Fx;v.prototype.gl=function(){let o=this._rgb;return[o[0]/255,o[1]/255,o[2]/255,o[3]]};v.prototype.hex=function(o){return Va(this._rgb,o)};var Ox=(...o)=>new v(...o,"hex");W.hex=Ox;N.format.hex=Pa;N.autodetect.push({p:4,test:(o,...e)=>{if(!e.length&&V(o)==="string"&&[3,4,5,6,7,8,9].indexOf(o.length)>=0)return"hex"}});var{log:Ya}=Math,Px=o=>{let e=o/100,t,i,n;return e<66?(t=255,i=e<6?0:-155.25485562709179-.44596950469579133*(i=e-2)+104.49216199393888*Ya(i),n=e<20?0:-254.76935184120902+.8274096064007395*(n=e-10)+115.67994401066147*Ya(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*Ya(t),i=325.4494125711974+.07943456536662342*(i=e-50)-28.0852963507957*Ya(i),n=255),[t,i,n,1]},qa=Px;var{round:Lx}=Math,Vx=(...o)=>{let e=M(o,"rgb"),t=e[0],i=e[2],n=1e3,r=4e4,s=.4,a;for(;r-n>s;){a=(r+n)*.5;let l=qa(a);l[2]/l[0]>=i/t?r=a:n=a}return Lx(a)},Pg=Vx;v.prototype.temp=v.prototype.kelvin=v.prototype.temperature=function(){return Pg(this._rgb)};var yd=(...o)=>new v(...o,"temp");Object.assign(W,{temp:yd,kelvin:yd,temperature:yd});N.format.temp=N.format.kelvin=N.format.temperature=qa;v.prototype.oklch=function(){return Ua(this._rgb)};var Nx=(...o)=>new v(...o,"oklch");Object.assign(W,{oklch:Nx});N.format.oklch=Wa;N.autodetect.push({p:2,test:(...o)=>{if(o=M(o,"oklch"),V(o)==="array"&&o.length===3)return"oklch"}});Object.assign(W,{analyze:fd,average:Wp,bezier:Hp,blend:Yp,brewer:ug,Color:v,colors:ln,contrast:Kp,contrastAPCA:ig,cubehelix:qp,deltaE:ag,distance:lg,input:N,interpolate:gi,limits:pd,mix:gi,random:Zp,scale:Wn,scales:dg,valid:cg});var Lg=W;function Vg(o,e,t,i){let n=Rs();return J(()=>{let r=i(),s=o();if(!r||!s)return;let a=s.width*r,l=s.height*r,d=e(),c=-t(),m=Bm(jm(Me(),d[0],d[1]),c),h=g=>Cn(ki(m,g.slice()),n),u=[h([-a/2,l/2]),h([a/2,l/2]),h([a/2,-l/2]),h([-a/2,-l/2])];u.push(u[0]);let p=new Ne([u]),_=new qt(h([0,l/2]));return{area:p,top:_,center:d,rotation:c,resolution:r}})}function Ng(o,e,t,i){let n=J(()=>i()?.top),r=J(()=>i()?new qt(i().center):void 0),s=J(()=>i()?.area),a=wi(Pi(ks(new Image,"./assets/markers/top.png"))),l=J(()=>{let x=a();if(!(!x||!e()))return new re({image:new uo({anchor:[.5,-.5],anchorXUnits:"fraction",anchorYUnits:"fraction",img:x,width:20,rotation:-(i()?.rotation||0)}),zIndex:1/0})}),d=wi(Pi(ks(new Image,"./assets/markers/rotate.png"))),c=wi(Pi(ks(new Image,"./assets/markers/move.png"))),m=J(()=>{let x=o()?c():d();if(!(!x||!(o()||e())))return new re({image:new uo({anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",img:x,width:30,rotation:o()?0:-(i()?.rotation||0)}),zIndex:1/0})}),h=J(()=>[new re({stroke:new Ze({color:"black",width:4,lineDash:[10,10]})}),new re({stroke:new Ze({color:"#aaaaaa",width:2,lineDash:[10,10]}),fill:new Wi({color:Lg("black").alpha(t()*.125).css()})})]),u=new Te({drawStyle:l}),p=new Te({drawStyle:m}),_=new Te({drawStyle:h});vt(()=>u.setGeometry(n())),vt(()=>p.setGeometry(r())),vt(()=>_.setGeometry(s()));let g=new sn({features:[_,u,p]}),b=new rn({source:g,style:x=>x.get("drawStyle")()});return vt(()=>{m(),h(),b.changed()}),{previewVectorLayer:b}}function Bg(o,e,t,i,n,r){let s,a,l=nt(!1),d=nt(!1),c=J(()=>{if(!(!l()||!(e()||i())))return d()?"grabbing":"grab"}),m=Math.PI/8,h=p=>r()?Math.round(p/m)*m:p,u=new mo({handleMoveEvent:p=>{l.set(!!o()?.area.containsXY(p.coordinate[0],p.coordinate[1]))},handleDownEvent:p=>o()?.area.containsXY(p.coordinate[0],p.coordinate[1])?(e()&&(s=p.coordinate),i()&&(a=Math.atan2(p.coordinate[0]-o().center[0],p.coordinate[1]-o().center[1])),d.set(!0),!0):!1,handleDragEvent:p=>{let{coordinate:_}=p;if(e()){let g=[_[0]-s[0],_[1]-s[1]];s=_,t.update(b=>[b[0]+g[0],b[1]+g[1]])}if(i()){let g=h(Math.atan2(_[0]-o().center[0],_[1]-o().center[1])),b=g-a;a=g,n.update(x=>Dm(h(x+b),Math.PI*2))}},handleUpEvent:()=>(s=void 0,a=void 0,d.set(!1),!1)});return Mh(u),vt(()=>{let p=!!o()&&(e()||i());u.setActive(p),!p&&(s=void 0,a=void 0,d.set(!1))}),[[u],c]}var zg=Lt.union([Lt.object({diagonal:Lt.number()}),Lt.object({width:Lt.number(),height:Lt.number()})]);var Bx="flare-light-remote",zx=["./remote"],qr=class o{endpoint;map=f(jn);presentationRequest=(()=>{let e=new PresentationRequest(zx);return e.addEventListener("connectionavailable",({connection:t})=>this.onConnection(t)),e})();#t=new Jr(void 0);#e=an(Bx,Lt.string().optional(),void 0);#i=void 0;activeConnection=wi(this.#t);connected=J(()=>!!this.activeConnection());nativeRemoteSize=nt(void 0);virtualRemoteSize=nt(void 0);remoteCalibrating=nt(!1);customRemoteZoom=J(()=>this.remoteZoom()!==1);remoteZoom=an("flare-light:projection-zoom",Lt.number(),1);remoteSize=an("flare-light:projection-calibration",zg,void 0);remoteCalibration=J(()=>{let e=this.remoteSize(),t=this.nativeRemoteSize(),i=1/Math.max(.01,Math.min(100,this.remoteZoom()));if(!t||!e)return{resolution:1,x:1,y:1};if("diagonal"in e)return{resolution:1/(Math.sqrt(t.width**2+t.height**2)/e.diagonal)*i,x:1,y:1};let n=t.width/e.width,r=t.height/e.height;return{resolution:1/n*i,x:1,y:r/n}});remoteAutoSynchronize=an("flare-light:auto-synchronize",Lt.boolean(),!0);remoteSynchronized=Bi({source:()=>[this.activeConnection(),this.map.renderedMask()],computation:()=>!1});available=wi(Pi(this.presentationRequest.getAvailability()).pipe(Xn(e=>new ni(t=>(t.next(e.value),e.onchange=()=>t.next(e.value),()=>e.onchange=null)))),{initialValue:!1});connectionPending=nt(!1);connectionTester;constructor(){this.endpoint=Ah(this.#t),this.endpoint.addListener(e=>{if(typeof e=="string"){if(e==="pong")return;console.error("Unexpected message",e)}if(e instanceof ArrayBuffer){let t=$e.deserialize(new Uint8Array(e));if(t.type==="viewport:resize:native"){let{width:i,height:n}=t;this.nativeRemoteSize.set({width:i,height:n});return}if(t.type==="viewport:resize:virtual"){let{width:i,height:n}=t;this.virtualRemoteSize.set({width:i,height:n});return}console.error("Unexpected message",t)}}),vt(()=>this.endpoint.send($e.serialize({type:"background:extent",extent:oo(this.map.mapExtent())?null:this.map.mapExtent()}))),vt(()=>{this.endpoint.send($e.serialize({type:"background:push-view",image:this.map.mapImage()?.buffer||new ArrayBuffer(0)})),this.endpoint.send($e.serialize({type:"background:push-mask",image:new ArrayBuffer(0)}))}),vt(()=>{this.remoteAutoSynchronize()&&(this.endpoint.send($e.serialize({type:"background:push-mask",image:this.map.renderedMask()?.buffer||new ArrayBuffer(0)})),this.remoteSynchronized.set(!0))}),vt(()=>{this.remoteCalibrating()?this.endpoint.send($e.serialize({type:"viewport:calibrate",action:"start"})):this.endpoint.send($e.serialize({type:"viewport:calibrate",action:"commit",calibration:this.remoteCalibration()}))}),this.#t.pipe(gn()).subscribe(()=>{this.nativeRemoteSize.set(void 0),this.virtualRemoteSize.set(void 0)}),Hn(window,"unload").pipe(Mt(()=>!nr()),gn()).subscribe(()=>this.terminate()),navigator.presentation.defaultRequest=this.presentationRequest,f(oi).onDestroy(()=>navigator.presentation.defaultRequest=null),ge(()=>this.reconnect())}synchronize(){this.endpoint.send($e.serialize({type:"background:push-mask",image:this.map.renderedMask()?.buffer||new ArrayBuffer(0)})),this.remoteSynchronized.set(!0)}connect(){this.connectionPending()||(this.connectionPending.set(!0),this.presentationRequest.start().finally(()=>this.connectionPending.set(!1)).then(e=>this.onConnection(e)))}reconnect(){let e=this.#e();!e||this.connectionPending()||(this.connectionPending.set(!0),this.presentationRequest.reconnect(e).finally(()=>this.connectionPending.set(!1)).then(t=>this.onConnection(t)).catch(t=>{throw this.#e.set(void 0),t}))}disconnect(){this.#t.value?.close()}terminate(){this.#t.value?.terminate()}onConnection(e,t=!1){t||this.#e.set(void 0),clearInterval(this.connectionTester);function i(s){s&&(s.terminate(),s.onconnect=null,s.onclose=null,s.onterminate=null,s.onmessage=null)}let n=()=>{i(this.#i),this.#i=void 0},r=()=>{i(this.#t.value),this.#t.value&&this.#t.next(void 0)};if(n(),r(),this.#i=e,e){let s=()=>e===this.#t.value,a=()=>e===this.#i;e.onconnect=()=>{a()&&(this.#e.set(e.id),this.connectionTester=window.setInterval(()=>{e.state==="connected"&&e.send("ping")},250),e.onmessage=()=>{e.onmessage=null,a()&&(clearInterval(this.connectionTester),r(),this.#i=void 0,this.#t.next(e))})},e.onclose=()=>{s()&&r(),a()&&n(),nr()&&this.reconnect()},e.onterminate=()=>{s()&&r(),a()&&n(),(s()||a())&&this.#e.set(void 0)}}return e}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac})};var jx=["settingsPanel"],Gx=["mapCalibrationPanel"],Ux=["buttonPan"],Wx=["buttonDraw"],Hx=["buttonMove"],Xx=["buttonRotate"],Yx=["buttonEraser"],qx=["buttonUndo"],Zx=["buttonRedo"],$x=["buttonSync"],Kx=["view"];function Qx(o,e){if(o&1){let t=Yt();w(0,"div",12)(1,"button",22),H("click",function(){rt(t);let n=X();return st(n.controlMap.loadMapFile())}),w(2,"mat-icon"),z(3,"computer_arrow_up"),E(),z(4," Load Map "),E()()}if(o&2){let t=X();L(),pt("disabled",t.controlMap.mapLoading())}}function Jx(o,e){if(o&1){let t=Yt();w(0,"mat-card",28)(1,"div",29)(2,"button",30,7),H("click",function(){rt(t);let n=X(2);return st(n.drawEraser.set(!n.drawEraser()))}),w(4,"mat-icon"),z(5,"ink_eraser"),E()(),w(6,"mat-slider",31)(7,"input",32),Jn("ngModelChange",function(n){rt(t);let r=X(2);return Qn(r.drawSize,n)||(r.drawSize=n),st(n)}),E()(),w(8,"button",33),H("click",function(){rt(t);let n=X(2);return st(n.draw("reveal"))}),w(9,"mat-icon"),z(10,"visibility"),E()(),w(11,"button",34),H("click",function(){rt(t);let n=X(2);return st(n.draw("conceal"))}),w(12,"mat-icon"),z(13,"visibility_off"),E()(),St(14,"mat-divider",35),w(15,"button",36,8),H("click",function(){rt(t);let n=X(2);return st(n.controlMap.historyCanUndo()&&n.controlMap.history("undo"))}),w(17,"mat-icon"),z(18,"undo"),E()(),w(19,"button",37,9),H("click",function(){rt(t);let n=X(2);return st(n.controlMap.historyCanRedo()&&n.controlMap.history("redo"))}),w(21,"mat-icon"),z(22,"redo"),E()(),St(23,"mat-divider",35),w(24,"button",38),H("click",function(){rt(t);let n=X(2);return st(n.controlMap.readMask())}),w(25,"mat-icon"),z(26,"file_open"),E()(),w(27,"button",39),H("click",function(){rt(t);let n=X(2);return st(n.controlMap.saveMask())}),w(28,"mat-icon"),z(29,"file_save"),E()()()()}if(o&2){let t=X(2);L(2),pt("matRippleUnbounded",!1)("color",t.drawEraser()?"warn":"primary"),L(5),Kn("ngModel",t.drawSize),L(8),pt("matRippleUnbounded",!1)("disabled",!t.controlMap.historyCanUndo()),L(4),pt("matRippleUnbounded",!1)("disabled",!t.controlMap.historyCanRedo())}}function tw(o,e){if(o&1){let t=Yt();w(0,"div",23)(1,"button",24,3),H("click",function(){rt(t);let n=X();return st(n.action.set("pan-view"))}),w(3,"mat-icon"),z(4,"arrow_selector_tool"),E()(),w(5,"button",25,4),H("click",function(){rt(t);let n=X();return st(n.action.set("draw"))}),w(7,"mat-icon"),z(8,"draw"),E()(),w(9,"button",26,5),H("click",function(){rt(t);let n=X();return st(n.controlRemote.connected()&&n.action.set("move-projection"))}),w(11,"mat-icon"),z(12,"trackpad_input"),E()(),w(13,"button",27,6),H("click",function(){rt(t);let n=X();return st(n.controlRemote.connected()&&n.action.set("rotate-projection"))}),w(15,"mat-icon"),z(16,"swipe"),E()()(),ut(17,Jx,30,7,"mat-card",28)}if(o&2){let t=X();L(),pt("matRippleUnbounded",!1)("color",t.actionPanning()?"accent":"primary"),L(4),pt("matRippleUnbounded",!1)("color",t.actionDrawing()?"accent":"primary"),L(4),pt("matRippleUnbounded",!1)("disabled",!t.controlRemote.connected())("color",t.actionDragging()?"accent":"primary"),L(4),pt("matRippleUnbounded",!1)("disabled",!t.controlRemote.connected())("color",t.actionRotating()?"accent":"primary"),L(4),ft(t.actionDrawing()?17:-1)}}function ew(o,e){if(o&1){let t=Yt();w(0,"div",14),z(1),Yd(2,"number"),w(3,"button",40),H("click",function(){rt(t);let n=X();return st(n.controlRemote.remoteZoom.set(1))}),w(4,"mat-icon"),z(5,"undo"),E()()()}if(o&2){let t=X();L(),Xd(" Custom projection zoom currently set to ",qd(2,1,t.controlRemote.remoteZoom()*100,"1.0"),"% ")}}function iw(o,e){o&1&&(w(0,"mat-icon"),z(1,"cast_connected"),E())}function nw(o,e){o&1&&(w(0,"mat-icon"),z(1,"cast"),E())}function ow(o,e){if(o&1){let t=Yt();w(0,"button",41),H("click",function(){rt(t);let n=X();return st(n.controlRemote.connected()?n.controlRemote.terminate():n.controlRemote.connect())}),ut(1,iw,2,0,"mat-icon")(2,nw,2,0,"mat-icon"),E()}if(o&2){let t=X();pt("matTooltip",t.controlRemote.connected()?"Stop Casting":"Cast")("color",t.controlRemote.connected()?"warn":"primary"),L(),ft(t.controlRemote.connected()?1:2)}}function rw(o,e){o&1&&(w(0,"button",17)(1,"mat-icon"),z(2,"link"),E()())}function sw(o,e){if(o&1){let t=Yt();w(0,"button",42,10),H("click",function(){rt(t);let n=X();return st(n.controlRemote.synchronize())}),w(2,"mat-icon"),z(3,"present_to_all"),E()()}if(o&2){let t=X();pt("matRippleUnbounded",!1)("disabled",!t.controlRemote.connected()||t.controlRemote.remoteSynchronized())}}function aw(o,e){if(o&1){let t=Yt();w(0,"div",43)(1,"h3"),z(2,"Flare Settings"),E(),w(3,"div",44)(4,"button",45),H("click",function(){rt(t);let n=X();return st(n.calibrateRemote())}),z(5," Calibrate Projection "),E(),w(6,"button",46),H("click",function(){rt(t);let n=X();return st(n.calibrateMap())}),z(7," Calibrate Map "),E()(),w(8,"div",47)(9,"div",44)(10,"mat-slide-toggle",48),Jn("ngModelChange",function(n){rt(t);let r=X();return Qn(r.controlRemote.remoteAutoSynchronize,n)||(r.controlRemote.remoteAutoSynchronize=n),st(n)}),E(),z(11," Projection Auto-Sync "),E(),w(12,"div",44)(13,"mat-slide-toggle",48),Jn("ngModelChange",function(n){rt(t);let r=X();return Qn(r.viewSnapRotation,n)||(r.viewSnapRotation=n),st(n)}),E(),z(14," Projection Snap Rotation "),E()(),w(15,"div",44)(16,"mat-slider",49)(17,"input",32),Jn("ngModelChange",function(n){rt(t);let r=X();return Qn(r.viewOpacity,n)||(r.viewOpacity=n),st(n)}),E()(),z(18," View Opacity "),E(),w(19,"div",44)(20,"mat-slider",50)(21,"input",32),Jn("ngModelChange",function(n){rt(t);let r=X();return Qn(r.controlRemote.remoteZoom,n)||(r.controlRemote.remoteZoom=n),st(n)}),E()(),z(22," Projection Zoom "),w(23,"button",51),H("click",function(){rt(t);let n=X();return st(n.controlRemote.remoteZoom.set(1))}),w(24,"mat-icon"),z(25,"undo"),E()()()()}if(o&2){let t=X();L(6),pt("disabled",!t.controlMap.mapImage()),L(4),Kn("ngModel",t.controlRemote.remoteAutoSynchronize),L(3),Kn("ngModel",t.viewSnapRotation),L(4),Kn("ngModel",t.viewOpacity),L(4),Kn("ngModel",t.controlRemote.remoteZoom),L(2),pt("disabled",!t.controlRemote.customRemoteZoom())}}function lw(o,e){if(o&1){let t=Yt();w(0,"div",52)(1,"h3",53),z(2,"Calibrate Map"),E(),w(3,"h5",54),z(4,"Select a calibration method from the available options below:"),E(),w(5,"mat-nav-list")(6,"a",55),H("click",function(){rt(t);let n=X();return st(n.mapCalibrationPanelRef==null?null:n.mapCalibrationPanelRef.dismiss("measure"))}),w(7,"span",56),z(8,"Measure Distance"),E(),w(9,"span",57),z(10,"Specify the distance in squares (inches) between two points on your map."),E()(),w(11,"a",55),H("click",function(){rt(t);let n=X();return st(n.mapCalibrationPanelRef==null?null:n.mapCalibrationPanelRef.dismiss("width"))}),w(12,"span",56),z(13,"Specify Width"),E(),w(14,"span",57),z(15," Specify how many squares (inches) your map is wide; Empty space around your map must be taken into account. "),E()(),w(16,"a",55),H("click",function(){rt(t);let n=X();return st(n.mapCalibrationPanelRef==null?null:n.mapCalibrationPanelRef.dismiss("height"))}),w(17,"span",56),z(18,"Specify Height"),E(),w(19,"span",57),z(20," Specify how many squares (inches) your map is tall; Empty space around your map must be taken into account. "),E()(),w(21,"a",55),H("click",function(){rt(t);let n=X();return st(n.mapCalibrationPanelRef==null?null:n.mapCalibrationPanelRef.dismiss("ppi"))}),w(22,"span",56),z(23,"Specify PPI (Pixels per Inch)"),E(),w(24,"span",57),z(25,"Specify how many pixels wide is a square (inch)."),E()()()()}}var jg=class o{settingsPanel=Ht.required("settingsPanel",{read:ri});mapCalibrationPanel=Ht.required("mapCalibrationPanel",{read:ri});buttonPan=Ht("buttonPan",{read:Tt});buttonDraw=Ht("buttonDraw",{read:Tt});buttonMove=Ht("buttonMove",{read:Tt});buttonRotate=Ht("buttonRotate",{read:Tt});buttonEraser=Ht("buttonEraser",{read:Tt});buttonUndo=Ht("buttonUndo",{read:Tt});buttonRedo=Ht("buttonRedo",{read:Tt});buttonSync=Ht("buttonSync",{read:Tt});viewRef=Ht.required("view",{read:q});viewSize=Ds(J(()=>this.viewRef()?.nativeElement));controlRemote=f(qr);controlMap=f(jn);viewResolution=nt(1);mapView=Bi({source:()=>({mapResolution:this.controlMap.mapResolution(),mapHash:this.controlMap.mapHash(),mapExtent:this.controlMap.mapExtent(),viewSize:this.viewSize()}),computation:(e,t)=>{let{mapResolution:i,mapHash:n,mapExtent:r,viewSize:s}=e,a=n!==t?.source.mapHash||i!==t?.source.mapResolution,l,d;if(oo(r))l=24/s.width,d=[l*4,l*3,l*2,l,l/2,l/3,l/4];else{let m={width:ci(r),height:Ci(r)},h=m.width/s.width,u=m.height/s.height,p=h>=u?"width":"height",_=m[p],g=s[p];if(l=p==="width"?h:u,d=[l*1.5,l],_>3){let b=Math.ceil(_*.1);for(let x=_;x>3;x-=b)d.push(x/g);d.push(3/g)}}let c=a?void 0:t?.value;return new Cs({projection:Rs(),constrainRotation:!1,center:c?.getCenter()??[0,0],resolution:c?.getResolution()??l,resolutions:d,extent:r,constrainOnlyCenter:!0,smoothExtentConstraint:!0})}});mapTemporaryLayer=new fo({className:"temporary-render-layer",opacity:0});mapBaseLayer=new fo({className:"render-layer"});mapOverlayLayer=new fo({className:"render-layer"});mapLayerGroup=new bh({opacity:1,layers:[this.mapTemporaryLayer,this.mapOverlayLayer,this.mapBaseLayer]});viewOpacity=an("flare-light:preview-opacity",Lt.number(),.5);viewSnapRotation=an("flare-light:snap-projected-rotation",Lt.boolean(),!1);drawSize=nt(1);drawEraser=nt(!1);drawStyle=J(()=>{let e=this.drawEraser()?"rgba(255, 127, 127, 0.5)":"rgba(255, 255, 255, 0.5)",t=this.drawSize()/this.viewResolution();return new re({image:new pr({radius:t/2,fill:new Wi({color:e})}),stroke:new Ze({color:e,width:t})})});drawInteraction=new Ma({type:"LineString",freehand:!0,style:()=>this.drawStyle()});map=new Ms({controls:pl().extend([new uc({units:"imperial"})]),interactions:fr().extend([this.drawInteraction]),layers:[this.mapLayerGroup]});mapCursor;previewCenter=nt([0,0]);previewRotation=nt(0);action=nt("pan-view");actionPanning=J(()=>this.action()==="pan-view");actionDrawing=J(()=>this.action()==="draw");actionDragging=J(()=>this.action()==="move-projection");actionRotating=J(()=>this.action()==="rotate-projection");dialog=f(ga);bottomSheet=f(ju);settingsPanelRef;mapCalibrationPanelRef;constructor(){let e=f(oi),t=c=>{this.controlMap.mapMaskDirty()&&c.preventDefault()};window.addEventListener("beforeunload",t),e.onDestroy(()=>window.removeEventListener("beforeunload",t)),xi(this.controlMap.mapImage).subscribe(()=>{this.action.set("pan-view"),this.drawSize.set(1),this.drawEraser.set(!1),this.previewCenter.set([0,0]),this.previewRotation.set(0);let c=this.mapView();c.setCenter([0,0]),c.setZoom(1)}),vt(()=>this.drawInteraction.setActive(this.action()==="draw")),vt(c=>{let m=this.mapView(),h=m.on("change:resolution",()=>this.viewResolution.set(m.getResolution()??1));this.viewResolution.set(m.getResolution()??1),c(()=>or(h))}),xi(this.drawStyle).subscribe(()=>this.drawInteraction.changed()),vt(()=>this.map.setTarget(this.viewRef()?.nativeElement)),vt(()=>this.map.setView(this.mapView())),xi(this.viewSize).subscribe(()=>this.map.updateSize()),vt(()=>this.mapBaseLayer.setSource(this.controlMap.mapSourceBase())),vt(c=>{let m=this.controlMap.mapSourceVisibility();if(m){this.mapTemporaryLayer.setSource(m);let h=this.map.once("rendercomplete",()=>{this.mapOverlayLayer.setSource(this.mapTemporaryLayer.getSource()),this.mapTemporaryLayer.setSource(null)});c(()=>or(h))}else this.mapTemporaryLayer.setSource(null),this.mapOverlayLayer.setSource(null)}),e.onDestroy(()=>{this.mapBaseLayer.setSource(null),this.mapTemporaryLayer.setSource(null),this.mapOverlayLayer.setSource(null)}),xi(this.viewOpacity).subscribe(()=>this.map.render()),this.mapOverlayLayer.on("prerender",c=>{let m=c.context;m.globalCompositeOperation="source-over"}),this.mapBaseLayer.on("prerender",c=>{let m=c.context,h=sp(c);h.setStyle(new re({fill:new Wi({color:`rgba(255,255,255,${this.viewOpacity()}`})})),h.drawPolygon(this.controlMap.mapExtentPolygon()),m.globalCompositeOperation="multiply"});let i=this.drawInteraction.on("drawend",({feature:c})=>{let m=c.getGeometry();m&&this.draw(m)}),n=this.drawInteraction.on("drawabort",({feature:c})=>{let m=c.getGeometry();!m||m.getCoordinates().length>2||this.draw(m)});e.onDestroy(()=>{this.map.dispose(),this.mapOverlayLayer.setSource(null),or(i),or(n)});let r=Vg(this.controlRemote.virtualRemoteSize,this.previewCenter,this.previewRotation,J(()=>this.controlRemote.remoteCalibration().resolution)),{previewVectorLayer:s}=Ng(J(()=>this.action()==="move-projection"),J(()=>this.action()==="rotate-projection"),this.viewOpacity,r),[a,l]=Bg(r,J(()=>this.action()==="move-projection"),this.previewCenter,J(()=>this.action()==="rotate-projection"),this.previewRotation,this.viewSnapRotation);this.map.addLayer(s),a.forEach(c=>this.map.addInteraction(c)),this.mapCursor=l,vt(()=>this.controlRemote.endpoint.send($e.serialize({type:"viewport:update",center:this.previewCenter(),rotation:-this.previewRotation()})));let d={Digit1:()=>{this.buttonPan()?.launch({centered:!0}),this.action.set("pan-view")},Digit2:()=>{this.buttonDraw()?.launch({centered:!0}),this.action.set("draw")},Digit3:()=>{this.controlRemote.connected()&&(this.buttonMove()?.launch({centered:!0}),this.action.set("move-projection"))},Digit4:()=>{this.controlRemote.connected()&&(this.buttonRotate()?.launch({centered:!0}),this.action.set("rotate-projection"))},KeyE:()=>{this.actionDrawing()&&(this.buttonEraser()?.launch({centered:!0}),this.drawEraser.set(!this.drawEraser()))},KeyS:()=>{this.buttonSync()?.launch({centered:!0}),this.controlRemote.synchronize()},KeyZ:c=>{if(!c.ctrlKey)return!1;if(!this.actionDrawing())return;let m=c.shiftKey?"redo":"undo";(c.shiftKey?this.buttonRedo():this.buttonUndo())?.launch({centered:!0}),this.controlMap.history(m)},KeyY:c=>{if(!c.ctrlKey)return!1;this.actionDrawing()&&(this.buttonRedo()?.launch({centered:!0}),this.controlMap.history("redo"))}};Hn(document,"keydown").pipe(gn(),Mt(()=>!(this.controlRemote.remoteCalibrating()||!!this.mapCalibrationPanelRef||!!this.settingsPanelRef))).subscribe(c=>{let m=d[c.code];!m||m(c)===!1||(c.preventDefault(),c.stopPropagation())}),e.onDestroy(()=>{this.settingsPanelRef?.dismiss(),this.mapCalibrationPanelRef?.dismiss()})}async openSettings(){if(!this.settingsPanelRef){this.settingsPanelRef=this.bottomSheet.open(this.settingsPanel());try{await es(this.settingsPanelRef.afterDismissed())}finally{this.settingsPanelRef=void 0}}}async calibrateRemote(){if(this.settingsPanelRef?.dismiss(),!this.controlRemote.remoteCalibrating()){this.controlRemote.remoteCalibrating.set(!0);try{await new Promise(l=>setTimeout(l,100));let e=this.controlRemote.remoteSize(),t=e?"diagonal"in e?`${e.diagonal}in`:`${e.width}in x ${e.height}in`:"",i=prompt("Enter calibration parameters (<number>in / <number>in x <number>in",t);if(!i)return;let n=/^\s*(\d+(?:[.,]\d+)?)\s*(?:in)?\s*$/,r=/^\s*(\d+(?:[.,]\d+)?)\s*(?:in)?\s*x\s*(\d+(?:[.,]\d+)?)\s*(?:in)?\s*$/,s=n.exec(i);if(s){this.controlRemote.remoteSize.set({diagonal:parseFloat(s[1])});return}let a=r.exec(i);if(a){this.controlRemote.remoteSize.set({width:parseFloat(a[1]),height:parseFloat(a[2])});return}}finally{this.controlRemote.remoteCalibrating.set(!1)}}}async calibrateMap(){this.settingsPanelRef?.dismiss();let e=this.controlMap.mapImage();if(e&&!this.mapCalibrationPanelRef){this.mapCalibrationPanelRef=this.bottomSheet.open(this.mapCalibrationPanel());try{let t=await es(this.mapCalibrationPanelRef.afterDismissed());if(!t)return;let i=Wt(()=>this.dialog.open(Ta,{data:{mode:t,mapImage:e,current:this.controlMap.mapCalibration()}})),n=await es(i.afterClosed());if(!n)return;this.controlMap.mapCalibration.set(n)}finally{this.mapCalibrationPanelRef=void 0}}}async unloadMap(){confirm("Are you sure you want to unload the map?")&&this.controlMap.unloadMapFile()}draw(e){let t=this.controlMap.mapMask();if(t){if(typeof e=="string")t.context.filter="blur(0px)",t.context.fillStyle=e==="reveal"?"white":"black",t.context.fillRect(0,0,t.canvas.width,t.canvas.height);else{let i=this.controlMap.mapMaskScale()/this.controlMap.mapResolution(),n=.05*i;t.context.filter=`blur(${n}px)`,e.scale(i,-i,[0,0]),e.translate(t.canvas.width/2,t.canvas.height/2),t.render.setStyle(new re({stroke:new Ze({color:this.drawEraser()?"black":"white",width:this.drawSize()*i})})),t.render.drawLineString(e)}this.controlMap.renderRequest.next("draw")}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=it({type:o,selectors:[["ng-component"]],viewQuery:function(t,i){t&1&&qn(i.settingsPanel,jx,5,ri)(i.mapCalibrationPanel,Gx,5,ri)(i.buttonPan,Ux,5,Tt)(i.buttonDraw,Wx,5,Tt)(i.buttonMove,Hx,5,Tt)(i.buttonRotate,Xx,5,Tt)(i.buttonEraser,Yx,5,Tt)(i.buttonUndo,qx,5,Tt)(i.buttonRedo,Zx,5,Tt)(i.buttonSync,$x,5,Tt)(i.viewRef,Kx,5,q),t&2&&fn(11)},features:[It([qr,jn])],decls:21,vars:10,consts:[["view",""],["settingsPanel",""],["mapCalibrationPanel",""],["buttonPan",""],["buttonDraw",""],["buttonMove",""],["buttonRotate",""],["buttonEraser",""],["buttonUndo",""],["buttonRedo",""],["buttonSync",""],[1,"view"],[1,"overlay"],[1,"actions","top-center","vertical"],[1,"actions","bottom-center","vertical",2,"pointer-events","none","display","flex","flex-flow","row"],[1,"actions","top-right","vertical"],["matMiniFab","","matTooltipPosition","before",3,"matTooltip","color"],["matMiniFab","","matTooltip","Projection Auto-Sync Active","matTooltipPosition","before","disableRipple","","color","warn"],["matRipple","","matMiniFab","","matTooltip","(S) Sync Projection","matTooltipPosition","before","disabledInteractive","","color","primary",3,"matRippleUnbounded","disabled"],[1,"actions","bottom-right"],["matMiniFab","","matTooltip","Settings","color","primary",3,"click"],["matMiniFab","","matTooltip","Unload Map","color","warn",3,"click","disabled"],["matFab","","extended","","color","primary",3,"click","disabled"],[2,"display","flex","gap","0.5rem"],["matRipple","","matMiniFab","","matTooltip","(1) Pan",3,"click","matRippleUnbounded","color"],["matRipple","","matMiniFab","","matTooltip","(2) Draw",3,"click","matRippleUnbounded","color"],["matRipple","","matMiniFab","","matTooltip","(3) Move Projection","disabledInteractive","",3,"click","matRippleUnbounded","disabled","color"],["matRipple","","matMiniFab","","matTooltip","(4) Rotate Projection","disabledInteractive","",3,"click","matRippleUnbounded","disabled","color"],["appearance","filled"],[2,"display","flex","align-items","center","gap",".25rem","padding","0 0.25rem"],["matRipple","","matMiniFab","","matTooltip","(E) Toggle Eraser",3,"click","matRippleUnbounded","color"],["min","0.25","max","5","step","0.25","matTooltip","Brush Size",2,"z-index","1"],["matSliderThumb","",3,"ngModelChange","ngModel"],["matMiniFab","","matTooltip","Reveal All","color","primary",3,"click"],["matMiniFab","","matTooltip","Conceal All","color","primary",3,"click"],["vertical",""],["matRipple","","matMiniFab","","matTooltip","(Ctrl+Z) Undo","color","primary","disabledInteractive","",3,"click","matRippleUnbounded","disabled"],["matRipple","","matMiniFab","","matTooltip","(Shift+Ctrl+Z) Redo","color","primary","disabledInteractive","",3,"click","matRippleUnbounded","disabled"],["matMiniFab","","matTooltip","Load view mask","color","primary",3,"click"],["matMiniFab","","matTooltip","Save view mask","color","primary",3,"click"],["matMiniFab","","matTooltip","Reset","color","warn",2,"pointer-events","initial",3,"click"],["matMiniFab","","matTooltipPosition","before",3,"click","matTooltip","color"],["matRipple","","matMiniFab","","matTooltip","(S) Sync Projection","matTooltipPosition","before","disabledInteractive","","color","primary",3,"click","matRippleUnbounded","disabled"],[1,"settings-panel"],[1,"settings-row"],["matButton","filled",3,"click"],["matButton","filled",3,"click","disabled"],[1,"settings-row","vertical"],["color","primary",3,"ngModelChange","ngModel"],["min","0.25","max","0.75","step","0.05"],["min","0.1","max","2","step","0.1"],["matMiniFab","","matTooltip","Reset","color","warn",3,"click","disabled"],[1,"map-calibration-panel"],[1,"title"],[1,"sub-title"],["mat-list-item","",3,"click"],["matListItemTitle",""],["matLine",""]],template:function(t,i){if(t&1){let n=Yt();St(0,"div",11,0),ut(2,Qx,5,1,"div",12),w(3,"div",13),ut(4,tw,18,11),E(),ut(5,ew,6,4,"div",14),w(6,"div",15),ut(7,ow,3,3,"button",16),ut(8,rw,3,0,"button",17)(9,sw,4,2,"button",18),E(),w(10,"div",19)(11,"button",20),H("click",function(){return rt(n),st(i.openSettings())}),w(12,"mat-icon"),z(13,"settings"),E()(),w(14,"button",21),H("click",function(){return rt(n),st(i.unloadMap())}),w(15,"mat-icon"),z(16,"present_to_all"),E()()(),ke(17,aw,26,6,"ng-template",null,1,to)(19,lw,26,0,"ng-template",null,2,to)}t&2&&(ir("cursor",i.mapCursor()),$("interactive",!!i.controlMap.mapImage()),L(2),ft(i.controlMap.mapImage()?-1:2),L(2),ft(i.controlMap.mapImage()?4:-1),L(),ft(i.controlRemote.customRemoteZoom()?5:-1),L(2),ft(i.controlRemote.available()?7:-1),L(),ft(i.controlRemote.remoteAutoSynchronize()?8:9),L(6),pt("disabled",!i.controlMap.mapImage()))},dependencies:[lu,_o,Ws,El,ha,rf,vf,nf,rm,nc,xf,ac,of,wf,Tt,Cf,Ef,cc,dc,im],styles:[".view[_ngcontent-%COMP%]{width:100%;height:100%}.overlay[_ngcontent-%COMP%]{position:fixed;z-index:10;top:50%;left:50%;transform:translate(-50%,-50%)}mat-divider[_ngcontent-%COMP%]{margin:0 .5rem}.view[_ngcontent-%COMP%]:not(.interactive){visibility:hidden}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.actions.vertical[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]{position:fixed;z-index:10}.actions.top-center[_ngcontent-%COMP%]{top:1rem;left:50%;transform:translate(-50%)}.actions.bottom-center[_ngcontent-%COMP%]{bottom:1rem;left:50%;transform:translate(-50%)}.actions.left-center[_ngcontent-%COMP%]{left:1rem;top:50%;transform:translateY(-50%)}.actions.right-center[_ngcontent-%COMP%]{right:1rem;top:50%;transform:translateY(-50%)}.actions.top-left[_ngcontent-%COMP%]{top:1rem;left:1rem}.actions.top-right[_ngcontent-%COMP%]{top:1rem;right:1rem}.actions.bottom-left[_ngcontent-%COMP%]{bottom:1rem;left:1rem}.actions.bottom-right[_ngcontent-%COMP%]{bottom:1rem;right:1rem}.settings-panel[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-flow:column;gap:1rem;align-items:center}.settings-panel[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{display:flex;flex-flow:row;gap:.5rem;align-items:center}.settings-panel[_ngcontent-%COMP%]   .settings-row.vertical[_ngcontent-%COMP%]{flex-flow:column;align-items:flex-start}.map-calibration-panel[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center}.map-calibration-panel[_ngcontent-%COMP%] > .sub-title[_ngcontent-%COMP%]{margin-top:-1rem;margin-bottom:1rem}.map-calibration-panel[_ngcontent-%COMP%] > mat-nav-list[_ngcontent-%COMP%]{width:100%}.map-calibration-panel[_ngcontent-%COMP%] > mat-nav-list[_ngcontent-%COMP%]   .size-calibration[_ngcontent-%COMP%]{display:grid;gap:.25rem;grid-template-rows:auto;grid-template-columns:50% 50%}"]})};export{jg as ControlPageComponent};
